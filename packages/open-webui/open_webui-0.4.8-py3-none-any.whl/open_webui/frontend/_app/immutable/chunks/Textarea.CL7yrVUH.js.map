{"version":3,"file":"Textarea.CL7yrVUH.js","sources":["../../../../../../src/lib/components/common/Textarea.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { onMount, tick } from 'svelte';\n\n\texport let value = '';\n\texport let placeholder = '';\n\texport let className =\n\t\t'w-full rounded-lg px-3 py-2 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-none resize-none h-full';\n\n\tlet textareaElement;\n\n\t$: if (textareaElement) {\n\t\tif (textareaElement.innerText !== value && value !== '') {\n\t\t\ttextareaElement.innerText = value ?? '';\n\t\t}\n\t}\n\n\t// Adjust height on mount and after setting the element.\n\tonMount(async () => {\n\t\tawait tick();\n\t});\n\n\t// Handle paste event to ensure only plaintext is pasted\n\tfunction handlePaste(event: ClipboardEvent) {\n\t\tevent.preventDefault(); // Prevent the default paste action\n\t\tconst clipboardData = event.clipboardData?.getData('text/plain'); // Get plaintext from clipboard\n\n\t\t// Insert plaintext into the textarea\n\t\tdocument.execCommand('insertText', false, clipboardData);\n\t}\n</script>\n\n<div\n\tcontenteditable=\"true\"\n\tbind:this={textareaElement}\n\tclass=\"{className} whitespace-pre-wrap relative {value\n\t\t? !value.trim()\n\t\t\t? 'placeholder'\n\t\t\t: ''\n\t\t: 'placeholder'}\"\n\tstyle=\"field-sizing: content; -moz-user-select: text !important;\"\n\ton:input={() => {\n\t\tconst text = textareaElement.innerText;\n\t\tif (text === '\\n') {\n\t\t\tvalue = '';\n\t\t\treturn;\n\t\t}\n\n\t\tvalue = text;\n\t}}\n\ton:paste={handlePaste}\n\tdata-placeholder={placeholder}\n/>\n\n<style>\n\t.placeholder::before {\n\t\t/* abolute */\n\t\tposition: absolute;\n\t\tcontent: attr(data-placeholder);\n\t\tcolor: #adb5bd;\n\t\toverflow: hidden;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-box-orient: vertical;\n\t\t-webkit-line-clamp: 1;\n\t\tpointer-events: none;\n\t\ttouch-action: none;\n\t}\n</style>\n"],"names":["attr","div","div_class_value","ctx","insert_hydration","target","anchor","handlePaste","dirty","event","clipboardData","_a","value","$$props","placeholder","className","textareaElement","onMount","tick","$$value","text","$$invalidate"],"mappings":"2XAkCSA,EAAAC,EAAA,QAAAC,EAAAC,EAAyC,CAAA,EAAA,kCAAAA,EAAA,CAAA,GAC7CA,EAAM,CAAA,EAAA,KACN,EACA,GACD,eAAa,gBAAA,wFAYEA,EAAW,CAAA,CAAA,UAnB9BC,EAoBCC,EAAAJ,EAAAK,CAAA,+CAFUC,CAAW,mBAfbC,EAAA,GAAAN,KAAAA,EAAAC,EAAyC,CAAA,EAAA,kCAAAA,EAAA,CAAA,GAC7CA,EAAM,CAAA,EAAA,KACN,EACA,GACD,eAAa,8DAYEA,EAAW,CAAA,CAAA,wDA5BpBI,EAAYE,EAAA,OACpBA,EAAM,eAAA,QACAC,GAAgBC,EAAAF,EAAM,gBAAN,YAAAE,EAAqB,QAAQ,cAGnD,SAAS,YAAY,aAAc,GAAOD,CAAa,wBAxB7C,MAAAE,EAAQ,EAAA,EAAAC,GACR,YAAAC,EAAc,EAAA,EAAAD,GACd,UAAAE,EACV,oHAAA,EAAAF,EAEGG,EASJC,EAAA,SAAA,CACO,MAAAC,EAAA,6CAeIF,EAAeG,qCAQnBC,EAAOJ,EAAgB,UACzB,GAAAI,IAAS;AAAA,EAAI,CAChBC,EAAA,EAAAT,EAAQ,EAAE,SAIXS,EAAA,EAAAT,EAAQQ,CAAI,8JArCNJ,GACFA,EAAgB,YAAcJ,GAASA,IAAU,IACpDS,EAAA,EAAAL,EAAgB,UAAYJ,GAAS,GAAAI,CAAA"}