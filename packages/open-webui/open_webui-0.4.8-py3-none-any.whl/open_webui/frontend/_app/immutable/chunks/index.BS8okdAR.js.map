{"version":3,"file":"index.BS8okdAR.js","sources":["../../../../../../node_modules/bits-ui/dist/bits/menu/components/menu-sub.svelte","../../../../../../node_modules/bits-ui/dist/bits/menu/components/menu-sub-content.svelte","../../../../../../node_modules/bits-ui/dist/bits/menu/components/menu-sub-trigger.svelte","../../../../../../src/lib/components/icons/ArchiveBox.svelte","../../../../../../src/lib/components/layout/Sidebar/UserMenu.svelte","../../../../../../src/lib/components/chat/Tags.svelte","../../../../../../src/lib/components/icons/Link.svelte","../../../../../../src/lib/components/chat/ShareChatModal.svelte","../../../../../../src/lib/apis/memories/index.ts"],"sourcesContent":["<script>import { derived } from \"svelte/store\";\nimport { setSubMenuCtx } from \"../ctx.js\";\nexport let disabled = void 0;\nexport let open = void 0;\nexport let onOpenChange = void 0;\nconst {\n  updateOption,\n  ids,\n  states: { subOpen }\n} = setSubMenuCtx({\n  disabled,\n  onOpenChange: ({ next }) => {\n    if (open !== next) {\n      onOpenChange?.(next);\n      open = next;\n    }\n    return next;\n  }\n});\nconst idValues = derived([ids.menu, ids.trigger], ([$menuId, $triggerId]) => ({\n  menu: $menuId,\n  trigger: $triggerId\n}));\n$:\n  open !== void 0 && subOpen.set(open);\n$:\n  updateOption(\"disabled\", disabled);\n</script>\n\n<slot subIds={$idValues} />\n","<script>import { melt } from \"@melt-ui/svelte\";\nimport { createDispatcher } from \"../../../internal/index.js\";\nimport { getSubmenuCtx, updateSubPositioning } from \"../ctx.js\";\nexport let transition = void 0;\nexport let transitionConfig = void 0;\nexport let inTransition = void 0;\nexport let inTransitionConfig = void 0;\nexport let outTransition = void 0;\nexport let outTransitionConfig = void 0;\nexport let asChild = false;\nexport let id = void 0;\nexport let side = \"right\";\nexport let align = \"start\";\nexport let sideOffset = 0;\nexport let alignOffset = 0;\nexport let collisionPadding = 8;\nexport let avoidCollisions = true;\nexport let collisionBoundary = void 0;\nexport let sameWidth = false;\nexport let fitViewport = false;\nexport let strategy = \"absolute\";\nexport let overlap = false;\nexport let el = void 0;\nconst {\n  elements: { subMenu },\n  states: { subOpen },\n  ids,\n  getAttrs\n} = getSubmenuCtx();\nconst dispatch = createDispatcher();\nconst attrs = getAttrs(\"sub-content\");\n$:\n  if (id) {\n    ids.menu.set(id);\n  }\n$:\n  builder = $subMenu;\n$:\n  Object.assign(builder, attrs);\n$:\n  updateSubPositioning({\n    side,\n    align,\n    sideOffset,\n    alignOffset,\n    collisionPadding,\n    avoidCollisions,\n    collisionBoundary,\n    sameWidth,\n    fitViewport,\n    strategy,\n    overlap\n  });\n</script>\n\n{#if asChild && $subOpen}\n\t<slot {builder} />\n{:else if transition && $subOpen}\n\t<div\n\t\tbind:this={el}\n\t\ttransition:transition={transitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-focusout={dispatch}\n\t\ton:m-keydown={dispatch}\n\t\ton:m-pointermove={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if inTransition && outTransition && $subOpen}\n\t<div\n\t\tbind:this={el}\n\t\tin:inTransition={inTransitionConfig}\n\t\tout:outTransition={outTransitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-focusout={dispatch}\n\t\ton:m-keydown={dispatch}\n\t\ton:m-pointermove={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if inTransition && $subOpen}\n\t<div\n\t\tbind:this={el}\n\t\tin:inTransition={inTransitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-focusout={dispatch}\n\t\ton:m-keydown={dispatch}\n\t\ton:m-pointermove={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if outTransition && $subOpen}\n\t<div\n\t\tbind:this={el}\n\t\tout:outTransition={outTransitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-focusout={dispatch}\n\t\ton:m-keydown={dispatch}\n\t\ton:m-pointermove={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if $subOpen}\n\t<div\n\t\tbind:this={el}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-focusout={dispatch}\n\t\ton:m-keydown={dispatch}\n\t\ton:m-pointermove={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{/if}\n","<script>import { melt } from \"@melt-ui/svelte\";\nimport { disabledAttrs } from \"../../../internal/index.js\";\nimport { getSubTrigger } from \"../ctx.js\";\nimport { createDispatcher } from \"../../../internal/events.js\";\nexport let disabled = false;\nexport let asChild = false;\nexport let id = void 0;\nexport let el = void 0;\nconst {\n  elements: { subTrigger },\n  ids,\n  getAttrs,\n  options\n} = getSubTrigger();\nconst { disabled: disabledStore } = options;\nconst dispatch = createDispatcher();\n$:\n  if (id) {\n    ids.trigger.set(id);\n  }\n$:\n  builder = $subTrigger;\n$:\n  attrs = {\n    ...getAttrs(\"sub-trigger\"),\n    ...disabledAttrs(disabled || $disabledStore)\n  };\n$:\n  Object.assign(builder, attrs);\n</script>\n\n{#if asChild}\n\t<slot {builder} />\n{:else}\n\t<div\n\t\tbind:this={el}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-click={dispatch}\n\t\ton:m-focusin={dispatch}\n\t\ton:m-focusout={dispatch}\n\t\ton:m-keydown={dispatch}\n\t\ton:m-pointerleave={dispatch}\n\t\ton:m-pointermove={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{/if}\n","<script lang=\"ts\">\n\texport let className = 'size-3.5';\n\texport let strokeWidth = '2.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport { DropdownMenu } from 'bits-ui';\n\timport { createEventDispatcher, getContext, onMount } from 'svelte';\n\n\timport { flyAndScale } from '$lib/utils/transitions';\n\timport { goto } from '$app/navigation';\n\timport ArchiveBox from '$lib/components/icons/ArchiveBox.svelte';\n\timport { showSettings, activeUserCount, USAGE_POOL, mobile, showSidebar } from '$lib/stores';\n\timport { fade, slide } from 'svelte/transition';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport { userSignOut } from '$lib/apis/auths';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\texport let role = '';\n\texport let className = 'max-w-[240px]';\n\n\tconst dispatch = createEventDispatcher();\n</script>\n\n<DropdownMenu.Root\n\tbind:open={show}\n\tonOpenChange={(state) => {\n\t\tdispatch('change', state);\n\t}}\n>\n\t<DropdownMenu.Trigger>\n\t\t<slot />\n\t</DropdownMenu.Trigger>\n\n\t<slot name=\"content\">\n\t\t<DropdownMenu.Content\n\t\t\tclass=\"w-full {className} text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary\"\n\t\t\tsideOffset={8}\n\t\t\tside=\"bottom\"\n\t\t\talign=\"start\"\n\t\t\ttransition={(e) => fade(e, { duration: 100 })}\n\t\t>\n\t\t\t<button\n\t\t\t\tclass=\"flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition\"\n\t\t\t\ton:click={async () => {\n\t\t\t\t\tawait showSettings.set(true);\n\t\t\t\t\tshow = false;\n\n\t\t\t\t\tif ($mobile) {\n\t\t\t\t\t\tshowSidebar.set(false);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\td=\"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\td=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\" self-center truncate\">{$i18n.t('Settings')}</div>\n\t\t\t</button>\n\n\t\t\t<button\n\t\t\t\tclass=\"flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdispatch('show', 'archived-chat');\n\t\t\t\t\tshow = false;\n\n\t\t\t\t\tif ($mobile) {\n\t\t\t\t\t\tshowSidebar.set(false);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t<ArchiveBox className=\"size-5\" strokeWidth=\"1.5\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\" self-center truncate\">{$i18n.t('Archived Chats')}</div>\n\t\t\t</button>\n\n\t\t\t{#if role === 'admin'}\n\t\t\t\t<a\n\t\t\t\t\tclass=\"flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition\"\n\t\t\t\t\thref=\"/playground\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tshow = false;\n\n\t\t\t\t\t\tif ($mobile) {\n\t\t\t\t\t\t\tshowSidebar.set(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"size-5\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\td=\"M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\" self-center truncate\">{$i18n.t('Playground')}</div>\n\t\t\t\t</a>\n\n\t\t\t\t<a\n\t\t\t\t\tclass=\"flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition\"\n\t\t\t\t\thref=\"/admin\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\tshow = false;\n\n\t\t\t\t\t\tif ($mobile) {\n\t\t\t\t\t\t\tshowSidebar.set(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\td=\"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\" self-center truncate\">{$i18n.t('Admin Panel')}</div>\n\t\t\t\t</a>\n\t\t\t{/if}\n\n\t\t\t<hr class=\" border-gray-50 dark:border-gray-850 my-1 p-0\" />\n\n\t\t\t<button\n\t\t\t\tclass=\"flex rounded-md py-2 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition\"\n\t\t\t\ton:click={async () => {\n\t\t\t\t\tawait userSignOut();\n\t\t\t\t\tlocalStorage.removeItem('token');\n\t\t\t\t\tlocation.href = '/auth';\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div class=\" self-center mr-3\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z\"\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z\"\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<div class=\" self-center truncate\">{$i18n.t('Sign Out')}</div>\n\t\t\t</button>\n\n\t\t\t{#if $activeUserCount}\n\t\t\t\t<hr class=\" border-gray-50 dark:border-gray-850 my-1 p-0\" />\n\n\t\t\t\t<Tooltip\n\t\t\t\t\tcontent={$USAGE_POOL && $USAGE_POOL.length > 0\n\t\t\t\t\t\t? `${$i18n.t('Running')}: ${$USAGE_POOL.join(', ')} ✨`\n\t\t\t\t\t\t: ''}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex rounded-md py-1.5 px-3 text-xs gap-2.5 items-center\">\n\t\t\t\t\t\t<div class=\" flex items-center\">\n\t\t\t\t\t\t\t<span class=\"relative flex size-2\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclass=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"relative inline-flex rounded-full size-2 bg-green-500\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\" \">\n\t\t\t\t\t\t\t<span class=\"\">\n\t\t\t\t\t\t\t\t{$i18n.t('Active Users')}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class=\" font-semibold\">\n\t\t\t\t\t\t\t\t{$activeUserCount}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Tooltip>\n\t\t\t{/if}\n\n\t\t\t<!-- <DropdownMenu.Item class=\"flex items-center px-3 py-2 text-sm \">\n\t\t\t\t<div class=\"flex items-center\">Profile</div>\n\t\t\t</DropdownMenu.Item> -->\n\t\t</DropdownMenu.Content>\n\t</slot>\n</DropdownMenu.Root>\n","<script>\n\timport {\n\t\taddTagById,\n\t\tdeleteTagById,\n\t\tgetAllTags,\n\t\tgetChatList,\n\t\tgetChatListByTagName,\n\t\tgetTagsById,\n\t\tupdateChatById\n\t} from '$lib/apis/chats';\n\timport {\n\t\ttags as _tags,\n\t\tchats,\n\t\tpinnedChats,\n\t\tcurrentChatPage,\n\t\tscrollPaginationEnabled\n\t} from '$lib/stores';\n\timport { createEventDispatcher, onMount } from 'svelte';\n\n\tconst dispatch = createEventDispatcher();\n\n\timport Tags from '../common/Tags.svelte';\n\timport { toast } from 'svelte-sonner';\n\n\texport let chatId = '';\n\tlet tags = [];\n\n\tconst getTags = async () => {\n\t\treturn await getTagsById(localStorage.token, chatId).catch(async (error) => {\n\t\t\treturn [];\n\t\t});\n\t};\n\n\tconst addTag = async (tagName) => {\n\t\tconst res = await addTagById(localStorage.token, chatId, tagName).catch(async (error) => {\n\t\t\ttoast.error(error);\n\t\t\treturn null;\n\t\t});\n\t\tif (!res) {\n\t\t\treturn;\n\t\t}\n\n\t\ttags = await getTags();\n\t\tawait updateChatById(localStorage.token, chatId, {\n\t\t\ttags: tags\n\t\t});\n\n\t\tawait _tags.set(await getAllTags(localStorage.token));\n\t\tdispatch('add', {\n\t\t\tname: tagName\n\t\t});\n\t};\n\n\tconst deleteTag = async (tagName) => {\n\t\tconst res = await deleteTagById(localStorage.token, chatId, tagName);\n\t\ttags = await getTags();\n\t\tawait updateChatById(localStorage.token, chatId, {\n\t\t\ttags: tags\n\t\t});\n\n\t\tawait _tags.set(await getAllTags(localStorage.token));\n\t\tdispatch('delete', {\n\t\t\tname: tagName\n\t\t});\n\t};\n\n\tonMount(async () => {\n\t\tif (chatId) {\n\t\t\ttags = await getTags();\n\t\t}\n\t});\n</script>\n\n<Tags\n\t{tags}\n\ton:delete={(e) => {\n\t\tdeleteTag(e.detail);\n\t}}\n\ton:add={(e) => {\n\t\taddTag(e.detail);\n\t}}\n/>\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n</script>\n\n<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" fill=\"currentColor\" class={className}>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\td=\"M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z\"\n\t\tclip-rule=\"evenodd\"\n\t/>\n\t<path\n\t\tfill-rule=\"evenodd\"\n\t\td=\"M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z\"\n\t\tclip-rule=\"evenodd\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport { getContext, onMount } from 'svelte';\n\timport { models, config } from '$lib/stores';\n\n\timport { toast } from 'svelte-sonner';\n\timport { deleteSharedChatById, getChatById, shareChatById } from '$lib/apis/chats';\n\timport { copyToClipboard } from '$lib/utils';\n\n\timport Modal from '../common/Modal.svelte';\n\timport Link from '../icons/Link.svelte';\n\n\texport let chatId;\n\n\tlet chat = null;\n\tlet shareUrl = null;\n\tconst i18n = getContext('i18n');\n\n\tconst shareLocalChat = async () => {\n\t\tconst _chat = chat;\n\n\t\tconst sharedChat = await shareChatById(localStorage.token, chatId);\n\t\tshareUrl = `${window.location.origin}/s/${sharedChat.id}`;\n\t\tconsole.log(shareUrl);\n\t\tchat = await getChatById(localStorage.token, chatId);\n\n\t\treturn shareUrl;\n\t};\n\n\tconst shareChat = async () => {\n\t\tconst _chat = chat.chat;\n\t\tconsole.log('share', _chat);\n\n\t\ttoast.success($i18n.t('Redirecting you to OpenWebUI Community'));\n\t\tconst url = 'https://openwebui.com';\n\t\t// const url = 'http://localhost:5173';\n\n\t\tconst tab = await window.open(`${url}/chats/upload`, '_blank');\n\t\twindow.addEventListener(\n\t\t\t'message',\n\t\t\t(event) => {\n\t\t\t\tif (event.origin !== url) return;\n\t\t\t\tif (event.data === 'loaded') {\n\t\t\t\t\ttab.postMessage(\n\t\t\t\t\t\tJSON.stringify({\n\t\t\t\t\t\t\tchat: _chat,\n\t\t\t\t\t\t\tmodels: $models.filter((m) => _chat.models.includes(m.id))\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t'*'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t};\n\n\texport let show = false;\n\n\tconst isDifferentChat = (_chat) => {\n\t\tif (!chat) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!_chat) {\n\t\t\treturn false;\n\t\t}\n\t\treturn chat.id !== _chat.id || chat.share_id !== _chat.share_id;\n\t};\n\n\t$: if (show) {\n\t\t(async () => {\n\t\t\tif (chatId) {\n\t\t\t\tconst _chat = await getChatById(localStorage.token, chatId);\n\t\t\t\tif (isDifferentChat(_chat)) {\n\t\t\t\t\tchat = _chat;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tchat = null;\n\t\t\t\tconsole.log(chat);\n\t\t\t}\n\t\t})();\n\t}\n</script>\n\n<Modal bind:show size=\"md\">\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-0.5\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Share Chat')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t{#if chat}\n\t\t\t<div class=\"px-5 pt-4 pb-5 w-full flex flex-col justify-center\">\n\t\t\t\t<div class=\" text-sm dark:text-gray-300 mb-1\">\n\t\t\t\t\t{#if chat.share_id}\n\t\t\t\t\t\t<a href=\"/s/{chat.share_id}\" target=\"_blank\"\n\t\t\t\t\t\t\t>{$i18n.t('You have shared this chat')}\n\t\t\t\t\t\t\t<span class=\" underline\">{$i18n.t('before')}</span>.</a\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{$i18n.t('Click here to')}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"underline\"\n\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\tconst res = await deleteSharedChatById(localStorage.token, chatId);\n\n\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\tchat = await getChatById(localStorage.token, chatId);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>{$i18n.t('delete this link')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{$i18n.t('and create a new shared link.')}\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{$i18n.t(\n\t\t\t\t\t\t\t\"Messages you send after creating your link won't be shared. Users with the URL will be able to view the shared chat.\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"flex justify-end\">\n\t\t\t\t\t<div class=\"flex flex-col items-end space-x-1 mt-1.5\">\n\t\t\t\t\t\t<div class=\"flex gap-1\">\n\t\t\t\t\t\t\t{#if $config?.features.enable_community_sharing}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\" self-center px-3.5 py-2 rounded-xl text-sm font-medium bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-white\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tshareChat();\n\t\t\t\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Share to OpenWebUI Community')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\" self-center flex items-center gap-1 px-3.5 py-2 rounded-xl text-sm font-medium bg-emerald-600 hover:bg-emerald-500 text-white\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tid=\"copy-and-share-chat-button\"\n\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\tconst isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n\t\t\t\t\t\t\t\t\tif (isSafari) {\n\t\t\t\t\t\t\t\t\t\t// Oh, Safari, you're so special, let's give you some extra love and attention\n\t\t\t\t\t\t\t\t\t\tconsole.log('isSafari');\n\n\t\t\t\t\t\t\t\t\t\tconst getUrlPromise = async () => {\n\t\t\t\t\t\t\t\t\t\t\tconst url = await shareLocalChat();\n\t\t\t\t\t\t\t\t\t\t\treturn new Blob([url], { type: 'text/plain' });\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\tnavigator.clipboard\n\t\t\t\t\t\t\t\t\t\t\t.write([\n\t\t\t\t\t\t\t\t\t\t\t\tnew ClipboardItem({\n\t\t\t\t\t\t\t\t\t\t\t\t\t'text/plain': getUrlPromise()\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('Async: Copying to clipboard was successful!');\n\t\t\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.error('Async: Could not copy text: ', error);\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tcopyToClipboard(await shareLocalChat());\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\ttoast.success($i18n.t('Copied shared chat URL to clipboard!'));\n\t\t\t\t\t\t\t\t\tshow = false;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Link />\n\n\t\t\t\t\t\t\t\t{#if chat.share_id}\n\t\t\t\t\t\t\t\t\t{$i18n.t('Update and Copy Link')}\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t{$i18n.t('Copy Link')}\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n</Modal>\n","import { WEBUI_API_BASE_URL } from '$lib/constants';\n\nexport const getMemories = async (token: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/memories/`, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const addNewMemory = async (token: string, content: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/memories/add`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tcontent: content\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const updateMemoryById = async (token: string, id: string, content: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/memories/${id}/update`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tcontent: content\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const queryMemory = async (token: string, content: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/memories/query`, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tcontent: content\n\t\t})\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const deleteMemoryById = async (token: string, id: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/memories/${id}`, {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n\nexport const deleteMemoriesByUserId = async (token: string) => {\n\tlet error = null;\n\n\tconst res = await fetch(`${WEBUI_API_BASE_URL}/memories/delete/user`, {\n\t\tmethod: 'DELETE',\n\t\theaders: {\n\t\t\tAccept: 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\tauthorization: `Bearer ${token}`\n\t\t}\n\t})\n\t\t.then(async (res) => {\n\t\t\tif (!res.ok) throw await res.json();\n\t\t\treturn res.json();\n\t\t})\n\t\t.then((json) => {\n\t\t\treturn json;\n\t\t})\n\t\t.catch((err) => {\n\t\t\terror = err.detail;\n\n\t\t\tconsole.log(err);\n\t\t\treturn null;\n\t\t});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\n\treturn res;\n};\n"],"names":["ctx","disabled","$$props","open","onOpenChange","updateOption","ids","subOpen","setSubMenuCtx","next","$$invalidate","idValues","derived","$menuId","$triggerId","div_levels","insert_hydration","target","div","anchor","transition","transitionConfig","inTransition","inTransitionConfig","outTransition","outTransitionConfig","asChild","id","side","align","sideOffset","alignOffset","collisionPadding","avoidCollisions","collisionBoundary","sameWidth","fitViewport","strategy","overlap","el","subMenu","getAttrs","getSubmenuCtx","dispatch","createDispatcher","attrs","$$value","builder","$subMenu","updateSubPositioning","subTrigger","options","getSubTrigger","disabledStore","$subTrigger","disabledAttrs","$disabledStore","svg","append_hydration","path","className","strokeWidth","a0","div0","div1","a1","div2","div3","set_data","t1","t1_value","t4","t4_value","hr","dirty","tooltip_changes","span3","span4","t2","t2_value","if_block0","create_if_block_1","create_if_block","button0","button1","button2","div4","div5","t9","t9_value","i18n","getContext","show","role","createEventDispatcher","showSettings","$mobile","showSidebar","userSignOut","func","e","fade","state","value","chatId","tags","getTags","getTagsById","error","addTag","tagName","addTagById","toast","updateChatById","_tags","getAllTags","deleteTag","deleteTagById","onMount","path0","path1","create_if_block_3","_a","create_if_block_2","button","t","t_value","attr","a","a_href_value","span","t0","t0_value","t5","t5_value","t7","t7_value","chat","shareUrl","shareLocalChat","sharedChat","shareChatById","getChatById","shareChat","_chat","$i18n","url","tab","event","$models","m","isDifferentChat","deleteSharedChatById","getUrlPromise","copyToClipboard","getMemories","token","res","WEBUI_API_BASE_URL","err","addNewMemory","content","updateMemoryById","queryMemory","deleteMemoryById","json","deleteMemoriesByUserId"],"mappings":"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","x_google_ignoreList":[0,1,2]}