import{_ as Se}from"./CVZZi5k6.js";import{_ as $e,a as Re,b as je}from"./KCoxLRpc.js";import{h as F,i as me,j as y,r as T,k as q,l as fe,m as pe,o as l,c as f,b as v,F as A,n as ge,q as Le,t as he,s as Te,v as R,w as U,d as s,x as ne,y as be,z as Ue,A as ze,B as ye,C as B,D as o,E as c,G as N,H as Ee,I as ve,J as Oe,K as Me,P as W,L as ie,M as oe,N as Be,O as Ie,Q as De,R as Pe,S as Ne,T as We,U as qe}from"./CzO8hhlE.js";import{r as Ae,_ as Fe,a as He,b as Je,c as Ge}from"./l3bIp9AR.js";import{_ as Qe}from"./HzsukctR.js";import{T as le,l as ue,d as de,s as K,_ as Xe}from"./BstgovJp.js";import{_ as Ye}from"./BLvHhMmn.js";import{u as Ze}from"./JSpMHAn8.js";import"./D1544yca.js";import"./ConLRnEa.js";import"./8TqtlFIT.js";const ce={width:800,height:400,priceScale:{borderColor:"rgba(197, 203, 206, 1)"},timeScale:{borderColor:"rgba(197, 203, 206, 1)",timeVisible:!0,secondsVisible:!1}},Ke={chart:{layout:{background:{color:"#ffffff"},textColor:"rgba(33, 56, 77, 1)"},grid:{vertLines:{color:"#f1f1f1",visible:!0},horzLines:{color:"#f1f1f1",visible:!0}},priceScale:{borderColor:"rgba(197, 203, 206, 0.6)"},timeScale:{borderColor:"rgba(197, 203, 206, 0.6)",timeVisible:!0,secondsVisible:!1}}},et={chart:{layout:{background:{color:"#333333"},textColor:"#D1D5DB"},grid:{vertLines:{color:"#525252",visible:!0},horzLines:{color:"#525252",visible:!0}},priceScale:{borderColor:"#525252"},timeScale:{borderColor:"#525252",timeVisible:!0,secondsVisible:!1}}},tt={class:"mt-2"},st={class:"ml-2"},ot=F({__name:"EquityCurve",props:{data:{}},setup(z){const r=me(),i=y(()=>r.value),h=T();let m=null,n=[];const u=z;q(u.data,g=>{}),q(i,g=>{k(g)}),fe(async()=>{await p()});async function p(){ce.width=h.value.clientWidth,m=le(h.value,ce);for(const g of u.data){const j=m.addLineSeries({lineWidth:2});j.setData(g.data),n.push(j)}m.timeScale().fitContent(),k(i.value)}pe(()=>{V()});function V(){m!==null&&(m.remove(),m=null),n&&(n=[])}function k(g){m===null||n===null||m.applyOptions(g==="light"?Ke.chart:et.chart)}return(g,j)=>(l(),f(A,null,[v("div",{ref_key:"chartContainer",ref:h,class:"rounded overflow-hidden border-2 border-gray-100 dark:border-gray-600"},null,512),v("div",tt,[(l(!0),f(A,null,ge(g.data,C=>(l(),f("span",{key:C.name,class:"text-xs mr-2 rounded bg-white dark:bg-gray-700 p-1"},[v("span",{class:"inline-block",style:Le({backgroundColor:C.color,width:"25px",height:"10px"})},null,4),v("span",st,he(C.name),1)]))),128))])],64))}}),lt={class:"flex items-center justify-between"},rt=F({__name:"FullscreenModal",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(z){const r=Te(z,"modelValue");return(i,h)=>{const m=be,n=Ue,u=ze;return l(),R(u,{modelValue:r.value,"onUpdate:modelValue":h[1]||(h[1]=p=>r.value=p),fullscreen:""},{default:U(()=>[s(n,{ui:{base:"h-full flex flex-col",rounded:"",divide:"divide-y divide-gray-100 dark:divide-gray-800",body:{base:"grow"}}},{header:U(()=>[v("div",lt,[v("div",null,[ne(i.$slots,"title")]),s(m,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:h[0]||(h[0]=p=>r.value=!1)})])]),default:U(()=>[ne(i.$slots,"default")]),_:3})]),_:3},8,["modelValue"])}}}),at={class:"flex flex-col h-full border dark:border-gray-800"},nt={key:0},it=F({__name:"BacktestCandlesChart",props:{form:{},results:{}},setup(z){const r=me(),i=z,h=T(),m=T([]);let n=null,u=null;const p=[],V=[],k=y(()=>ye().params.id),g=y(()=>B.extraChartLines[k.value].find(b=>b.symbol===i.results.selectedRoute.symbol)),j=y(()=>r.value);q(j,b=>{J(b)}),q(()=>i.results.selectedRoute.symbol,()=>{H(),setTimeout(async()=>{await C()},100)}),fe(async()=>{setTimeout(async()=>{await C()},200)});async function C(){var Q,X,Y,$;K.width=h.value.clientWidth,K.height=h.value.clientHeight-Object.keys(g.value.charts).length*150,n=le(h.value,K),n.applyOptions({rightPriceScale:{borderColor:j.value==="light"?"#d1d4dc":"#4b5563",minimumWidth:80},watermark:{visible:!0,fontSize:16,horzAlign:"left",vertAlign:"bottom",color:"#888",text:`${i.results.selectedRoute.symbol} • ${i.results.selectedRoute.timeframe}`}}),u=n.addCandlestickSeries();const b=B.candles[k.value].find(d=>d.symbol===i.results.selectedRoute.symbol).candles;u.setData(b),u.setMarkers(B.orders[k.value].find(d=>d.symbol===i.results.selectedRoute.symbol).orders);const x=(X=(Q=B.lines[k.value])==null?void 0:Q.find(d=>d.symbol===i.results.selectedRoute.symbol))==null?void 0:X.lines;if(x)for(const d of Object.keys(x)){const _=x[d];n.addLineSeries({lineWidth:1,title:d}).setData(_.data)}const S=($=(Y=B.horizontalLines[k.value])==null?void 0:Y.find(d=>d.symbol===i.results.selectedRoute.symbol))==null?void 0:$.lines;if(S)for(const d of Object.keys(S)){const e=S[d];u.createPriceLine(e)}n.timeScale().fitContent();const G=new Set;Object.keys(g.value.charts).forEach((d,_)=>{const e={...K};e.width=m.value[_].clientWidth,e.height=150;const t=le(m.value[_],e);p.push(t),Object.keys(g.value.charts[d]).forEach(E=>{var w,Z;const O=t.addLineSeries({lineWidth:1,title:E}),P=(Z=(w=B.horizontalExtraLines[k.value])==null?void 0:w.find(L=>L.symbol===i.results.selectedRoute.symbol))==null?void 0:Z.lines[d];if(P&&!G.has(d)){for(const L of Object.keys(P)){const te=P[L];O.createPriceLine(te)}G.add(d)}O.setData(g.value.charts[d][E].data),V.push(O)}),t.applyOptions({rightPriceScale:{borderColor:j.value==="light"?"#d1d4dc":"#4b5563",minimumWidth:80},watermark:{visible:!0,fontSize:16,horzAlign:"left",vertAlign:"bottom",color:"#888",text:d}}),t.timeScale().subscribeVisibleLogicalRangeChange(E=>{n.timeScale().setVisibleLogicalRange(E)}),_!==Object.keys(g.value.charts).length-1&&t.timeScale().applyOptions({visible:!1})}),n.subscribeCrosshairMove(d=>{const _=I(u,d);Object.keys(g.value.charts).forEach((e,t)=>{D(p[t],V[t],_)})}),Object.keys(g.value.charts).forEach((d,_)=>{p[_].subscribeCrosshairMove(e=>{const t=I(V[_],e);D(n,u,t),p.forEach((E,O)=>{O!==_&&D(E,V[O],t)})})}),n.timeScale().subscribeVisibleLogicalRangeChange(d=>{p.forEach(_=>{_.timeScale().setVisibleLogicalRange(d)})}),J(j.value),p.length>0&&n.timeScale().applyOptions({visible:!1})}pe(()=>{H()});function I(b,x){return x.time&&x.seriesData.get(b)||null}function D(b,x,S){if(S){b.setCrosshairPosition(S.value,S.time,x);return}b.clearCrosshairPosition()}function H(){n!==null&&(n.remove(),n=null),u!==null&&(u=null),p.length>0&&(p.forEach(b=>{b.remove()}),p.length=0),V.length>0&&(V.length=0)}function J(b){n!==null&&(n.applyOptions(b==="light"?ue.chart:de.chart),p.forEach(x=>{x.applyOptions(b==="light"?ue.chart:de.chart)}))}return(b,x)=>(l(),f("div",at,[v("div",{ref_key:"chartContainer",ref:h,class:"rounded overflow-hidden flex-grow"},null,512),o(g)&&Object.keys(o(g).charts).length?(l(),f("div",nt,[(l(!0),f(A,null,ge(Object.keys(o(g).charts),S=>(l(),f("div",{key:S,ref_for:!0,ref_key:"extraChartsRef",ref:m,class:"relative border-t-[1.5px] dark:border-gray-800"}))),128))])):c("",!0)]))}}),ut=["value"],dt={key:1,class:"flex flex-col items-center justify-center select-none mt-[10%]"},ct=["textContent"],mt={class:"mt-8"},ft={class:"mt-8"},pt={class:"mt-4"},gt=["href"],ht={key:1,class:"mx-auto container mt-8"},bt={key:0},yt={class:"flex items-center select-none flex-1 my-4"},vt={class:"grid grid-cols-1 gap-6 mt-8"},_t={key:1,class:"w-full mx-auto"},kt={key:4,class:"text-yellow-500 border-yellow-400 bg-yellow-50 dark:bg-gray-700 dark:text-yellow-400 mt-16 text-center text-2xl rounded border-2 border-dashed dark:border-gray-800 py-16 select-none"},wt={key:0},Vt={key:0},Ct=["href"],xt=["href"],St=["href"],$t=["href"],Rt=["href"],jt={key:6,class:"my-4"},Lt={key:1},Tt=F({__name:"BacktestTab",props:{form:{},results:{}},setup(z){const r=z,i=T([]),h=T(!1),m=T(!1),n=N().authToken,u=T(Ee().public.apiBaseUrl),p=T(!1),V=y(()=>ye().params.id),k=ve(),g=y(()=>N().jesseSupportedTimeframes.map(e=>({label:e,value:e}))),j=y(()=>r.form.routes.map(e=>({label:`${e.strategy} • ${e.symbol}`,value:e})));r.results.selectedRoute=r.form.routes[0];const C=T([]);async function I(){C.value=await N().getExchangeSupportedSymbols(r.form.exchange);for(let e=0;e<r.form.routes.length;e++)C.value.includes(r.form.routes[e].symbol)||(r.form.routes[e].symbol=C.value[0]);if(r.form.data_routes.length>0)for(let e=0;e<r.form.data_routes.length;e++)C.value.includes(r.form.data_routes[e].symbol)||(r.form.data_routes[e].symbol=C.value[0])}r.form.exchange=r.form.exchange||N().backtestingExchangeNames[0],I();const{cancel:D,rerun:H,newBacktest:J}=k;function b(e){if(i.value.length){for(let t=0;t<i.value.length;t++)oe("error",i.value[t]);return}k.start(e)}const x=e=>{if(i.value.length){for(let t=0;t<i.value.length;t++)oe("error",i.value[t]);return}k.startInNewTab(e)},S=y(()=>{let e=`/download/backtest/log/${r.results.generalInfo.session_id}?token=${n}`;return u.value!=="/"&&(e=u.value+e),e}),G=y(()=>{let e=`/download/backtest/tradingview/${r.results.generalInfo.session_id}?token=${n}`;return u.value!=="/"&&(e=u.value+e),e}),Q=y(()=>{let e=`/download/backtest/full-reports/${r.results.generalInfo.session_id}?token=${n}`;return u.value!=="/"&&(e=u.value+e),e}),X=y(()=>{let e=`/download/backtest/csv/${r.results.generalInfo.session_id}?token=${n}`;return u.value!=="/"&&(e=u.value+e),e}),Y=y(()=>{let e=`/download/backtest/json/${r.results.generalInfo.session_id}?token=${n}`;return u.value!=="/"&&(e=u.value+e),e}),$=y(()=>k.formattedMetrics(V.value).length>0),d=y(()=>Oe.remainingTimeText(r.results.progressbar.estimated_remaining_seconds));function _(){navigator.clipboard.writeText(r.results.infoLogs),oe("success","Logs copied successfully"),m.value=!0,setTimeout(()=>{m.value=!1},3e3)}return q(()=>r.form.start_date,e=>{r.form.finish_date<e&&(r.form.finish_date=e)}),(e,t)=>{const E=$e,O=Be,P=Fe,w=be,Z=He,L=Ie,ee=Qe,te=Re,re=De,M=Pe,_e=ot,ae=Ne,ke=rt,we=Je,se=Ye,Ve=Xe,Ce=je,xe=Ge;return l(),f(A,null,[e.form.debug_mode?(l(),R(O,{key:0,modelValue:e.results.logsModal,"onUpdate:modelValue":t[0]||(t[0]=a=>e.results.logsModal=a),title:"Logs"},{default:U(()=>[s(E,{logs:e.results.infoLogs},null,8,["logs"])]),buttons:U(()=>[v("button",{class:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",onClick:_},[o(m)?(l(),R(o(Me),{key:0,class:"h-6 w-6","aria-hidden":"true"})):c("",!0),!o(m)&&e.results.infoLogs.length!=0?(l(),R(o(Ae),{key:1,class:"h-6 w-6","aria-hidden":"true"})):c("",!0)]),v("input",{id:"copy-info-logs",type:"hidden",value:e.results.infoLogs},null,8,ut)]),_:1},8,["modelValue"])):c("",!0),e.results.executing&&!e.results.showResults?(l(),f("div",dt,[v("div",null,[s(P,{progress:e.results.progressbar.current},null,8,["progress"])]),e.results.exception.error?c("",!0):(l(),f("h3",{key:0,class:"mt-8 animate-pulse",textContent:he(o(d))},null,8,ct)),v("div",mt,[v("div",ft,[s(w,{color:"gray",ui:{color:{gray:{solid:"text-rose-500 dark:text-rose-400"}}},class:"w-64 flex justify-center",icon:"i-heroicons-no-symbol",size:"xl",variant:"solid",label:"Cancel",trailing:!1,onClick:t[1]||(t[1]=a=>o(D)((e._.provides[W]||e.$route).params.id))})]),v("div",pt,[e.form.debug_mode&&e.results.exception.error&&e.results.progressbar.current!==0?(l(),f("a",{key:0,href:o(S),class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[s(w,{icon:"i-heroicons-document-arrow-down",label:"Debugging Logs",color:"gray",size:"xl",variant:"solid",trailing:!1,class:"w-64 flex justify-center"})],8,gt)):c("",!0)])]),e.results.exception.error&&e.results.executing?(l(),f("div",ht,[s(Z,{modelValue:o(h),"onUpdate:modelValue":t[2]||(t[2]=a=>ie(h)?h.value=a:null),title:e.results.exception.error,content:e.results.exception.traceback,mode:"backtest","debug-mode":e.form.debug_mode},null,8,["modelValue","title","content","debug-mode"])])):c("",!0)])):c("",!0),s(xe,{else:""},{left:U(()=>[!e.results.executing&&!e.results.showResults?(l(),f("div",bt,[s(L,{class:"mb-4",title:"Exchange"}),s(ee,{modelValue:e.form.exchange,"onUpdate:modelValue":t[3]||(t[3]=a=>e.form.exchange=a),placeholder:"Select an exchange...",searchable:"",options:o(N)().backtestingExchangeNames,size:"lg",class:"mt-2 mb-16",onChange:I},null,8,["modelValue","options"]),s(te,{"total-routes-error":o(i),timeframes:o(g),form:e.form,results:e.results,symbols:o(C),mode:"backtest"},null,8,["total-routes-error","timeframes","form","results","symbols"]),s(L,{class:"mt-16",title:"Duration"}),v("div",yt,[s(re,{modelValue:e.form.start_date,"onUpdate:modelValue":t[4]||(t[4]=a=>e.form.start_date=a),type:"date",variant:"outline",size:"lg",class:"w-full mr-2"},null,8,["modelValue"]),s(re,{modelValue:e.form.finish_date,"onUpdate:modelValue":t[5]||(t[5]=a=>e.form.finish_date=a),type:"date",variant:"outline",size:"lg",class:"w-full ml-2"},null,8,["modelValue"])]),s(L,{class:"mt-16",title:"Options"}),v("div",vt,[s(M,{modelValue:e.form.debug_mode,"onUpdate:modelValue":t[6]||(t[6]=a=>e.form.debug_mode=a),title:"Debug Mode",description:"Logs every step of the execution. Very helpful for debugging your strategy but takes a lot longer to execute"},null,8,["modelValue"]),s(M,{modelValue:e.form.export_chart,"onUpdate:modelValue":t[7]||(t[7]=a=>e.form.export_chart=a),title:"Generate Interactive Charts",description:"Generate interactive charts for backtest results with details."},null,8,["modelValue"]),s(M,{modelValue:e.form.export_tradingview,"onUpdate:modelValue":t[8]||(t[8]=a=>e.form.export_tradingview=a),title:"Export Tradingview",description:"Exports the executed trades in a format accepted by TradingView's Pine Editor. Useful to look at the executed orders on their chart."},null,8,["modelValue"]),s(M,{modelValue:e.form.export_full_reports,"onUpdate:modelValue":t[9]||(t[9]=a=>e.form.export_full_reports=a),title:"Export QuantStats reports",description:"Exports a HTML file generated by QuantStats library."},null,8,["modelValue"]),s(M,{modelValue:e.form.export_csv,"onUpdate:modelValue":t[10]||(t[10]=a=>e.form.export_csv=a),title:"Export CSV",description:"Exports executed trades in a CSV format"},null,8,["modelValue"]),s(M,{modelValue:e.form.export_json,"onUpdate:modelValue":t[11]||(t[11]=a=>e.form.export_json=a),title:"Export JSON",description:"Exports executed trades in a JSON format"},null,8,["modelValue"]),s(M,{modelValue:e.form.fast_mode,"onUpdate:modelValue":t[12]||(t[12]=a=>e.form.fast_mode=a),title:"Fast Mode",description:"Runs the backtest faster by using an improved algorithm. This is supposed to yield the same results; however, it's currently experimental, which is why it's an option."},null,8,["modelValue"]),s(M,{modelValue:e.form.benchmark,"onUpdate:modelValue":t[13]||(t[13]=a=>e.form.benchmark=a),title:"Benchmark",description:"If enabled, the backtest will compare the performance of the strategy against the buy and hold strategy of the market."},null,8,["modelValue"])])])):c("",!0),e.results.showResults?(l(),f("div",_t,[v("div",null,[o($)?(l(),R(L,{key:0,class:"mb-4",title:"Equity Curve"})):c("",!0),o($)?(l(),R(_e,{key:1,data:e.results.charts.equity_curve},null,8,["data"])):c("",!0),o($)?(l(),R(L,{key:2,class:"mt-16 mb-4",title:"Performance"})):c("",!0),o($)?(l(),R(ae,{key:3,data:o(k).formattedMetrics(o(V))},null,8,["data"])):c("",!0),o($)?c("",!0):(l(),f("div",kt," No trades were executed via this strategy! "))]),s(ke,{modelValue:o(p),"onUpdate:modelValue":t[15]||(t[15]=a=>ie(p)?p.value=a:null)},{title:U(()=>[s(ee,{modelValue:e.results.selectedRoute,"onUpdate:modelValue":t[14]||(t[14]=a=>e.results.selectedRoute=a),"value-attribute":"value",options:o(j)},null,8,["modelValue","options"])]),default:U(()=>[s(it,{results:e.results,form:e.form},null,8,["results","form"])]),_:1},8,["modelValue"])])):c("",!0)]),right:U(()=>[e.results.executing?c("",!0):(l(),f("div",wt,[e.results.showResults?(l(),f("div",Vt,[s(w,{class:"w-full flex justify-center",icon:"i-heroicons-arrow-path",size:"xl",variant:"solid",label:"Rerun",trailing:!1,onClick:t[16]||(t[16]=a=>o(H)((e._.provides[W]||e.$route).params.id))}),s(w,{class:"w-full flex justify-center mt-4",color:"green",icon:"i-heroicons-arrow-uturn-left",size:"xl",variant:"solid",label:"New session",trailing:!1,onClick:t[17]||(t[17]=a=>o(J)((e._.provides[W]||e.$route).params.id))}),e.form.debug_mode?(l(),f("a",{key:0,href:o(S),target:"_blank",class:""},[s(w,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"Debugging Logs",trailing:!1})],8,Ct)):c("",!0),e.form.export_chart?(l(),R(w,{key:1,class:"mt-4 flex justify-center items-center btn-secondary text-center",color:"gray",icon:"i-heroicons-chart-bar",size:"xl",block:"",variant:"solid",label:"View charts",trailing:!1,onClick:t[18]||(t[18]=a=>p.value=!0)})):c("",!0),e.form.export_full_reports&&o($)?(l(),f("a",{key:2,href:o(Q),target:"_blank",class:"flex justify-center items-center btn-secondary text-center w-full"},[s(w,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"QuantStats Report",trailing:!1})],8,xt)):c("",!0),e.form.export_csv&&o($)?(l(),f("a",{key:3,href:o(X),target:"_blank",class:"flex justify-center items-center btn-secondary text-center w-full"},[s(w,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"CVS",trailing:!1})],8,St)):c("",!0),e.form.export_json&&o($)?(l(),f("a",{key:4,href:o(Y),target:"_blank",class:"flex justify-center items-center btn-secondary text-center w-full"},[s(w,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"JSON",trailing:!1})],8,$t)):c("",!0),e.form.export_tradingview&&o($)?(l(),f("a",{key:5,href:o(G),target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[s(w,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"TradingView Pine Editor",trailing:!1})],8,Rt)):c("",!0),e.results.showResults&&e.results.alert&&e.results.alert.message?(l(),f("div",jt,[s(we,{color:"teal",icon:"i-heroicons-check-circle",variant:"soft",title:e.results.alert.message,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"white",variant:"link"},onClose:t[19]||(t[19]=a=>e.results.alert.message="")},null,8,["title"])])):c("",!0),s(se,{class:"mt-8 mb-4",size:"lg",label:"General Info"}),s(Ve,{data:e.results.info},null,8,["data"]),s(se,{class:"mt-8 mb-4",size:"lg",label:"Routes"}),s(Ce,{data:e.results.routes_info,"header-items":["Symbol","Timeframe","Strategy"],header:""},null,8,["data"]),e.results.hyperparameters.length?(l(),R(se,{key:7,class:"mt-8 mb-4",size:"lg",label:"Hyperparameters"})):c("",!0),e.results.hyperparameters.length?(l(),R(ae,{key:8,data:e.results.hyperparameters},null,8,["data"])):c("",!0)])):(l(),f("div",Lt,[s(w,{class:"w-full flex justify-center",icon:"i-heroicons-bolt",size:"xl",variant:"solid",label:"Start",trailing:!1,onClick:t[20]||(t[20]=a=>b((e._.provides[W]||e.$route).params.id))}),s(w,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-plus",size:"xl",variant:"solid",label:"Start in a new tab",trailing:!1,onClick:t[21]||(t[21]=a=>x((e._.provides[W]||e.$route).params.id))})]))]))]),_:1})],64)}}}),Ut={class:"w-full"},At=F({__name:"[id]",setup(z){Ze({title:"Backtest - Jesse"});const r=ve(),i=y(()=>r.tabs),h=y(()=>We().params.id),m=y(()=>{if(!i.value[h.value]){const n=Object.keys(i.value);if(n.length>0){const u=i.value[n[0]];return qe().push(`/backtest/${u.id}`),u}}return i.value[h.value]});return Object.keys(i.value).length===0&&r.addTab(),(n,u)=>{const p=Se,V=Tt;return l(),f(A,null,[v("div",Ut,[s(p,{"current-tab":m.value?m.value.id:null,tabs:i.value,mode:"backtest",onClose:o(r).closeTab,onCancel:o(r).cancel},null,8,["current-tab","tabs","onClose","onCancel"])]),m.value?(l(),R(V,{key:0,form:m.value.form,results:m.value.results},null,8,["form","results"])):c("",!0)],64)}}});export{At as default};
