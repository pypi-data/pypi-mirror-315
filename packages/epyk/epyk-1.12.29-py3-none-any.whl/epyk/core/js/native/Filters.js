function addChip(panel,record,options){record.category,options.category=record.category;var div=document.createElement("div");for(var key in options.item_css)div.style[key]=options.item_css[key];for(var key in div.setAttribute("data-category",record.category),record.css,record.css)div.style[key]=record.css[key];var content=document.createElement("span");for(var key in options.value_css)content.style[key]=options.value_css[key];if(content.setAttribute("name","chip_value"),content.innerHTML=record.value,options.visible){var p=document.createElement("p");for(var key in options.category_css)p.style[key]=options.category_css[key];p.innerHTML=record.name,div.appendChild(p)}if(div.appendChild(content),!record.fixed&&options.delete){var icon=document.createElement("span");for(var key in icon.innerHTML="&#215;",options.icon_css)icon.style[key]=options.icon_css[key];icon.addEventListener("click",function(){eval(options.delete)}),div.appendChild(icon)}void 0!==options.draggable&&(div.setAttribute("draggable",!0),div.style.cursor="grab",div.ondragstart=function(e){var t=this.innerHTML;options.draggable(e,t)}),panel.appendChild(div)}function filters(e,t,a){let r=e.querySelector("[name=panel]");r.innerHTML="",void 0!==t&&t.forEach(function(e){"string"==typeof e?e={name:a.category,category:a.category,value:e,disabled:!1,fixed:!1}:(void 0===e.category&&(void 0===e.name?e.category=a.category:e.category=e.name),void 0===e.name&&(e.name=e.category)),addChip(r,e,a)});let n=a.max_height;if(n>0){r.style.maxHeight=""+n+"px",r.style.overflow="hidden";var i=document.createElement("div");i.classList.add("html-filters-showAll"),i.innerHTML=a.show_all,i.addEventListener("click",function(e){var t=e.target||e.srcElement;t.innerHTML!=a.reduce?(r.style.maxHeight=null,t.innerHTML=a.reduce):(r.style.maxHeight=""+n+"px",t.innerHTML=a.show_all)}),r.appendChild(i)}}