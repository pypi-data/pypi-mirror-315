function comments(htmlObj,data,options){if(null!=data){let comments;(comments=Array.isArray(data)?data:[{text:data,time:moment(new Date).format(options.timestamp_format)}]).forEach(function(comment){"object"!=typeof comment&&(comment={text:comment,time:moment(new Date).format(options.timestamp_format)});let feed=document.createElement("p");if(feed.classList.add(options.feed),options.showdown){let converter=new showdown.Converter(options.showdown);comment.text=converter.makeHtml(comment.text.trim())}if(feed.setAttribute("name","comment-value"),options.template?feed.innerHTML=eval("`"+options.template+"`"):feed.innerHTML=comment.text,htmlObj.querySelector("div").prepend(feed),options.categories)for(let[key,value]of Object.entries(options.categories))comment[key]&&feed.classList.add(value);if(comment.time){let dateNews=document.createElement("p");dateNews.classList.add(options.timestamp),dateNews.innerHTML=comment.time,htmlObj.querySelector("div").prepend(dateNews)}}),document.getElementById(htmlObj.id+"_counter").innerHTML=Math.max(0,htmlObj.querySelectorAll("p[name='comment-value']").length-1)}}