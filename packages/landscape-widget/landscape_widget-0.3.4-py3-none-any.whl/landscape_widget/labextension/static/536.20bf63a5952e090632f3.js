(self.webpackChunklandscape_widget=self.webpackChunklandscape_widget||[]).push([[536],{536:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LandscapeModel:()=>p,LandscapeView:()=>h});var i=n(983),s=n(797),o=(n(463),n(916)),r=(n(356),n(238)),a=n.n(r),l=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const d={0:{nodes:[{points:[1,2],size:5},{points:[3],size:5}],edges:[{s:0,t:1}]},1:{nodes:[{points:[1,2,3],size:5}],edges:[]}},c=Object(),u={allowInvalidContainer:!0};class p extends i.DOMWidgetModel{initialize(e,t){super.initialize(e,t),this.on("change:colors",this.updateNodeColors,this),this.on("change:node_labels",this.updateNodeLabels,this),this.on("change:node_hover_labels",this.updateNodeHoverLabels,this),this.on("change:selected_level",this.updateSelectedLevel,this),this.on("change:avg_degree",this.updateAvgDegree,this),this.on("change:selected_points",this.updateSelectedPoints,this),this.on("msg:custom",this.handleCustomMessage,this),this.loadGraph()}loadGraph(){return l(this,void 0,void 0,(function*(){const e=this.get("graph"),t=Object.keys(e).map(Number),n=Math.min(...t),i=Math.max(...t),s=this.get("selected_level")||Math.floor((n+i)/2),r={coarseness:{label:"Coarseness",minValue:n,maxValue:i,initialValue:s,step:1},connectivity:{label:"Connectivity",minValue:0,maxValue:20,initialValue:this.get("avg_degree")||6,step:.1},selectedLevel:s.toString()};this.multiResolutionGraph=new o.MultiResolutionGraph({graphData:e,sliderConfig:r,sigmaSettings:Object.assign(Object.assign({},u),this.get("sigma_settings")||{}),onSelectedNodesChange:()=>{},onSelectedPointsChange:this.setSelectedPoints.bind(this),onFullScreenChange:this.toggleExpandedLayout.bind(this),onCoarsenessChange:this.setCoarsenessLevel.bind(this),onConnectivityChange:this.setConnectivityLevel.bind(this),layoutConfig:this.get("layout_config")}),this.updateNodeProperties()}))}updateNodeProperties(){this.updateNodeColors(),this.updateNodeLabels(),this.updateNodeHoverLabels()}setSelectedPoints(e){this.set("selected_points",e),this.save_changes()}toggleExpandedLayout(e){this.set("is_expanded_layout",e),this.save_changes()}setCoarsenessLevel(e){this.set("selected_level",e),this.save_changes()}setConnectivityLevel(e){this.set("avg_degree",e),this.save_changes()}updateNodeColors(){if(!this.multiResolutionGraph)return;const e=this.get("colors");e&&this.multiResolutionGraph.setNodeColors(e)}updateNodeLabels(){if(!this.multiResolutionGraph)return;const e=this.get("node_labels");e&&this.multiResolutionGraph.setNodeLabels(e)}updateNodeHoverLabels(){if(!this.multiResolutionGraph)return;const e=this.get("node_hover_labels");e&&this.multiResolutionGraph.setNodeHoverLabels(e)}updateSelectedLevel(){if(!this.multiResolutionGraph)return;const e=this.get("selected_level");e&&(this.multiResolutionGraph.setCoarsenessLevel(e),this.multiResolutionGraph.sliderManager.setSliderValue("Coarseness",e))}updateAvgDegree(){if(!this.multiResolutionGraph)return;const e=this.get("avg_degree");(e||0===e)&&(this.multiResolutionGraph.setConnectivityLevel(e),this.multiResolutionGraph.sliderManager.setSliderValue("Connectivity",e))}updateSelectedPoints(){if(!this.multiResolutionGraph)return;const e=this.get("selected_points");e&&this.multiResolutionGraph.setSelectedPoints(e)}disposeGraph(){this.multiResolutionGraph.cleanup(),this.multiResolutionGraph.dispose()}handleCustomMessage(e){"dispose_graph"===e.event_type&&this.disposeGraph()}defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:p.model_name,_model_module:p.model_module,_model_module_version:p.model_module_version,_view_name:p.view_name,_view_module:p.view_module,_view_module_version:p.view_module_version,graph:d,colors:null,node_labels:c,node_hover_labels:null,node_sizes:null,selected_nodes:[],sigma_settings:u,background_color:null,is_expanded_layout:!1})}}p.serializers=Object.assign({},i.DOMWidgetModel.serializers),p.model_name="LandscapeModel",p.model_module=s.p,p.model_module_version=s.e,p.view_name="LandscapeView",p.view_module=s.p,p.view_module_version=s.e;class h extends i.DOMWidgetView{constructor(e){super(e),this.view=null;const t=new(a());this.containerId=`landscape-container-${t.next().toString(36).substring(2)}`}render(){this.createLandscapeContainer(),this.setupGraphManager(),this.model.on("change:background_color",this.setBackgroundColor,this)}createLandscapeContainer(){this._landscapeContainer=document.createElement("div"),this._landscapeContainer.id=this.containerId,this._landscapeContainer.style.position="relative",this._landscapeContainer.classList.add("landscape-container"),this.setBackgroundColor(),this.el.appendChild(this._landscapeContainer),this.el.classList.add("custom-widget")}setupGraphManager(){return l(this,void 0,void 0,(function*(){const e=document.getElementById(this.containerId);e&&this.model.multiResolutionGraph?(this.view=yield this.model.multiResolutionGraph.getView(e),this.view.graphManager.zoomInAndOut()):setTimeout((()=>this.setupGraphManager()),100)}))}setBackgroundColor(){const e=this.model.get("background_color");e&&(this.el.style.backgroundColor=e,this._landscapeContainer.style.backgroundColor=e,this._landscapeContainer.style.setProperty("--sigma-background-color",e))}}},797:(e,t,n)=>{"use strict";n.d(t,{e:()=>s,p:()=>o});const i=n(330),s=i.version,o=i.name},930:(e,t,n)=>{(t=n(314)(!1)).push([e.id,".custom-widget {\n  padding: 5px;\n}\n\n.landscape-container {\n    height: 100%;\n    width: 100%;\n}\n",""]),e.exports=t},969:(e,t,n)=>{(t=n(314)(!1)).push([e.id,".graph-container .controls-container>button{display:flex;justify-content:center;align-items:center;border-radius:4px;border:none;margin:0 4px 0 0;padding:0;background-color:#e2e4e7}.graph-container .controls-container>button:hover{background-color:#cbcdd0}.graph-container .controls-container>button.active{background-color:#bddde8}.graph-container .controls-container>button[data-tooltip]:before{position:absolute;display:none;pointer-events:none;transition:opacity .3s;content:attr(data-tooltip);background-color:#33455f;color:#fff;font-size:1rem;line-height:1.4;border-radius:4px;padding:4px 8px;max-width:300px;margin-bottom:14px;white-space:nowrap;font-weight:500;bottom:100%}.graph-container .controls-container>button[data-tooltip]:hover:before{display:block}.graph-container .controls-container>button[data-tooltip]:last-of-type:before{left:100%;transform:translateX(-100%)}.graph-container .webgl-overlay{font-size:20px;text-align:center;opacity:.9}.graph-container .webgl-overlay>button{font-size:16px;background-color:#007bff;color:#fff;border:none;border-radius:4px}.slider-container{position:absolute;top:0;width:490px;display:flex;border:1px solid #d3d3d3;border-radius:4px;height:40px;box-sizing:border-box}.slider-container .slider-wrapper{display:flex;align-items:center;padding:0 5px}.slider-container .slider-wrapper .slider-label{margin:0;font-size:14px}.slider-container .slider-wrapper .slider{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:110px;height:4px;margin-right:10px;margin-left:5px;border-radius:4px;background:#2196f3;outline:none;cursor:pointer}.slider-container .slider-wrapper .slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;background:#2196f3;border-radius:50%}.slider-container .slider-wrapper .slider::-moz-range-thumb{width:16px;height:16px;background:#2196f3;border-radius:50%;border:none}.slider-container .slider-wrapper .slider:hover::-webkit-slider-thumb{background:#1976d2}.slider-container .slider-wrapper .slider:hover::-moz-range-thumb{background:#1976d2}.slider-container .slider-wrapper .slider:hover::-ms-thumb{background:#1976d2}.slider-container .slider-wrapper .slider:active::-webkit-slider-thumb{background:#0d47a1}.slider-container .slider-wrapper .slider:active::-moz-range-thumb{background:#0d47a1}.slider-container .slider-wrapper .slider:active::-ms-thumb{background:#0d47a1}.slider-container .slider-wrapper .slider-value{min-width:20px;text-align:center}\n",""]),e.exports=t},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i,s,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var a=(n=r,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(s," */")),l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([a]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(i)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(s[r]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);i&&s[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},463:(e,t,n)=>{var i=n(72),s=n(930);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.id,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},356:(e,t,n)=>{var i=n(72),s=n(969);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.id,s,""]]);i(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},72:(e,t,n)=>{"use strict";var i,s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function r(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},i=[],s=0;s<e.length;s++){var a=e[s],l=t.base?a[0]+t.base:a[0],d=n[l]||0,c="".concat(l," ").concat(d);n[l]=d+1;var u=r(c),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(p)):o.push({identifier:c,updater:b(p,t),references:1}),i.push(c)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var r=s(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var d,c=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,n,i){var s=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=c(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function p(e,t,n){var i=n.css,s=n.media,o=n.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,g=0;function b(e,t){var n,i,s;if(t.singleton){var o=g++;n=h||(h=l(t)),i=u.bind(null,n,o,!1),s=u.bind(null,n,o,!0)}else n=l(t),i=p.bind(null,n,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var s=r(n[i]);o[s].references--}for(var l=a(e,t),d=0;d<n.length;d++){var c=r(n[d]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=l}}}},330:e=>{"use strict";e.exports=JSON.parse('{"name":"landscape-widget","version":"0.3.4","description":"Jupyter widget for interactive graph visualization","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css"],"author":{"name":"BlueLightAI","email":"support@bluelightai.com"},"license":"SEE LICENSE IN LICENSE.txt","main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/BlueLightAI/jupyter-landscapes"},"scripts":{"build":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension:dev","build:prod":"yarn run build:lib && yarn run build:nbextension && yarn run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack","build:license-report-json":"license-report --output=json --config=.license-reportrc  > ./license-report.json","build:license-report-html":"license-report --output=html --config=.license-reportrc  > ./license-report.html","clean":"yarn run clean:lib && yarn run clean:nbextension && yarn run clean:labextension","clean:lib":"rimraf lib","clean:labextension":"rimraf landscape_widget/labextension","clean:nbextension":"rimraf landscape_widget/nbextension/static/index.js","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"yarn run build:lib","test":"jest","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch --mode=development","watch:labextension":"jupyter labextension watch ."},"dependencies":{"@jupyter-widgets/base":"^1.1.10 || ^2 || ^3 || ^4 || ^5 || ^6","blai-graph-widget":"link:./blai-graph-widget","graphology":"^0.25.1","graphology-components":"^1.5.4","graphology-layout-forceatlas2":"^0.10.1","graphology-types":"^0.24.7","lodash":"^4.17.21","rand-seed":"^1.0.2","ws":"^7.5.10 || ^8.17.1 || >=9"},"devDependencies":{"@babel/core":"^7.5.0","@babel/preset-env":"^7.5.0","@jupyter-widgets/base-manager":"^1.0.3","@jupyterlab/builder":"^3.6.1","@lumino/application":"^1.6.0","@lumino/widgets":"^1.6.0","@types/jest":"^26.0.0","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^3.6.0","@typescript-eslint/parser":"^3.6.0","acorn":"^7.2.0","css-loader":"^3.2.0","eslint":"^7.4.0","eslint-config-prettier":"^6.11.0","eslint-plugin-prettier":"^3.1.4","fs-extra":"^7.0.0","identity-obj-proxy":"^3.0.0","jest":"^29.0.0","license-report":"^6.5.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","prettier":"^2.0.5","rimraf":"^2.6.2","sass":"^1.58.0","sass-loader":"^13.2.0","source-map-loader":"^1.1.3","style-loader":"^1.0.0","ts-jest":"^29.0.0","ts-loader":"^8.0.0","typescript":"^5.7.2","webpack":"^5.61.0","webpack-cli":"^4.0.0"},"resolutions":{"blai-graph-widget":"file:./blai-graph-widget"},"jupyterlab":{"extension":"lib/plugin","outputDir":"landscape_widget/labextension/","webpackConfig":"./lab.webpack.config.js","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true}}}}')}}]);