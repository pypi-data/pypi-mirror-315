"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["90747"],{63837:function(e,i,t){t.a(e,(async function(e,n){try{t.r(i),t.d(i,{HuiConditionalElementEditor:function(){return E}});var o,s,a=t(63038),d=t(27862),c=t(52565),l=t(92776),h=t(5776),r=t(21475),g=(t(38419),t(22879),t(63619),t(19423),t(57243)),u=t(50778),f=t(62900),m=t(36522),_=(t(29073),t(32145),t(13420)),v=t(50357),b=e([_,v]);[_,v]=b.then?(await b)():b;var k=(0,f.Ry)({type:(0,f.i0)("conditional"),conditions:(0,f.jt)((0,f.IX)((0,f.Yj)())),elements:(0,f.jt)((0,f.IX)((0,f.Yj)())),title:(0,f.jt)((0,f.Z_)())}),C=[{name:"title",selector:{text:{}}}],E=(0,r.Z)([(0,u.Mo)("hui-conditional-element-editor")],(function(e,i){var t=function(i){function t(){var i;(0,c.Z)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i=(0,l.Z)(this,t,[].concat(o)),e(i),i}return(0,h.Z)(t,i),(0,d.Z)(t)}(i);return{F:t,d:[{kind:"field",decorators:[(0,u.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,u.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,u.SB)()],key:"_subElementEditorConfig",value:void 0},{kind:"method",key:"setConfig",value:function(e){(0,f.hu)(e,k),this._config=e}},{kind:"method",key:"render",value:function(){return this.hass&&this._config?this._subElementEditorConfig?(0,g.dy)(o||(o=(0,a.Z)([' <hui-sub-element-editor .hass="','" .config="','" @go-back="','" @config-changed="','"> </hui-sub-element-editor> '])),this.hass,this._subElementEditorConfig,this._goBack,this._handleSubElementChanged):(0,g.dy)(s||(s=(0,a.Z)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> <ha-card-conditions-editor .hass="','" .conditions="','" @value-changed="','"> </ha-card-conditions-editor> <hui-picture-elements-card-row-editor .hass="','" .elements="','" @elements-changed="','" @edit-detail-element="','"></hui-picture-elements-card-row-editor> '])),this.hass,this._config,C,this._computeLabelCallback,this._formChanged,this.hass,this._config.conditions||[],this._conditionChanged,this.hass,this._config.elements||[],this._elementsChanged,this._editDetailElement):g.Ld}},{kind:"method",key:"_formChanged",value:function(e){(0,m.B)(this,"config-changed",{config:e.detail.value})}},{kind:"method",key:"_conditionChanged",value:function(e){if(e.stopPropagation(),this._config){var i=e.detail.value;this._config=Object.assign(Object.assign({},this._config),{},{conditions:i}),(0,m.B)(this,"config-changed",{config:this._config})}}},{kind:"method",key:"_elementsChanged",value:function(e){var i,t;e.stopPropagation();var n=(null===(i=this._config)||void 0===i||null===(i=i.elements)||void 0===i?void 0:i.length)||0,o=Object.assign(Object.assign({},this._config),{},{elements:e.detail.elements});(0,m.B)(this,"config-changed",{config:o});var s=(null===(t=e.detail.elements)||void 0===t?void 0:t.length)||0;if(s===n+1){var a=s-1;this._subElementEditorConfig={index:a,type:"element",elementConfig:Object.assign({},e.detail.elements[a])}}}},{kind:"method",key:"_handleSubElementChanged",value:function(e){var i;if(e.stopPropagation(),this._config&&this.hass){var t=null===(i=this._subElementEditorConfig)||void 0===i?void 0:i.type,n=e.detail.config;if("element"===t){var o=this._config.elements.concat();n?o[this._subElementEditorConfig.index]=n:(o.splice(this._subElementEditorConfig.index,1),this._goBack()),this._config=Object.assign(Object.assign({},this._config),{},{elements:o})}this._subElementEditorConfig=Object.assign(Object.assign({},this._subElementEditorConfig),{},{elementConfig:n}),(0,m.B)(this,"config-changed",{config:this._config})}}},{kind:"method",key:"_editDetailElement",value:function(e){this._subElementEditorConfig=e.detail.subElementConfig}},{kind:"method",key:"_goBack",value:function(e){null==e||e.stopPropagation(),this._subElementEditorConfig=void 0}},{kind:"field",key:"_computeLabelCallback",value:function(){var e=this;return function(i){return e.hass.localize("ui.panel.lovelace.editor.card.generic.".concat(i.name))||e.hass.localize("ui.panel.lovelace.editor.elements.".concat(i.name))||i.name}}}]}}),g.oi);n()}catch(p){n(p)}}))}}]);
//# sourceMappingURL=90747.eb2e477cfe935702.js.map