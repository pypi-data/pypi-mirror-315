"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["58705"],{98015:function(e,r,t){t.r(r),t.d(r,{CloudForgotPassword:function(){return y}});var a,s,o,n=t(9833),i=t(94524),d=t(63038),l=t(27862),c=t(52565),u=t(92776),h=t(5776),f=t(21475),p=(t(38419),t(57243)),g=t(50778),k=t(36522),v=(t(29095),t(99426),t(54977),t(83166),t(94616)),_=(t(87979),t(28008)),y=(0,f.Z)([(0,g.Mo)("cloud-forgot-password")],(function(e,r){var t,f=function(r){function t(){var r;(0,c.Z)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r=(0,u.Z)(this,t,[].concat(s)),e(r),r}return(0,h.Z)(t,r),(0,l.Z)(t)}(r);return{F:f,d:[{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,g.Cb)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,g.Cb)()],key:"email",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_requestInProgress",value:function(){return!1}},{kind:"field",decorators:[(0,g.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,g.IO)("#email",!0)],key:"_emailField",value:void 0},{kind:"method",key:"render",value:function(){return(0,p.dy)(a||(a=(0,d.Z)([' <hass-subpage .hass="','" .narrow="','" .header="','"> <div class="content"> <ha-card outlined .header="','"> <div class="card-content"> <p> '," </p> ",' <ha-textfield autofocus id="email" label="','" .value="','" type="email" required @keydown="','" .validationMessage="','"></ha-textfield> </div> <div class="card-actions"> <ha-progress-button @click="','" .progress="','"> '," </ha-progress-button> </div> </ha-card> </div> </hass-subpage> "])),this.hass,this.narrow,this.hass.localize("ui.panel.config.cloud.forgot_password.title"),this.hass.localize("ui.panel.config.cloud.forgot_password.subtitle"),this.hass.localize("ui.panel.config.cloud.forgot_password.instructions"),this._error?(0,p.dy)(s||(s=(0,d.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",this.hass.localize("ui.panel.config.cloud.forgot_password.email"),this.email,this._keyDown,this.hass.localize("ui.panel.config.cloud.forgot_password.email_error_msg"),this._handleEmailPasswordReset,this._requestInProgress,this.hass.localize("ui.panel.config.cloud.forgot_password.send_reset_email"))}},{kind:"method",key:"_keyDown",value:function(e){"Enter"===e.key&&this._handleEmailPasswordReset()}},{kind:"method",key:"_handleEmailPasswordReset",value:(t=(0,i.Z)((0,n.Z)().mark((function e(){var r,t,a,s=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._emailField,t=r.value,r.reportValidity()){e.next=5;break}return r.focus(),e.abrupt("return");case 5:return this._requestInProgress=!0,a=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.u_)(s.hass,r);case 3:(0,k.B)(s,"email-changed",{value:r}),s._requestInProgress=!1,(0,k.B)(s,"cloud-done",{flashMessage:s.hass.localize("ui.panel.config.cloud.forgot_password.check_your_email")}),e.next=18;break;case 8:if(e.prev=8,e.t0=e.catch(0),s._requestInProgress=!1,"usernotfound"!==(e.t0&&e.t0.body&&e.t0.body.code)||r===r.toLowerCase()){e.next=17;break}return e.next=15,a(r.toLowerCase());case 15:e.next=18;break;case 17:s._error=e.t0&&e.t0.body&&e.t0.body.message?e.t0.body.message:"Unknown error";case 18:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),e.next=9,a(t);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[_.Qx,(0,p.iv)(o||(o=(0,d.Z)([".content{padding-bottom:24px}ha-card{max-width:600px;margin:0 auto;margin-top:24px}h1{margin:0}ha-textfield{width:100%}.card-actions{display:flex;justify-content:space-between;align-items:center}.card-actions a{color:var(--primary-text-color)}"])))]}}]}}),p.oi)}}]);
//# sourceMappingURL=58705.3e1d412a0d4380c2.js.map