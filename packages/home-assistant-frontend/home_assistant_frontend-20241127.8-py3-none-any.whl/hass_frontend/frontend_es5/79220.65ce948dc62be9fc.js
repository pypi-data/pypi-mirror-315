"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["79220"],{94264:function(n,t,e){e.d(t,{Ec:function(){return l},Mo:function(){return y},Oj:function(){return _},UK:function(){return f},av:function(){return m},s_:function(){return v}});var i=e(11655),r=e(10265),o=(e(38419),e(91599),e(19083),e(71695),e(64228),e(92745),e(52805),e(23509),e(19423),e(42713),e(61427),e(92519),e(42179),e(89256),e(24931),e(88463),e(57449),e(19814),e(61006),e(99341),e(39527),e(92181),e(99790),e(41360),e(13334),e(34595),e(36993),e(49207),e(47021),e(95262)),s=e(62201),u=e(31064),a=e(96194);function c(n,t){var e;if((0,u.T)(t)&&n.states[t])return null===(e=n.states[t])||void 0===e?void 0:e.state}function d(n,t){var e,i=n.entity&&t.states[n.entity]?t.states[n.entity].state:a.nZ,s=null!==(e=n.state)&&void 0!==e?e:n.state_not;if(Array.isArray(s)){var u=s.map((function(n){return c(t,n)})).filter((function(n){return void 0!==n}));s=[].concat((0,r.Z)(s),(0,r.Z)(u))}else if("string"==typeof s){var d=c(t,s);s=[s],d&&s.push(d)}return null!=n.state?(0,o.r)(s).includes(i):!(0,o.r)(s).includes(i)}function l(n,t){return n.every((function(n){if("condition"in n)switch(n.condition){case"screen":return!!(e=n).media_query&&matchMedia(e.media_query).matches;case"user":return function(n,t){var e;return!(!n.users||null===(e=t.user)||void 0===e||!e.id)&&n.users.includes(t.user.id)}(n,t);case"numeric_state":return function(n,t){var e,i,r,o=null===(e=n.entity?t.states[n.entity]:void 0)||void 0===e?void 0:e.state,s=n.above,u=n.below;"string"==typeof s&&(s=null!==(i=c(t,s))&&void 0!==i?i:s),"string"==typeof u&&(u=null!==(r=c(t,u))&&void 0!==r?r:u);var a=Number(o),d=Number(s),l=Number(u);return!isNaN(a)&&(null==n.above||isNaN(d)||d<a)&&(null==n.below||isNaN(l)||l>a)}(n,t);case"and":return function(n,t){return!n.conditions||l(n.conditions,t)}(n,t);case"or":return function(n,t){return!n.conditions||n.conditions.some((function(n){return l([n],t)}))}(n,t);default:return d(n,t)}var e;return d(n,t)}))}function f(n){var t,e=new Set,s=(0,i.Z)(n);try{for(s.s();!(t=s.n()).done;){var a=t.value;if("numeric_state"===a.condition)"string"==typeof a.above&&(0,u.T)(a.above)&&e.add(a.above),"string"==typeof a.below&&(0,u.T)(a.below)&&e.add(a.below);else if("state"===a.condition){var c,d;[].concat((0,r.Z)(null!==(c=(0,o.r)(a.state))&&void 0!==c?c:[]),(0,r.Z)(null!==(d=(0,o.r)(a.state_not))&&void 0!==d?d:[])).forEach((function(n){n&&(0,u.T)(n)&&e.add(n)}))}else if("conditions"in a&&a.conditions)return new Set([].concat((0,r.Z)(e),(0,r.Z)(f(a.conditions))))}}catch(l){s.e(l)}finally{s.f()}return e}function h(n){return null!=n.entity&&(null!=n.state||null!=n.state_not)}function v(n){return n.every((function(n){if("condition"in n)switch(n.condition){case"screen":return null!=n.media_query;case"user":return function(n){return null!=n.users}(n);case"numeric_state":return function(n){return null!=n.entity&&(null!=n.above||null!=n.below)}(n);case"and":case"or":return function(n){return null!=n.conditions}(n);default:return h(n)}return h(n)}))}function y(n,t){return"conditions"in n&&n.conditions?Object.assign(Object.assign({},n),{},{conditions:n.conditions.map((function(n){return y(n,t)}))}):"state"===n.condition||"numeric_state"===n.condition?Object.assign(Object.assign({},n),{},{entity:t}):n}function _(n){return n.reduce((function(n,t){return"conditions"in t&&t.conditions&&n.push.apply(n,(0,r.Z)(_(t.conditions))),"screen"===t.condition&&t.media_query&&n.push(t.media_query),n}),[])}function m(n,t){return _(n).map((function(n){return(0,s.K)(n,(function(n){t(n)}))}))}},34939:function(n,t,e){e.d(t,{g:function(){return h}});var i=e(27862),r=e(52565),o=e(92776),s=e(5776),u=e(21475),a=e(77204),c=(e(22152),e(52247),e(38419),e(91599),e(42713),e(39527),e(99790),e(41360),e(49207),e(57243)),d=e(50778),l=e(48045),f=e(94264),h=(0,u.Z)([(0,d.Mo)("hui-conditional-base")],(function(n,t){var e=function(t){function e(){var t;(0,r.Z)(this,e);for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return t=(0,o.Z)(this,e,[].concat(s)),n(t),t}return(0,s.Z)(e,t),(0,i.Z)(e)}(t);return{F:e,d:[{kind:"field",decorators:[(0,d.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"preview",value:function(){return!1}},{kind:"field",decorators:[(0,d.SB)()],key:"_config",value:void 0},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_listeners",value:function(){return[]}},{kind:"field",key:"_mediaQueries",value:function(){return[]}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"validateConfig",value:function(n){if(!n.conditions)throw new Error("No conditions configured");if(!Array.isArray(n.conditions))throw new Error("Conditions need to be an array");if(!(0,f.s_)(n.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=n}},{kind:"method",key:"disconnectedCallback",value:function(){(0,a.Z)(e,"disconnectedCallback",this,3)([]),this._clearMediaQueries()}},{kind:"method",key:"connectedCallback",value:function(){(0,a.Z)(e,"connectedCallback",this,3)([]),this._listenMediaQueries(),this._updateVisibility()}},{kind:"method",key:"_clearMediaQueries",value:function(){this._listeners.forEach((function(n){return n()})),this._listeners=[]}},{kind:"method",key:"_listenMediaQueries",value:function(){var n=this;if(this._config&&this.hass){var t=this._config.conditions.filter((function(n){return"condition"in n})),e=(0,f.Oj)(t);if(!(0,l.v)(e,this._mediaQueries)){this._clearMediaQueries();var i=this._config.conditions,r=1===i.length&&"condition"in i[0]&&"screen"===i[0].condition&&!!i[0].media_query;this._listeners=(0,f.av)(t,(function(t){r?n.setVisibility(t):n._updateVisibility()}))}}}},{kind:"method",key:"update",value:function(n){(0,a.Z)(e,"update",this,3)([n]),(n.has("_element")||n.has("_config")||n.has("hass")||n.has("preview"))&&(this._listenMediaQueries(),this._updateVisibility())}},{kind:"method",key:"_updateVisibility",value:function(){if(this._element&&this.hass&&this._config){this._element.preview=this.preview;var n=(0,f.Ec)(this._config.conditions,this.hass);this.setVisibility(n)}}},{kind:"method",key:"setVisibility",value:function(n){if(this._element&&this.hass){var t=this.preview||n;this.hidden!==!t&&(this.toggleAttribute("hidden",!t),this.style.setProperty("display",t?"":"none")),t?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}}}]}}),c.fl)},24272:function(n,t,e){e.a(n,(async function(n,i){try{e.r(t);var r=e(27862),o=e(52565),s=e(92776),u=e(5776),a=e(21475),c=(e(52247),e(38419),e(19423),e(50778)),d=e(34939),l=e(46542),f=n([l]);l=(f.then?(await f)():f)[0];(0,a.Z)([(0,c.Mo)("hui-conditional-row")],(function(n,t){var e=function(t){function e(){var t;(0,o.Z)(this,e);for(var i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return t=(0,s.Z)(this,e,[].concat(r)),n(t),t}return(0,u.Z)(e,t),(0,r.Z)(e)}(t);return{F:e,d:[{kind:"method",key:"setConfig",value:function(n){if(this.validateConfig(n),!n.row)throw new Error("No row configured");this._element=(0,l.m)(n.state_color?Object.assign({state_color:!0},n.row):n.row)}}]}}),d.g);i()}catch(h){i(h)}}))}}]);
//# sourceMappingURL=79220.65ce948dc62be9fc.js.map