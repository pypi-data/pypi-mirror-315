"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["305"],{72344:function(n,e,t){t.d(e,{p:function(){return i}});t(19083),t(61006);var i=function(n,e){return n&&n.config.components.includes(e)}},75101:function(n,e,t){t.d(e,{DJ:function(){return i},RQ:function(){return o},iJ:function(){return a},pB:function(){return r}});t(10265),t(38419),t(91599),t(18801),t(19423),t(42713),t(39527),t(99790),t(67670);var i=function(n,e,t){var i={type:"config_entries/subscribe"};return t&&t.type&&(i.type_filter=t.type),n.connection.subscribeMessage((function(n){return e(n)}),i)},r=function(n,e){var t={};return e&&(e.type&&(t.type_filter=e.type),e.domain&&(t.domain=e.domain)),n.callWS(Object.assign({type:"config_entries/get"},t))},o=function(n,e){return n.callWS({type:"config_entries/get_single",entry_id:e})},a=function(n,e){return n.callApi("DELETE","config/config_entries/entry/".concat(e))}},15681:function(n,e,t){t.d(e,{D4:function(){return s},D7:function(){return l},Ky:function(){return a},V3:function(){return h},XO:function(){return c},d4:function(){return d},oi:function(){return u}});t(38419),t(63619),t(52961);var i=t(62212),r=t(22381),o=(t(57816),{"HA-Frontend-Base":"".concat(location.protocol,"//").concat(location.host)}),a=function(n,e,t){var i;return n.callApi("POST","config/config_entries/flow",{handler:e,show_advanced_options:Boolean(null===(i=n.userData)||void 0===i?void 0:i.showAdvanced),entry_id:t},o)},s=function(n,e){return n.callApi("GET","config/config_entries/flow/".concat(e),void 0,o)},c=function(n,e,t){return n.callApi("POST","config/config_entries/flow/".concat(e),t,o)},u=function(n,e){return n.callApi("DELETE","config/config_entries/flow/".concat(e))},d=function(n,e){return n.callApi("GET","config/config_entries/flow_handlers".concat(e?"?type=".concat(e):""))},l=function(n){return n.sendMessagePromise({type:"config_entries/flow/progress"})},f=function(n,e){return n.subscribeEvents((0,r.D)((function(){return l(n).then((function(n){return e.setState(n,!0)}))}),500,!0),"config_entry_discovered")},h=function(n,e){return(t=n.connection,(0,i._)(t,"_configFlowProgress",l,f)).subscribe(e);var t}},6736:function(n,e,t){t.d(e,{f:function(){return l}});var i=t(11655),r=t(27862),o=t(52565),a=t(92776),s=t(5776),c=t(21475),u=t(77204),d=(t(38419),t(19083),t(71695),t(42713),t(40251),t(61006),t(39527),t(36993),t(47021),t(50778)),l=function(n){var e=(0,c.Z)(null,(function(n,e){var t=function(e){function t(){var e;(0,o.Z)(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=(0,a.Z)(this,t,[].concat(r)),n(e),e}return(0,s.Z)(t,e),(0,r.Z)(t)}(e);return{F:t,d:[{kind:"field",decorators:[(0,d.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,u.Z)(t,"connectedCallback",this,3)([]),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,u.Z)(t,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){var n=this.__unsubs.pop();n instanceof Promise?n.then((function(n){return n()})):n()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(n){if((0,u.Z)(t,"updated",this,3)([n]),n.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var e,r=(0,i.Z)(n.keys());try{for(r.s();!(e=r.n()).done;){var o=e.value;if(this.hassSubscribeRequiredHostProps.includes(o))return void this.__checkSubscribed()}}catch(a){r.e(a)}finally{r.f()}}}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var n,e=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(n=this.hassSubscribeRequiredHostProps)&&void 0!==n&&n.some((function(n){return void 0===e[n]}))||(this.__unsubs=this.hassSubscribe())}}]}}),n);return e}},69543:function(n,e,t){var i,r,o,a,s,c,u,d=t("9833"),l=t("94524"),f=t("22936"),h=t("63038"),p=t("11655"),v=t("10265"),g=t("27862"),b=t("52565"),y=t("92776"),k=t("5776"),_=t("21475"),m=t("77204"),Z=(t("38419"),t("91599"),t("26285"),t("71695"),t("64228"),t("92745"),t("451"),t("61893"),t("42713"),t("61427"),t("92519"),t("42179"),t("89256"),t("24931"),t("88463"),t("57449"),t("19814"),t("99341"),t("39527"),t("99790"),t("41360"),t("13334"),t("49207"),t("47021"),t("57243")),w=t("50778"),S=t("72344"),x=t("36522"),z=t("1416"),C=(t("59826"),t("75101")),D=t("15681"),A=t("57816"),B=t("6736"),L=(t("37583"),t("88238")),E=((0,_.Z)([(0,w.Mo)("integration-badge")],(function(n,e){var t=function(e){function t(){var e;(0,b.Z)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=(0,y.Z)(this,t,[].concat(r)),n(e),e}return(0,k.Z)(t,e),(0,g.Z)(t)}(e);return{F:t,d:[{kind:"field",decorators:[(0,w.Cb)()],key:"domain",value:void 0},{kind:"field",decorators:[(0,w.Cb)()],key:"title",value:void 0},{kind:"field",decorators:[(0,w.Cb)({type:Boolean})],key:"darkOptimizedIcon",value:function(){return!1}},{kind:"field",decorators:[(0,w.Cb)({type:Boolean,reflect:!0})],key:"clickable",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,Z.dy)(i||(i=(0,h.Z)([' <div class="icon"> <img alt="" src="','" crossorigin="anonymous" referrerpolicy="no-referrer"> </div> <div class="title">',"</div> "])),(0,L.X1)({domain:this.domain,type:"icon",darkOptimized:this.darkOptimizedIcon}),this.title)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,Z.iv)(r||(r=(0,h.Z)([":host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}img{max-width:100%;max-height:100%}.icon{position:relative;margin:0 auto 8px;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.title{min-height:2.3em;word-break:break-word}"])))}}]}}),Z.oi),t("17409")),O=new Set(["google_translate","hassio","met","radio_browser","rpi_power","shopping_list","sun"]);(0,_.Z)([(0,w.Mo)("onboarding-integrations")],(function(n,e){var t,i,r=function(e){function t(){var e;(0,b.Z)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=(0,y.Z)(this,t,[].concat(r)),n(e),e}return(0,k.Z)(t,e),(0,g.Z)(t)}(e);return{F:r,d:[{kind:"field",decorators:[(0,w.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,w.Cb)({attribute:!1})],key:"onboardingLocalize",value:void 0},{kind:"field",decorators:[(0,w.SB)()],key:"_entries",value:function(){return[]}},{kind:"field",decorators:[(0,w.SB)()],key:"_discoveredDomains",value:void 0},{kind:"method",key:"hassSubscribe",value:function(){var n=this;return[(0,D.V3)(this.hass,(function(e){n._discoveredDomains=new Set(e.filter((function(n){return!O.has(n.handler)})).map((function(n){return n.handler}))),n.hass.loadBackendTranslation("title",Array.from(n._discoveredDomains))})),(0,C.DJ)(this.hass,(function(e){var t=!1,i=[],r=new Set;if(e.forEach((function(e){if(null===e.type||"added"===e.type){if(O.has(e.entry.domain))return;i.push(e.entry),r.add(e.entry.domain),null===e.type&&(t=!0)}else if("removed"===e.type)n._entries=n._entries.filter((function(n){return n.entry_id!==e.entry.entry_id}));else if("updated"===e.type){if(O.has(e.entry.domain))return;var o=e.entry;n._entries=n._entries.map((function(n){return n.entry_id===o.entry_id?o:n}))}})),i.length||t){n.hass.loadBackendTranslation("title",Array.from(r));var o=t?[]:n._entries;n._entries=[].concat((0,v.Z)(o),i)}}),{type:["device","hub","service"]})]}},{kind:"method",key:"render",value:function(){var n=this;if(!this._discoveredDomains)return Z.Ld;var e=new Set;this._entries.forEach((function(n){e.add(n.domain)})),e=new Set([].concat((0,v.Z)(e),(0,v.Z)(this._discoveredDomains)));var t,i=[],r=(0,p.Z)(e.values());try{for(r.s();!(t=r.n()).done;){var u=t.value;i.push([u,(0,A.Lh)(this.hass.localize,u)])}}catch(l){r.e(l)}finally{r.f()}var d=(i=i.sort((function(e,t){return(0,z.$)(e[0],t[0],n.hass.locale.language)}))).length;return 0===d?(0,Z.dy)(o||(o=(0,h.Z)([' <div class="all-set-icon">ðŸŽ‰</div> <h1> '," </h1> <p> ",' </p> <div class="footer"> <ha-button unelevated @click="','"> '," </ha-button> </div> "])),this.onboardingLocalize("ui.panel.page-onboarding.integration.all_set"),this.onboardingLocalize("ui.panel.page-onboarding.integration.lets_start"),this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")):(i.length>12&&(i=i.slice(0,11)),(0,Z.dy)(a||(a=(0,h.Z)([" <h1> "," </h1> <p> ",' </p> <div class="badges"> '," ",' </div> <div class="footer"> <ha-button unelevated @click="','"> '," </ha-button> </div> "])),this.onboardingLocalize("ui.panel.page-onboarding.integration.header"),this.onboardingLocalize("ui.panel.page-onboarding.integration.intro"),i.map((function(e){var t,i=(0,f.Z)(e,2),r=i[0],o=i[1];return(0,Z.dy)(s||(s=(0,h.Z)(['<integration-badge .domain="','" .title="','" .darkOptimizedIcon="','"></integration-badge>'])),r,o,null===(t=n.hass.themes)||void 0===t?void 0:t.darkMode)})),d>i.length?(0,Z.dy)(c||(c=(0,h.Z)(['<div class="more"> '," </div>"])),this.onboardingLocalize("ui.panel.page-onboarding.integration.more_integrations",{count:d-i.length})):Z.Ld,this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")))}},{kind:"method",key:"firstUpdated",value:function(n){(0,m.Z)(r,"firstUpdated",this,3)([n]),this.hass.loadBackendTranslation("title"),this._scanUSBDevices()}},{kind:"method",key:"_scanUSBDevices",value:(i=(0,l.Z)((0,d.Z)().mark((function n(){return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((0,S.p)(this.hass,"usb")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,this.hass.callWS({type:"usb/scan"});case 4:case"end":return n.stop()}}),n,this)}))),function(){return i.apply(this,arguments)})},{kind:"method",key:"_finish",value:(t=(0,l.Z)((0,d.Z)().mark((function n(){return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,x.B)(this,"onboarding-step",{type:"integration"});case 1:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[E.I,(0,Z.iv)(u||(u=(0,h.Z)([".badges{margin-top:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(106px,1fr));row-gap:24px}.more{display:flex;justify-content:center;align-items:center;height:100%}.all-set-icon{font-size:64px;text-align:center}"])))]}}]}}),(0,B.f)(Z.oi))},88238:function(n,e,t){t.d(e,{X1:function(){return i},u4:function(){return r},zC:function(){return o}});t(38419),t(88044);var i=function(n){return"https://brands.home-assistant.io/".concat(n.brand?"brands/":"").concat(n.useFallback?"_/":"").concat(n.domain,"/").concat(n.darkOptimized?"dark_":"").concat(n.type,".png")},r=function(n){return n.split("/")[4]},o=function(n){return n.startsWith("https://brands.home-assistant.io/")}}}]);
//# sourceMappingURL=305.ec5a28b92a9cf526.js.map