"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["44487"],{88618:function(n,t,e){e.d(t,{Wg:function(){return h},qN:function(){return f.q}});var i,r,o=e(52565),a=e(27862),c=e(92776),s=e(77204),u=e(5776),l=(e(26285),e(99341),e(9065)),d=e(50778),f=e(11911),p=null!==(r=null===(i=window.ShadyDOM)||void 0===i?void 0:i.inUse)&&void 0!==r&&r,h=function(n){function t(){var n;return(0,o.Z)(this,t),(n=(0,c.Z)(this,t,arguments)).disabled=!1,n.containingForm=null,n.formDataListener=function(t){n.disabled||n.setFormData(t.formData)},n}return(0,u.Z)(t,n),(0,a.Z)(t,[{key:"findFormElement",value:function(){if(!this.shadowRoot||p)return null;for(var n=this.getRootNode().querySelectorAll("form"),t=0,e=Array.from(n);t<e.length;t++){var i=e[t];if(i.contains(this))return i}return null}},{key:"connectedCallback",value:function(){var n;(0,s.Z)(t,"connectedCallback",this,3)([]),this.containingForm=this.findFormElement(),null===(n=this.containingForm)||void 0===n||n.addEventListener("formdata",this.formDataListener)}},{key:"disconnectedCallback",value:function(){var n;(0,s.Z)(t,"disconnectedCallback",this,3)([]),null===(n=this.containingForm)||void 0===n||n.removeEventListener("formdata",this.formDataListener),this.containingForm=null}},{key:"click",value:function(){this.formElement&&!this.disabled&&(this.formElement.focus(),this.formElement.click())}},{key:"firstUpdated",value:function(){var n=this;(0,s.Z)(t,"firstUpdated",this,3)([]),this.shadowRoot&&this.mdcRoot.addEventListener("change",(function(t){n.dispatchEvent(new Event("change",t))}))}}])}(f.H);h.shadowRootOptions={mode:"open",delegatesFocus:!0},(0,l.__decorate)([(0,d.Cb)({type:Boolean})],h.prototype,"disabled",void 0)},87319:function(n,t,e){var i=e(27862),r=e(52565),o=e(92776),a=e(5776),c=e(9065),s=e(50778),u=e(65703),l=e(46289),d=function(n){function t(){return(0,r.Z)(this,t),(0,o.Z)(this,t,arguments)}return(0,a.Z)(t,n),(0,i.Z)(t)}(u.K);d.styles=[l.W],d=(0,c.__decorate)([(0,s.Mo)("mwc-list-item")],d)},49976:function(n,t,e){e.d(t,{U:function(){return i}});var i=function(n){return n.stopPropagation()}},22381:function(n,t,e){e.d(t,{D:function(){return i}});var i=function(n,t){var e,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var c=i&&!e;clearTimeout(e),e=window.setTimeout((function(){e=void 0,i||n.apply(void 0,o)}),t),c&&n.apply(void 0,o)};return r.cancel=function(){clearTimeout(e)},r}},76320:function(n,t,e){e.d(t,{T:function(){return i},y:function(){return r}});e(42713),e(40251);var i=function(n){requestAnimationFrame((function(){return setTimeout(n,0)}))},r=function(){return new Promise((function(n){i(n)}))}},7285:function(n,t,e){e.d(t,{M:function(){return m}});var i,r,o,a=e(63038),c=e(27862),s=e(52565),u=e(92776),l=e(5776),d=e(21475),f=e(77204),p=(e(38419),e(65703)),h=e(46289),v=e(57243),g=e(50778),m=(0,d.Z)([(0,g.Mo)("ha-list-item")],(function(n,t){var e=function(t){function e(){var t;(0,s.Z)(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=(0,u.Z)(this,e,[].concat(r)),n(t),t}return(0,l.Z)(e,t),(0,c.Z)(e)}(t);return{F:e,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,f.Z)(e,"renderRipple",this,3)([])}},{kind:"get",static:!0,key:"styles",value:function(){return[h.W,(0,v.iv)(i||(i=(0,a.Z)([":host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}"]))),"rtl"===document.dir?(0,v.iv)(r||(r=(0,a.Z)(["span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}"]))):(0,v.iv)(o||(o=(0,a.Z)([""])))]}}]}}),p.K)},92824:function(n,t,e){var i,r,o,a,c=e(9833),s=e(94524),u=e(63038),l=e(27862),d=e(52565),f=e(92776),p=e(5776),h=e(21475),v=e(77204),g=(e(38419),e(60930)),m=e(9714),y=e(57243),_=e(50778),b=e(22381),k=e(76320);e(23334),(0,h.Z)([(0,_.Mo)("ha-select")],(function(n,t){var e,h=function(t){function e(){var t;(0,d.Z)(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=(0,f.Z)(this,e,[].concat(r)),n(t),t}return(0,p.Z)(e,t),(0,l.Z)(e)}(t);return{F:h,d:[{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"icon",value:function(){return!1}},{kind:"field",decorators:[(0,_.Cb)({type:Boolean,reflect:!0})],key:"clearable",value:function(){return!1}},{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"inlineArrow",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,y.dy)(i||(i=(0,u.Z)([" "," "," "])),(0,v.Z)(h,"render",this,3)([]),this.clearable&&!this.required&&!this.disabled&&this.value?(0,y.dy)(r||(r=(0,u.Z)(['<ha-icon-button label="clear" @click="','" .path="','"></ha-icon-button>'])),this._clearValue,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):y.Ld)}},{kind:"method",key:"renderLeadingIcon",value:function(){return this.icon?(0,y.dy)(o||(o=(0,u.Z)(['<span class="mdc-select__icon"><slot name="icon"></slot></span>']))):y.Ld}},{kind:"method",key:"connectedCallback",value:function(){(0,v.Z)(h,"connectedCallback",this,3)([]),window.addEventListener("translations-updated",this._translationsUpdated)}},{kind:"method",key:"firstUpdated",value:(e=(0,s.Z)((0,c.Z)().mark((function n(){var t;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,v.Z)(h,"firstUpdated",this,3)([]),this.inlineArrow&&(null===(t=this.shadowRoot)||void 0===t||null===(t=t.querySelector(".mdc-select__selected-text-container"))||void 0===t||t.classList.add("inline-arrow"));case 2:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{kind:"method",key:"updated",value:function(n){if((0,v.Z)(h,"updated",this,3)([n]),n.has("inlineArrow")){var t,e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".mdc-select__selected-text-container");this.inlineArrow?null==e||e.classList.add("inline-arrow"):null==e||e.classList.remove("inline-arrow")}}},{kind:"method",key:"disconnectedCallback",value:function(){(0,v.Z)(h,"disconnectedCallback",this,3)([]),window.removeEventListener("translations-updated",this._translationsUpdated)}},{kind:"method",key:"_clearValue",value:function(){!this.disabled&&this.value&&(this.valueSetDirectly=!0,this.select(-1),this.mdcFoundation.handleChange())}},{kind:"field",key:"_translationsUpdated",value:function(){var n=this;return(0,b.D)((0,s.Z)((0,c.Z)().mark((function t(){return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,k.y)();case 2:n.layoutOptions();case 3:case"end":return t.stop()}}),t)}))),500)}},{kind:"field",static:!0,key:"styles",value:function(){return[m.W,(0,y.iv)(a||(a=(0,u.Z)([":host([clearable]){position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:var(--secondary-text-color)}.mdc-select__anchor{width:var(--ha-select-min-width,200px)}.mdc-select--filled .mdc-select__anchor{height:var(--ha-select-height,56px)}.mdc-select--filled .mdc-floating-label{inset-inline-start:12px;inset-inline-end:initial;direction:var(--direction)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{inset-inline-start:48px;inset-inline-end:initial;direction:var(--direction)}.mdc-select .mdc-select__anchor{padding-inline-start:12px;padding-inline-end:0px;direction:var(--direction)}.mdc-select__anchor .mdc-floating-label--float-above{transform-origin:var(--float-start)}.mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,0px)}:host([clearable]) .mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,12px)}ha-icon-button{position:absolute;top:10px;right:28px;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);inset-inline-start:initial;inset-inline-end:28px;direction:var(--direction)}.inline-arrow{flex-grow:0}"])))]}}]}}),g.K)},91838:function(n,t,e){e.r(t),e.d(t,{HaConversationAgentSelector:function(){return O}});var i,r,o,a,c,s,u,l=e("63038"),d=e("27862"),f=e("52565"),p=e("92776"),h=e("5776"),v=e("21475"),g=(e("38419"),e("57243")),m=e("50778"),y=e("9833"),_=e("94524"),b=e("11655"),k=e("77204"),w=(e("18801"),e("19083"),e("64228"),e("63619"),e("42713"),e("61006"),e("39527"),e("67670"),e("13334"),e("36522")),Z=e("49976"),x=e("22381"),L=e("75101"),C=e("42740"),S=e("57816"),E=e("91854"),F=(e("7285"),e("92824"),e("63318")),A="__NONE_OPTION__",O=((0,v.Z)([(0,m.Mo)("ha-conversation-agent-picker")],(function(n,t){var e,s,u,v=function(t){function e(){var t;(0,f.Z)(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=(0,p.Z)(this,e,[].concat(r)),n(t),t}return(0,h.Z)(e,t),(0,d.Z)(e)}(t);return{F:v,d:[{kind:"field",decorators:[(0,m.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"language",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,m.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,m.Cb)({type:Boolean,reflect:!0})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"required",value:function(){return!1}},{kind:"field",decorators:[(0,m.SB)()],key:"_agents",value:void 0},{kind:"field",decorators:[(0,m.SB)()],key:"_configEntry",value:void 0},{kind:"method",key:"render",value:function(){var n;if(!this._agents)return g.Ld;var t=this.value;if(!t&&this.required){var e,c=(0,b.Z)(this._agents);try{for(c.s();!(e=c.n()).done;){var s=e.value;if("conversation.home_assistant"===s.id&&s.supported_languages.includes(this.language)){t=s.id;break}}}catch(p){c.e(p)}finally{c.f()}if(!t){var u,d=(0,b.Z)(this._agents);try{for(d.s();!(u=d.n()).done;){var f=u.value;if("*"===f.supported_languages&&f.supported_languages.includes(this.language)){t=f.id;break}}}catch(p){d.e(p)}finally{d.f()}}}return t||(t=A),(0,g.dy)(i||(i=(0,l.Z)([' <ha-select .label="','" .value="','" .required="','" .disabled="','" @selected="','" @closed="','" fixedMenuPosition naturalMenuWidth> '," ","</ha-select>"," "])),this.label||this.hass.localize("ui.components.coversation-agent-picker.conversation_agent"),t,this.required,this.disabled,this._changed,Z.U,this.required?g.Ld:(0,g.dy)(r||(r=(0,l.Z)(['<ha-list-item .value="','"> '," </ha-list-item>"])),A,this.hass.localize("ui.components.coversation-agent-picker.none")),this._agents.map((function(n){return(0,g.dy)(o||(o=(0,l.Z)(['<ha-list-item .value="','" .disabled="','"> '," </ha-list-item>"])),n.id,"*"!==n.supported_languages&&0===n.supported_languages.length,n.name)})),null!==(n=this._configEntry)&&void 0!==n&&n.supports_options?(0,g.dy)(a||(a=(0,l.Z)(['<ha-icon-button .path="','" @click="','"></ha-icon-button>'])),"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",this._openOptionsFlow):"")}},{kind:"method",key:"willUpdate",value:function(n){(0,k.Z)(v,"willUpdate",this,3)([n]),this.hasUpdated?n.has("language")&&this._debouncedUpdateAgents():this._updateAgents(),n.has("value")&&this._maybeFetchConfigEntry()}},{kind:"method",key:"_maybeFetchConfigEntry",value:(u=(0,_.Z)((0,y.Z)().mark((function n(){var t;return(0,y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.value&&this.value in this.hass.entities){n.next=3;break}return this._configEntry=void 0,n.abrupt("return");case 3:return n.prev=3,n.next=6,(0,F.L3)(this.hass,this.value);case 6:if((t=n.sent).config_entry_id){n.next=10;break}return this._configEntry=void 0,n.abrupt("return");case 10:return n.next=12,(0,L.RQ)(this.hass,t.config_entry_id);case 12:this._configEntry=n.sent.config_entry,n.next=18;break;case 15:n.prev=15,n.t0=n.catch(3),this._configEntry=void 0;case 18:case"end":return n.stop()}}),n,this,[[3,15]])}))),function(){return u.apply(this,arguments)})},{kind:"field",key:"_debouncedUpdateAgents",value:function(){var n=this;return(0,x.D)((function(){return n._updateAgents()}),500)}},{kind:"method",key:"_updateAgents",value:(s=(0,_.Z)((0,y.Z)().mark((function n(){var t,e,i,r=this;return(0,y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,C.rM)(this.hass,this.language,this.hass.config.country||void 0);case 2:if(t=n.sent,e=t.agents,this._agents=e,this.value){n.next=7;break}return n.abrupt("return");case 7:i=e.find((function(n){return n.id===r.value})),(0,w.B)(this,"supported-languages-changed",{value:null==i?void 0:i.supported_languages}),(!i||"*"!==i.supported_languages&&0===i.supported_languages.length)&&(this.value=void 0,(0,w.B)(this,"value-changed",{value:this.value}));case 10:case"end":return n.stop()}}),n,this)}))),function(){return s.apply(this,arguments)})},{kind:"method",key:"_openOptionsFlow",value:(e=(0,_.Z)((0,y.Z)().mark((function n(){return(0,y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._configEntry){n.next=2;break}return n.abrupt("return");case 2:return n.t0=E.c,n.t1=this,n.t2=this._configEntry,n.next=7,(0,S.t4)(this.hass,this._configEntry.domain);case 7:n.t3=n.sent,n.t4={manifest:n.t3},(0,n.t0)(n.t1,n.t2,n.t4);case 10:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return(0,g.iv)(c||(c=(0,l.Z)([":host{display:flex;align-items:center}ha-select{width:100%}ha-icon-button{color:var(--secondary-text-color)}"])))}},{kind:"method",key:"_changed",value:function(n){var t,e=this,i=n.target;!this.hass||""===i.value||i.value===this.value||void 0===this.value&&i.value===A||(this.value=i.value===A?void 0:i.value,(0,w.B)(this,"value-changed",{value:this.value}),(0,w.B)(this,"supported-languages-changed",{value:null===(t=this._agents.find((function(n){return n.id===e.value})))||void 0===t?void 0:t.supported_languages}))}}]}}),g.oi),(0,v.Z)([(0,m.Mo)("ha-selector-conversation_agent")],(function(n,t){var e=function(t){function e(){var t;(0,f.Z)(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=(0,p.Z)(this,e,[].concat(r)),n(t),t}return(0,h.Z)(e,t),(0,d.Z)(e)}(t);return{F:e,d:[{kind:"field",decorators:[(0,m.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,m.Cb)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"required",value:function(){return!0}},{kind:"field",decorators:[(0,m.Cb)({attribute:!1})],key:"context",value:void 0},{kind:"method",key:"render",value:function(){var n,t;return(0,g.dy)(s||(s=(0,l.Z)(['<ha-conversation-agent-picker .hass="','" .value="','" .language="','" .label="','" .helper="','" .disabled="','" .required="','"></ha-conversation-agent-picker>'])),this.hass,this.value,(null===(n=this.selector.conversation_agent)||void 0===n?void 0:n.language)||(null===(t=this.context)||void 0===t?void 0:t.language),this.label,this.helper,this.disabled,this.required)}},{kind:"field",static:!0,key:"styles",value:function(){return(0,g.iv)(u||(u=(0,l.Z)(["ha-conversation-agent-picker{width:100%}"])))}}]}}),g.oi))},75101:function(n,t,e){e.d(t,{DJ:function(){return a},LZ:function(){return r},Nn:function(){return d},Ny:function(){return f},Pk:function(){return h},Q4:function(){return o},RQ:function(){return s},SO:function(){return u},T0:function(){return p},iJ:function(){return l},pB:function(){return c}});var i=e(10265),r=(e(38419),e(91599),e(18801),e(19423),e(42713),e(39527),e(99790),e(67670),99387==e.j?["migration_error","setup_error","setup_retry"]:null),o=99387==e.j?["not_loaded","loaded","setup_error","setup_retry"]:null,a=function(n,t,e){var i={type:"config_entries/subscribe"};return e&&e.type&&(i.type_filter=e.type),n.connection.subscribeMessage((function(n){return t(n)}),i)},c=function(n,t){var e={};return t&&(t.type&&(e.type_filter=t.type),t.domain&&(e.domain=t.domain)),n.callWS(Object.assign({type:"config_entries/get"},e))},s=function(n,t){return n.callWS({type:"config_entries/get_single",entry_id:t})},u=function(n,t,e){return n.callWS(Object.assign({type:"config_entries/update",entry_id:t},e))},l=function(n,t){return n.callApi("DELETE","config/config_entries/entry/".concat(t))},d=function(n,t){return n.callApi("POST","config/config_entries/entry/".concat(t,"/reload"))},f=function(n,t){return n.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"})},p=function(n,t){return n.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null})},h=function(n,t){if(!t)return n;var e=n.find((function(n){return n.entry_id===t}));if(!e)return n;var r=n.filter((function(n){return n.entry_id!==t}));return[e].concat((0,i.Z)(r))}},42740:function(n,t,e){if(e.d(t,{T1:function(){return a},rM:function(){return o},zt:function(){return r}}),99387==e.j)var i=e(95262);var r=function(n){return n[n.CONTROL=1]="CONTROL",n}({}),o=function(n,t,e){return n.callWS({type:"conversation/agent/list",language:t,country:e})},a=function(n,t,e,r){return n.callWS({type:"conversation/agent/homeassistant/debug",sentences:(0,i.r)(t),language:e,device_id:r})}},63318:function(n,t,e){e.d(t,{Iq:function(){return v},L3:function(){return h},LM:function(){return k},Mw:function(){return x},Nv:function(){return g},_V:function(){return w},eD:function(){return d},hg:function(){return y},tf:function(){return _},vA:function(){return p},w1:function(){return Z},wX:function(){return f},z3:function(){return m}});var i=e(11655);e(91599),e(18801),e(19083),e(80133),e(61893),e(63619),e(19423),e(42713),e(39527),e(99790),e(67670);if(66977!=e.j)var r=e(62212);var o=e(27486),a=e(47194),c=e(1416);if(66977!=e.j)var s=e(22381);var u=e(73850),l=66977!=e.j?["sensor","binary_sensor"]:null,d=function(n,t){var e=t.filter((function(t){return n.states[t.entity_id]&&"battery"===n.states[t.entity_id].attributes.device_class&&l.includes((0,u.M)(t.entity_id))})).sort((function(n,t){return l.indexOf((0,u.M)(n.entity_id))-l.indexOf((0,u.M)(t.entity_id))}));if(e.length>0)return e[0]},f=function(n,t){return t.find((function(t){return n.states[t.entity_id]&&"battery_charging"===n.states[t.entity_id].attributes.device_class}))},p=function(n,t){if(t.name)return t.name;var e=n.states[t.entity_id];return e?(0,a.C)(e):t.original_name?t.original_name:t.entity_id},h=function(n,t){return n.callWS({type:"config/entity_registry/get",entity_id:t})},v=function(n,t){return n.callWS({type:"config/entity_registry/get_entries",entity_ids:t})},g=function(n,t,e){return n.callWS(Object.assign({type:"config/entity_registry/update",entity_id:t},e))},m=function(n,t){return n.callWS({type:"config/entity_registry/remove",entity_id:t})},y=function(n){return n.sendMessagePromise({type:"config/entity_registry/list"})},_=function(n){return n.sendMessagePromise({type:"config/entity_registry/list_for_display"})},b=function(n,t){return n.subscribeEvents((0,s.D)((function(){return y(n).then((function(n){return t.setState(n,!0)}))}),500,!0),"entity_registry_updated")},k=function(n,t){return(0,r.B)("_entityRegistry",y,b,n,t)},w=function(n,t){return n.sort((function(n,e){return(0,c.f)(n.name||"",e.name||"",t)}))},Z=(0,o.Z)((function(n){var t,e={},r=(0,i.Z)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;e[o.entity_id]=o}}catch(a){r.e(a)}finally{r.f()}return e})),x=(0,o.Z)((function(n){var t,e={},r=(0,i.Z)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;e[o.id]=o}}catch(a){r.e(a)}finally{r.f()}return e}))},57816:function(n,t,e){e.d(t,{F3:function(){return u},H0:function(){return c},Lh:function(){return s},Mt:function(){return d},O:function(){return v},RO:function(){return p},WH:function(){return a},ez:function(){return o},t4:function(){return l}});e(63619);if(99387==e.j)var i=e(62212);if(99387==e.j)var r=e(22381);var o=99387==e.j?{matter:"config/matter",mqtt:"config/mqtt",thread:"config/thread",zha:"config/zha/dashboard",zwave_js:"config/zwave_js/dashboard"}:null,a=99387==e.j?function(n){return n[n.CRITICAL=50]="CRITICAL",n[n.ERROR=40]="ERROR",n[n.WARNING=30]="WARNING",n[n.INFO=20]="INFO",n[n.DEBUG=10]="DEBUG",n[n.NOTSET=0]="NOTSET",n}({}):null,c=function(n,t){return t.issue_tracker||"https://github.com/home-assistant/core/issues?q=is%3Aissue+is%3Aopen+label%3A%22integration%3A+".concat(n,"%22")},s=function(n,t,e){return n("component.".concat(t,".title"))||(null==e?void 0:e.name)||t},u=function(n,t){var e={type:"manifest/list"};return t&&(e.integrations=t),n.callWS(e)},l=function(n,t){return n.callWS({type:"manifest/get",integration:t})},d=function(n){return n.callWS({type:"integration/setup_info"})},f=function(n){return n.sendMessagePromise({type:"logger/log_info"})},p=function(n,t,e,i){return n.callWS({type:"logger/integration_log_level",integration:t,level:e,persistence:i})},h=function(n,t){return n.subscribeEvents((0,r.D)((function(){return f(n).then((function(n){return t.setState(n,!0)}))}),200,!0),"logging_changed")},v=function(n,t){return(0,i.B)("_integration_log_info",f,h,n,t)}},45594:function(n,t,e){e.d(t,{Fv:function(){return a},e1:function(){return o},eH:function(){return i},lJ:function(){return r}});var i=function(n,t){var e;return n.callApi("POST","config/config_entries/options/flow",{handler:t,show_advanced_options:Boolean(null===(e=n.userData)||void 0===e?void 0:e.showAdvanced)})},r=function(n,t){return n.callApi("GET","config/config_entries/options/flow/".concat(t))},o=function(n,t,e){return n.callApi("POST","config/config_entries/options/flow/".concat(t),e)},a=function(n,t){return n.callApi("DELETE","config/config_entries/options/flow/".concat(t))}},7956:function(n,t,e){e.d(t,{w:function(){return o}});e(71695),e(19423),e(42713),e(40251),e(99341),e(47021);var i=e(36522),r=function(){return Promise.all([e.e("46379"),e.e("66031"),e.e("32072"),e.e("97983"),e.e("37471"),e.e("24199"),e.e("78943"),e.e("23504"),e.e("58640"),e.e("64361"),e.e("67390"),e.e("21922"),e.e("12322")]).then(e.bind(e,12656))},o=function(n,t,e){(0,i.B)(n,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:r,dialogParams:Object.assign(Object.assign({},t),{},{flowConfig:e,dialogParentElement:n})})}},91854:function(n,t,e){e.d(t,{c:function(){return m}});var i,r,o,a,c,s,u=e(63038),l=e(9833),d=e(22936),f=e(94524),p=(e(38419),e(71695),e(63619),e(19423),e(42713),e(40251),e(99341),e(47021),e(57243)),h=e(57816),v=e(45594),g=e(7956),m=function(n,t,e){return(0,g.w)(n,Object.assign({startFlowHandler:t.entry_id,domain:t.domain},e),{flowType:"options_flow",showDevices:!1,createFlow:(y=(0,f.Z)((0,l.Z)().mark((function n(e,i){var r,o,a;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([(0,v.eH)(e,i),e.loadFragmentTranslation("config"),e.loadBackendTranslation("options",t.domain),e.loadBackendTranslation("selector",t.domain)]);case 2:return r=n.sent,o=(0,d.Z)(r,1),a=o[0],n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)}))),function(n,t){return y.apply(this,arguments)}),fetchFlow:(m=(0,f.Z)((0,l.Z)().mark((function n(e,i){var r,o,a;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([(0,v.lJ)(e,i),e.loadFragmentTranslation("config"),e.loadBackendTranslation("options",t.domain),e.loadBackendTranslation("selector",t.domain)]);case 2:return r=n.sent,o=(0,d.Z)(r,1),a=o[0],n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)}))),function(n,t){return m.apply(this,arguments)}),handleFlowStep:v.e1,deleteFlow:v.Fv,renderAbortDescription:function(n,e){var r=n.localize("component.".concat(e.translation_domain||t.domain,".options.abort.").concat(e.reason),e.description_placeholders);return r?(0,p.dy)(i||(i=(0,u.Z)([' <ha-markdown breaks allowsvg .content="','"></ha-markdown> '])),r):e.reason},renderShowFormStepHeader:function(n,e){return n.localize("component.".concat(e.translation_domain||t.domain,".options.step.").concat(e.step_id,".title"),e.description_placeholders)||n.localize("ui.dialogs.options_flow.form.header")},renderShowFormStepDescription:function(n,e){var i=n.localize("component.".concat(e.translation_domain||t.domain,".options.step.").concat(e.step_id,".description"),e.description_placeholders);return i?(0,p.dy)(r||(r=(0,u.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),i):""},renderShowFormStepFieldLabel:function(n,e,i,r){var o;if("expandable"===i.type)return n.localize("component.".concat(t.domain,".options.step.").concat(e.step_id,".sections.").concat(i.name,".name"));var a=null!=r&&null!==(o=r.path)&&void 0!==o&&o[0]?"sections.".concat(r.path[0],"."):"";return n.localize("component.".concat(t.domain,".options.step.").concat(e.step_id,".").concat(a,"data.").concat(i.name))||i.name},renderShowFormStepFieldHelper:function(n,e,i,r){var a;if("expandable"===i.type)return n.localize("component.".concat(e.translation_domain||t.domain,".options.step.").concat(e.step_id,".sections.").concat(i.name,".description"));var c=null!=r&&null!==(a=r.path)&&void 0!==a&&a[0]?"sections.".concat(r.path[0],"."):"",s=n.localize("component.".concat(e.translation_domain||t.domain,".options.step.").concat(e.step_id,".").concat(c,"data_description.").concat(i.name),e.description_placeholders);return s?(0,p.dy)(o||(o=(0,u.Z)(['<ha-markdown breaks .content="','"></ha-markdown>'])),s):""},renderShowFormStepFieldError:function(n,e,i){return n.localize("component.".concat(e.translation_domain||t.domain,".options.error.").concat(i),e.description_placeholders)||i},renderShowFormStepFieldLocalizeValue:function(n,e,i){return n.localize("component.".concat(t.domain,".selector.").concat(i))},renderShowFormStepSubmitButton:function(n,e){return n.localize("component.".concat(t.domain,".options.step.").concat(e.step_id,".submit"))||n.localize("ui.panel.config.integrations.config_flow.".concat(!1===e.last_step?"next":"submit"))},renderExternalStepHeader:function(n,t){return""},renderExternalStepDescription:function(n,t){return""},renderCreateEntryDescription:function(n,t){return(0,p.dy)(a||(a=(0,u.Z)([" <p>","</p> "])),n.localize("ui.dialogs.options_flow.success.description"))},renderShowFormProgressHeader:function(n,e){return n.localize("component.".concat(t.domain,".options.step.").concat(e.step_id,".title"))||n.localize("component.".concat(t.domain,".title"))},renderShowFormProgressDescription:function(n,e){var i=n.localize("component.".concat(e.translation_domain||t.domain,".options.progress.").concat(e.progress_action),e.description_placeholders);return i?(0,p.dy)(c||(c=(0,u.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),i):""},renderMenuHeader:function(n,e){return n.localize("component.".concat(t.domain,".options.step.").concat(e.step_id,".title"))||n.localize("component.".concat(t.domain,".title"))},renderMenuDescription:function(n,e){var i=n.localize("component.".concat(e.translation_domain||t.domain,".options.step.").concat(e.step_id,".description"),e.description_placeholders);return i?(0,p.dy)(s||(s=(0,u.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),i):""},renderMenuOption:function(n,e,i){return n.localize("component.".concat(e.translation_domain||t.domain,".options.step.").concat(e.step_id,".menu_options.").concat(i),e.description_placeholders)},renderLoadingDescription:function(n,e){return n.localize("component.".concat(t.domain,".options.loading"))||("loading_flow"===e||"loading_step"===e?n.localize("ui.dialogs.options_flow.loading.".concat(e),{integration:(0,h.Lh)(n.localize,t.domain)}):"")}});var m,y}},17743:function(n,t,e){var i=e(13053);n.exports=function(n,t,e){for(var r=0,o=arguments.length>2?e:i(t),a=new n(o);o>r;)a[r]=t[r++];return a}},57145:function(n,t,e){var i=e(31269),r=e(72878),o=e(25091),a=e(12360),c=e(70273),s=e(13053),u=e(72309),l=e(17743),d=Array,f=r([].push);n.exports=function(n,t,e,r){for(var p,h,v,g=a(n),m=o(g),y=i(t,e),_=u(null),b=s(m),k=0;b>k;k++)v=m[k],(h=c(y(v,k,g)))in _?f(_[h],v):_[h]=[v];if(r&&(p=r(g))!==d)for(h in _)_[h]=l(p,_[h]);return _}},16612:function(n,t,e){var i=e(83360),r=e(65225),o=e(88045),a=e(13053),c=e(4371),s=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,d=c("lastIndexOf"),f=l||!d;n.exports=f?function(n){if(l)return i(u,this,arguments)||0;var t=r(this),e=a(t);if(0===e)return-1;var c=e-1;for(arguments.length>1&&(c=s(c,o(arguments[1]))),c<0&&(c=e+c);c>=0;c--)if(c in t&&t[c]===n)return c||0;return-1}:u},74970:function(n,t,e){var i=e(72878),r=e(95011),o=e(72616),a=/"/g,c=i("".replace);n.exports=function(n,t,e,i){var s=o(r(n)),u="<"+t;return""!==e&&(u+=" "+e+'="'+c(o(i),a,"&quot;")+'"'),u+">"+s+"</"+t+">"}},45008:function(n,t,e){var i=e(29660);n.exports=function(n){return i((function(){var t=""[n]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},37588:function(n,t,e){var i=e(68533).PROPER,r=e(29660),o=e(91430);n.exports=function(n){return r((function(){return!!o[n]()||"​᠎"!=="​᠎"[n]()||i&&o[n].name!==n}))}},45426:function(n,t,e){var i=e(40810),r=e(16612);i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},72015:function(n,t,e){var i=e(40810),r=e(74970);i({target:"String",proto:!0,forced:e(45008)("anchor")},{anchor:function(n){return r(this,"a","name",n)}})},81804:function(n,t,e){var i=e(40810),r=e(36888).trim;i({target:"String",proto:!0,forced:e(37588)("trim")},{trim:function(){return r(this)}})},22139:function(n,t,e){var i=e(40810),r=e(57145),o=e(35709);i({target:"Array",proto:!0},{group:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}}),o("group")},62212:function(n,t,e){e.d(t,{B:function(){return o},_:function(){return r}});e(52247),e(38419);var i=e(98330),r=function(n,t,e,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{unsubGrace:!0};if(n[t])return n[t];var a,c,s=0,u=(0,i.M)(),l=function(){if(!e)throw new Error("Collection does not support refresh");return e(n).then((function(n){return u.setState(n,!0)}))},d=function(){return l().catch((function(t){if(n.connected)throw t}))},f=function(){c=void 0,a&&a.then((function(n){n()})),u.clearState(),n.removeEventListener("ready",l),n.removeEventListener("disconnected",p)},p=function(){c&&(clearTimeout(c),f())};return n[t]={get state(){return u.state},refresh:l,subscribe:function(t){1===++s&&function(){if(void 0!==c)return clearTimeout(c),void(c=void 0);r&&(a=r(n,u)),e&&(n.addEventListener("ready",d),d()),n.addEventListener("disconnected",p)}();var i=u.subscribe(t);return void 0!==u.state&&setTimeout((function(){return t(u.state)}),0),function(){i(),--s||(o.unsubGrace?c=setTimeout(f,5e3):f())}}},n[t]},o=function(n,t,e,i,o){return r(i,n,t,e).subscribe(o)}},98330:function(n,t,e){e.d(t,{M:function(){return i}});e(92745),e(19423),e(42713),e(40251);var i=function(n){var t=[];function e(e,i){n=i?e:Object.assign(Object.assign({},n),e);for(var r=t,o=0;o<r.length;o++)r[o](n)}return{get state(){return n},action:function(t){function i(n){e(n,!1)}return function(){for(var e=[n],r=0;r<arguments.length;r++)e.push(arguments[r]);var o=t.apply(this,e);if(null!=o)return o instanceof Promise?o.then(i):i(o)}},setState:e,clearState:function(){n=void 0},subscribe:function(n){return t.push(n),function(){!function(n){for(var e=[],i=0;i<t.length;i++)t[i]===n?n=null:e.push(t[i]);t=e}(n)}}}}}}]);
//# sourceMappingURL=44487.104d06c73d625ce1.js.map