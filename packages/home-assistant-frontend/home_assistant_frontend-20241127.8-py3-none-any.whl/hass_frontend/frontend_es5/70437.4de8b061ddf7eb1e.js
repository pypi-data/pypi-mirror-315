"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["70437"],{88935:function(e,t,n){n.d(t,{Cu:function(){return w},Ex:function(){return s},R9:function(){return f},_T:function(){return _},fC:function(){return l},gK:function(){return p},lN:function(){return h},nJ:function(){return b},tB:function(){return m},td:function(){return d},uV:function(){return g},xO:function(){return C},xr:function(){return v}});var r=n(9833),i=n(94524),a=(n(91599),n(18801),n(71695),n(64228),n(42713),n(37362),n(61427),n(92519),n(42179),n(89256),n(24931),n(88463),n(57449),n(19814),n(99341),n(39527),n(99790),n(67670),n(13334),n(47021),n(83523)),o=n(46329),u=n(72344),c=n(22274),d=function(e){return e.THREAD="thread",e.WIFI="wifi",e.ETHERNET="ethernet",e.UNKNOWN="unknown",e}({}),s=function(e){var t;return null===(t=e.auth.external)||void 0===t?void 0:t.config.canCommissionMatter},l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,u.p)(t,"thread")){e.next=16;break}return e.next=3,(0,c.r9)(t);case 3:if(n=e.sent,!(i=n.datasets.find((function(e){return e.preferred})))){e.next=16;break}return e.t0=t.auth.external,e.next=9,(0,c.EM)(t,i.dataset_id);case 9:return e.t1=e.sent.tlv,e.t2=i.preferred_border_agent_id,e.t3=i.preferred_extended_address,e.t4=i.extended_pan_id,e.t5={active_operational_dataset:e.t1,border_agent_id:e.t2,mac_extended_address:e.t3,extended_pan_id:e.t4},e.t6={type:"matter/commission",payload:e.t5},e.abrupt("return",e.t0.fireMessage.call(e.t0,e.t6));case 16:return e.abrupt("return",t.auth.external.fireMessage({type:"matter/commission"}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e,t){var n,r=(0,o.q4)(e.connection,(function(e){if(n){var i=Object.values(e).filter((function(e){return e.identifiers.find((function(e){return"matter"===e[0]}))&&!n.has(e.id)}));i.length&&(r(),n=void 0,null==t||t(),(0,a.c)("/config/devices/device/".concat(i[0].id)))}else n=new Set(Object.values(e).filter((function(e){return e.identifiers.find((function(e){return"matter"===e[0]}))})).map((function(e){return e.id})))}));return function(){r(),n=void 0}},_=function(e,t){return e.callWS({type:"matter/commission",code:t})},p=function(e,t){return e.callWS({type:"matter/commission_on_network",pin:t})},v=function(e,t,n){return e.callWS({type:"matter/set_wifi_credentials",network_name:t,password:n})},m=function(e,t){return e.callWS({type:"matter/set_thread",thread_operation_dataset:t})},g=function(e,t){return e.callWS({type:"matter/node_diagnostics",device_id:t})},C=function(e,t){return e.callWS({type:"matter/ping_node",device_id:t})},h=function(e,t){return e.callWS({type:"matter/open_commissioning_window",device_id:t})},b=function(e,t,n){return e.callWS({type:"matter/remove_matter_fabric",device_id:t,fabric_index:n})},w=function(e,t){return e.callWS({type:"matter/interview_node",device_id:t})}},22274:function(e,t,n){n.d(t,{EM:function(){return c},NO:function(){return f},Xt:function(){return s},h:function(){return o},jK:function(){return d},lR:function(){return l},r9:function(){return u}});var r=n(52565),i=n(27862),a=(n(37362),function(){return(0,i.Z)((function e(){(0,r.Z)(this,e),this.routers=void 0,this.routers={}}),[{key:"processEvent",value:function(e){return"router_discovered"===e.type?this.routers[e.key]=e.data:"router_removed"===e.type&&delete this.routers[e.key],Object.values(this.routers)}}])}()),o=function(e,t){var n=new a;return e.connection.subscribeMessage((function(e){return t(n.processEvent(e))}),{type:"thread/discover_routers"})},u=function(e){return e.callWS({type:"thread/list_datasets"})},c=function(e,t){return e.callWS({type:"thread/get_dataset_tlv",dataset_id:t})},d=function(e,t,n){return e.callWS({type:"thread/add_dataset_tlv",source:t,tlv:n})},s=function(e,t){return e.callWS({type:"thread/delete_dataset",dataset_id:t})},l=function(e,t){return e.callWS({type:"thread/set_preferred_dataset",dataset_id:t})},f=function(e,t,n,r){return e.callWS({type:"thread/set_preferred_border_agent",dataset_id:t,border_agent_id:n,extended_address:r})}},70534:function(e,t,n){n.r(t),n.d(t,{getMatterDeviceActions:function(){return p},getMatterDeviceDefaultActions:function(){return _}});var r=n("9833"),i=n("94524"),a=(n("92745"),n("88935")),o=(n("71695"),n("42713"),n("40251"),n("99341"),n("47021"),n("36522")),u=function(){return n.e("20720").then(n.bind(n,38406))},c=function(){return n.e("28141").then(n.bind(n,95361))},d=function(){return Promise.all([n.e("68182"),n.e("53750"),n.e("83999")]).then(n.bind(n,41763))},s=function(){return Promise.all([n.e("68182"),n.e("53750"),n.e("64945")]).then(n.bind(n,57426))},l=n("83523"),f="M12,1L8,5H11V14H13V5H16M18,23H6C4.89,23 4,22.1 4,21V9A2,2 0 0,1 6,7H9V9H6V21H18V9H15V7H18A2,2 0 0,1 20,9V21A2,2 0 0,1 18,23Z",_=function(e,t,n){if(null!==n.via_device_id)return[];var r=[];return r.push({label:t.localize("ui.panel.config.matter.device_actions.ping_device"),icon:"M12 3C6.5 3 2 6.6 2 11C2 13.1 3 15.1 4.8 16.5C4.8 17.1 4.4 18.7 2 21C2 21 5.5 21 8.5 18.5C9.6 18.8 10.8 19 12 19C17.5 19 22 15.4 22 11S17.5 3 12 3M13 15H11V13H13V15M14.8 10C14.5 10.4 14.1 10.6 13.7 10.8C13.4 11 13.3 11.1 13.2 11.3C13 11.5 13 11.7 13 12H11C11 11.5 11.1 11.2 11.3 10.9C11.5 10.7 11.9 10.4 12.4 10.1C12.7 10 12.9 9.8 13 9.6C13.1 9.4 13.2 9.1 13.2 8.9C13.2 8.6 13.1 8.4 12.9 8.2C12.7 8 12.4 7.9 12.1 7.9C11.8 7.9 11.6 8 11.4 8.1C11.2 8.2 11.1 8.4 11.1 8.7H9.1C9.2 8 9.5 7.4 10 7C10.5 6.6 11.2 6.5 12.1 6.5C13 6.5 13.8 6.7 14.3 7.1C14.8 7.5 15.1 8.1 15.1 8.8C15.2 9.2 15.1 9.6 14.8 10Z",action:function(){return t=e,r={device_id:n.id},void(0,o.B)(t,"show-dialog",{dialogTag:"dialog-matter-ping-node",dialogImport:c,dialogParams:r});var t,r}}),r},p=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){var c,_;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===i.via_device_id){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,(0,a.uV)(n,i.id);case 4:return c=e.sent,_=[],c.available&&(_.push({label:n.localize("ui.panel.config.matter.device_actions.open_commissioning_window"),icon:f,action:function(){return e=t,n={device_id:i.id},void(0,o.B)(e,"show-dialog",{dialogTag:"dialog-matter-open-commissioning-window",dialogImport:d,dialogParams:n});var e,n}}),_.push({label:n.localize("ui.panel.config.matter.device_actions.manage_fabrics"),icon:f,action:function(){return e=t,n={device_id:i.id},void(0,o.B)(e,"show-dialog",{dialogTag:"dialog-matter-manage-fabrics",dialogImport:s,dialogParams:n});var e,n}}),_.push({label:n.localize("ui.panel.config.matter.device_actions.reinterview_device"),icon:"M12,3C17.5,3 22,6.58 22,11C22,15.42 17.5,19 12,19C10.76,19 9.57,18.82 8.47,18.5C5.55,21 2,21 2,21C4.33,18.67 4.7,17.1 4.75,16.5C3.05,15.07 2,13.13 2,11C2,6.58 6.5,3 12,3M17,12V10H15V12H17M13,12V10H11V12H13M9,12V10H7V12H9Z",action:function(){return e=t,n={device_id:i.id},void(0,o.B)(e,"show-dialog",{dialogTag:"dialog-matter-reinterview-node",dialogImport:u,dialogParams:n});var e,n}})),c.network_type===a.td.THREAD&&_.push({label:n.localize("ui.panel.config.matter.device_actions.view_thread_network"),icon:"M4.93,4.93C3.12,6.74 2,9.24 2,12C2,14.76 3.12,17.26 4.93,19.07L6.34,17.66C4.89,16.22 4,14.22 4,12C4,9.79 4.89,7.78 6.34,6.34L4.93,4.93M19.07,4.93L17.66,6.34C19.11,7.78 20,9.79 20,12C20,14.22 19.11,16.22 17.66,17.66L19.07,19.07C20.88,17.26 22,14.76 22,12C22,9.24 20.88,6.74 19.07,4.93M7.76,7.76C6.67,8.85 6,10.35 6,12C6,13.65 6.67,15.15 7.76,16.24L9.17,14.83C8.45,14.11 8,13.11 8,12C8,10.89 8.45,9.89 9.17,9.17L7.76,7.76M16.24,7.76L14.83,9.17C15.55,9.89 16,10.89 16,12C16,13.11 15.55,14.11 14.83,14.83L16.24,16.24C17.33,15.15 18,13.65 18,12C18,10.35 17.33,8.85 16.24,7.76M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10Z",action:function(){return(0,l.c)("/config/thread")}}),e.abrupt("return",_);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=70437.4de8b061ddf7eb1e.js.map