"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["1117"],{50875:function(e,t,n){n.d(t,{Eu:function(){return a},hZ:function(){return s}});var i=n(11259),r=["#4269d0","#f4bd4a","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#01ab63","#9498a0","#094bad","#c99000","#d84f3e","#49a28f","#048732","#d96895","#8043ce","#7599d1","#7a4c31","#74787f","#6989f4","#ffd444","#ff957c","#8fe9d3","#62cc71","#ffadda","#c884ff","#badeff","#bf8b6d","#b6bac2","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#d9d9d9","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function a(e){return r[e%r.length]}function s(e,t){var n=t.getPropertyValue("--graph-color-".concat(e+1))||a(e);return(0,i.Rq)(n)}},20130:function(e,t,n){var i,r,a,s=n(63038),d=n(27862),o=n(52565),c=n(92776),h=n(5776),f=n(21475),u=n(77204),l=(n(38419),n(39785)),v=n(52876),_=n(50778),k=n(57243),b=n(5111);(0,f.Z)([(0,_.Mo)("ha-fab")],(function(e,t){var n=function(t){function n(){var t;(0,o.Z)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=(0,c.Z)(this,n,[].concat(r)),e(t),t}return(0,h.Z)(n,t),(0,d.Z)(n)}(t);return{F:n,d:[{kind:"method",key:"firstUpdated",value:function(e){(0,u.Z)(n,"firstUpdated",this,3)([e]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}},{kind:"field",static:!0,key:"styles",value:function(){return[v.W,(0,k.iv)(i||(i=(0,s.Z)([":host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}"]))),"rtl"===b.E.document.dir?(0,k.iv)(r||(r=(0,s.Z)([":host .mdc-fab--extended .mdc-fab__icon{direction:rtl}"]))):(0,k.iv)(a||(a=(0,s.Z)([""])))]}}]}}),l._)},18377:function(e,t,n){n.a(e,(async function(e,i){try{n.r(t),n.d(t,{HuiCalendarCard:function(){return D}});var r,a,s=n(63038),d=n(9833),o=n(94524),c=n(27862),h=n(52565),f=n(92776),u=n(5776),l=n(21475),v=n(77204),_=n(31948),k=(n(52247),n(38419),n(71695),n(83069),n(64228),n(19423),n(42713),n(40251),n(99341),n(13334),n(47021),n(57243)),b=n(50778),y=n(50875),p=n(82393),m=n(47194),g=n(22381),w=(n(54977),n(91106)),Z=n(22289),C=n(69223),x=(n(62577),e([_,Z]));[_,Z]=x.then?(await x)():x;var D=(0,l.Z)([(0,b.Mo)("hui-calendar-card")],(function(e,t){var i,l,_,Z=function(t){function n(){var t;(0,h.Z)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=(0,f.Z)(this,n,[].concat(r)),e(t),t}return(0,u.Z)(n,t),(0,c.Z)(n)}(t);return{F:Z,d:[{kind:"method",static:!0,key:"getConfigElement",value:(_=(0,o.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e("46379"),n.e("24199"),n.e("78943"),n.e("67390"),n.e("3049"),n.e("41494")]).then(n.bind(n,61190));case 2:return e.abrupt("return",document.createElement("hui-calendar-card-editor"));case 3:case"end":return e.stop()}}),e)}))),function(){return _.apply(this,arguments)})},{kind:"method",static:!0,key:"getStubConfig",value:function(e,t,n){return{entities:(0,C.j)(e,2,t,n,["calendar"])}}},{kind:"field",decorators:[(0,b.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,b.SB)()],key:"_events",value:function(){return[]}},{kind:"field",decorators:[(0,b.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,b.SB)()],key:"_calendars",value:function(){return[]}},{kind:"field",decorators:[(0,b.SB)()],key:"_eventDisplay",value:function(){return"list-item"}},{kind:"field",decorators:[(0,b.SB)()],key:"_narrow",value:function(){return!1}},{kind:"field",decorators:[(0,b.SB)()],key:"_error",value:function(){}},{kind:"field",key:"_startDate",value:void 0},{kind:"field",key:"_endDate",value:void 0},{kind:"field",key:"_resizeObserver",value:void 0},{kind:"method",key:"setConfig",value:function(e){var t,n;if(null===(t=e.entities)||void 0===t||!t.length)throw new Error("Entities must be specified");if(!Array.isArray(e.entities))throw new Error("Entities need to be an array");this._calendars=e.entities.map((function(e,t){return{entity_id:e,backgroundColor:(0,y.Eu)(t)}})),(null===(n=this._config)||void 0===n?void 0:n.entities)!==e.entities&&this._fetchCalendarEvents(),this._config=Object.assign({initial_view:"dayGridMonth"},e)}},{kind:"method",key:"getCardSize",value:function(){var e;return null!==(e=this._config)&&void 0!==e&&e.header?1:11}},{kind:"method",key:"connectedCallback",value:function(){var e=this;(0,v.Z)(Z,"connectedCallback",this,3)([]),this.updateComplete.then((function(){return e._attachObserver()}))}},{kind:"method",key:"disconnectedCallback",value:function(){(0,v.Z)(Z,"disconnectedCallback",this,3)([]),this._resizeObserver&&this._resizeObserver.disconnect()}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass||!this._calendars.length)return k.Ld;return(0,k.dy)(r||(r=(0,s.Z)([' <ha-card> <div class="header">','</div> <ha-full-calendar .narrow="','" .events="','" .hass="','" .views="','" .initialView="','" .eventDisplay="','" .error="','" @view-changed="','"></ha-full-calendar> </ha-card> '])),this._config.title,this._narrow,this._events,this.hass,["dayGridMonth","dayGridDay","listWeek"],this._config.initial_view,this._eventDisplay,this._error,this._handleViewChanged)}},{kind:"method",key:"updated",value:function(e){if((0,v.Z)(Z,"updated",this,3)([e]),this._config&&this.hass){var t=e.get("hass"),n=e.get("_config");(!t||!n||e.has("hass")&&t.themes!==this.hass.themes||e.has("_config")&&n.theme!==this._config.theme)&&(0,p.R)(this,this.hass.themes,this._config.theme)}}},{kind:"method",key:"_handleViewChanged",value:function(e){this._eventDisplay="dayGridMonth"===e.detail.view?"list-item":"auto",this._startDate=e.detail.start,this._endDate=e.detail.end,this._fetchCalendarEvents()}},{kind:"method",key:"_fetchCalendarEvents",value:(l=(0,o.Z)((0,d.Z)().mark((function e(){var t,n,i=this;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._startDate&&this._endDate){e.next=2;break}return e.abrupt("return");case 2:return this._error=void 0,e.next=5,(0,w.GL)(this.hass,this._startDate,this._endDate,this._calendars);case 5:t=e.sent,this._events=t.events,t.errors.length>0&&(n=t.errors.map((function(e){return i.hass.states[e]?(0,m.C)(i.hass.states[e]):e})).join(", "),this._error="".concat(this.hass.localize("ui.components.calendar.event_retrieval_error")," ").concat(n));case 8:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{kind:"method",key:"_measureCard",value:function(){var e=this.shadowRoot.querySelector("ha-card");e&&(this._narrow=e.offsetWidth<870)}},{kind:"method",key:"_attachObserver",value:(i=(0,o.Z)((0,d.Z)().mark((function e(){var t,n=this;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._resizeObserver||(this._resizeObserver=new ResizeObserver((0,g.D)((function(){return n._measureCard()}),250,!1))),t=this.shadowRoot.querySelector("ha-card")){e.next=4;break}return e.abrupt("return");case 4:this._resizeObserver.observe(t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return(0,k.iv)(a||(a=(0,s.Z)(["ha-card{position:relative;padding:0 8px 8px;box-sizing:border-box;height:100%}.header{color:var(--ha-card-header-color,var(--primary-text-color));font-size:var(--ha-card-header-font-size, 24px);line-height:1.2;padding-top:16px;padding-left:8px;padding-inline-start:8px;direction:var(--direction)}ha-full-calendar{--calendar-height:400px}"])))}}]}}),k.oi);i()}catch(z){i(z)}}))}}]);
//# sourceMappingURL=1117.dce0768c7ce3e00e.js.map