"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["7618"],{43537:function(t,e,n){n.d(e,{Z:function(){return a}});n(38419);var i=function(t){return t<10?"0".concat(t):t};function a(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60),a=Math.floor(t%3600%60);return e>0?"".concat(e,":").concat(i(n),":").concat(i(a)):n>0?"".concat(n,":").concat(i(a)):a>0?""+a:null}},84428:function(t,e,n){n.d(e,{aT:function(){return a},mK:function(){return c},mZ:function(){return u},rv:function(){return s},eF:function(){return r},WH:function(){return o}});n("38419"),n("19423"),n("64228"),n("23509"),n("13334");var i=n("43537"),a=function(t){return t.callWS({type:"timer/list"})},r=function(t,e){return t.callWS(Object.assign({type:"timer/create"},e))},u=function(t,e,n){return t.callWS(Object.assign({type:"timer/update",timer_id:e},n))},o=function(t,e){return t.callWS({type:"timer/delete",timer_id:e})},c=function(t){if(t.attributes.remaining){var e,n,i=(e=t.attributes.remaining,3600*(n=e.split(":").map(Number))[0]+60*n[1]+n[2]);if("active"===t.state){var a=(new Date).getTime(),r=new Date(t.attributes.finishes_at).getTime();i=Math.max((r-a)/1e3,0)}return i}},s=function(t,e,n){if(!e)return null;if("idle"===e.state||0===n)return t.formatEntityState(e);var a=(0,i.Z)(n||0)||"0";return"paused"===e.state&&(a="".concat(a," (").concat(t.formatEntityState(e),")")),a}},45363:function(t,e,n){n.a(t,(async function(t,i){try{n.r(e);var a,r,u=n(63038),o=n(27862),c=n(52565),s=n(92776),h=n(5776),l=n(21475),d=(n(52247),n(38419),n(57243)),f=n(50778),v=(n(52478),n(93331)),m=n(8069),k=n(62577),g=t([m]);m=(g.then?(await g)():g)[0];(0,l.Z)([(0,f.Mo)("hui-timer-entity-row")],(function(t,e){var n=function(e){function n(){var e;(0,c.Z)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=(0,s.Z)(this,n,[].concat(a)),t(e),e}return(0,h.Z)(n,e),(0,o.Z)(n)}(e);return{F:n,d:[{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(t){if(!t)throw new Error("Invalid configuration");this._config=t}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return d.Ld;var t=this.hass.states[this._config.entity];return t?(0,d.dy)(r||(r=(0,u.Z)([' <hui-generic-entity-row .hass="','" .config="','"> <div class="text-content"> <ha-timer-remaining-time .hass="','" .stateObj="','"></ha-timer-remaining-time> </div> </hui-generic-entity-row> '])),this.hass,this._config,this.hass,t):(0,d.dy)(a||(a=(0,u.Z)([" <hui-warning> "," </hui-warning> "])),(0,k.i)(this.hass,this._config.entity))}},{kind:"method",key:"shouldUpdate",value:function(t){return(0,v.G2)(this,t)}}]}}),d.oi);i()}catch(y){i(y)}}))},52478:function(t,e,n){n.r(e);var i=n(27862),a=n(52565),r=n(92776),u=n(5776),o=n(21475),c=n(77204),s=(n(38419),n(57243)),h=n(50778),l=n(84428);(0,o.Z)([(0,h.Mo)("ha-timer-remaining-time")],(function(t,e){var n=function(e){function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,u=new Array(i),o=0;o<i;o++)u[o]=arguments[o];return e=(0,r.Z)(this,n,[].concat(u)),t(e),e}return(0,u.Z)(n,e),(0,i.Z)(n)}(e);return{F:n,d:[{kind:"field",decorators:[(0,h.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,h.Cb)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,h.SB)()],key:"timeRemaining",value:void 0},{kind:"field",key:"_updateRemaining",value:void 0},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"update",value:function(t){var e;(0,c.Z)(n,"update",this,3)([t]),this.innerHTML=null!==(e=(0,l.rv)(this.hass,this.stateObj,this.timeRemaining))&&void 0!==e?e:"-"}},{kind:"method",key:"connectedCallback",value:function(){(0,c.Z)(n,"connectedCallback",this,3)([]),this.stateObj&&this._startInterval(this.stateObj)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,c.Z)(n,"disconnectedCallback",this,3)([]),this._clearInterval()}},{kind:"method",key:"willUpdate",value:function(t){(0,c.Z)(n,"willUpdate",this,3)([t]),t.has("stateObj")&&this._startInterval(this.stateObj)}},{kind:"method",key:"_clearInterval",value:function(){this._updateRemaining&&(clearInterval(this._updateRemaining),this._updateRemaining=null)}},{kind:"method",key:"_startInterval",value:function(t){var e=this;this._clearInterval(),this._calculateRemaining(t),"active"===t.state&&(this._updateRemaining=setInterval((function(){return e._calculateRemaining(e.stateObj)}),1e3))}},{kind:"method",key:"_calculateRemaining",value:function(t){this.timeRemaining=(0,l.mK)(t)}}]}}),s.fl)}}]);
//# sourceMappingURL=7618.a6fd4c48d4870ff7.js.map