(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["80205"],{92636:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});n(19083),n(61006);var i=function(t){return function(e,n){return t.includes(e,n)}}},59847:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});var i=n(73850),r=function(t){return(0,i.M)(t.entity_id)}},75278:function(t,e,n){"use strict";n.d(e,{e:function(){return i}});var i=function(t,e){return r(t.attributes,e)},r=function(t,e){return!!(t.supported_features&e)}},73729:function(t,e,n){"use strict";n.d(e,{i:function(){return k}});var i,r,o,a=n(27862),s=n(52565),c=n(92776),d=n(5776),l=n(21475),u=n(77204),h=n(63038),f=(n(22152),n(38419),n(83069),n(74966)),p=n(51408),v=n(57243),m=n(50778),g=n(76525),_=(n(23334),["button","ha-list-item"]),k=function(t,e){var n;return(0,v.dy)(i||(i=(0,h.Z)([' <div class="header_title"> <span>','</span> <ha-icon-button .label="','" .path="','" dialogAction="close" class="header_button"></ha-icon-button> </div> '])),e,null!==(n=null==t?void 0:t.localize("ui.dialogs.generic.close"))&&void 0!==n?n:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z")};(0,l.Z)([(0,m.Mo)("ha-dialog")],(function(t,e){var n=function(e){function n(){var e;(0,s.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=(0,c.Z)(this,n,[].concat(r)),t(e),e}return(0,d.Z)(n,e),(0,a.Z)(n)}(e);return{F:n,d:[{kind:"field",key:g.gA,value:void 0},{kind:"method",key:"scrollToPos",value:function(t,e){var n;null===(n=this.contentElement)||void 0===n||n.scrollTo(t,e)}},{kind:"method",key:"renderHeading",value:function(){return(0,v.dy)(r||(r=(0,h.Z)(['<slot name="heading"> '," </slot>"])),(0,u.Z)(n,"renderHeading",this,3)([]))}},{kind:"method",key:"firstUpdated",value:function(){var t;(0,u.Z)(n,"firstUpdated",this,3)([]),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,_].join(", "),this._updateScrolledAttribute(),null===(t=this.contentElement)||void 0===t||t.addEventListener("scroll",this._onScroll,{passive:!0})}},{kind:"method",key:"disconnectedCallback",value:function(){(0,u.Z)(n,"disconnectedCallback",this,3)([]),this.contentElement.removeEventListener("scroll",this._onScroll)}},{kind:"field",key:"_onScroll",value:function(){var t=this;return function(){t._updateScrolledAttribute()}}},{kind:"method",key:"_updateScrolledAttribute",value:function(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}},{kind:"field",static:!0,key:"styles",value:function(){return[p.W,(0,v.iv)(o||(o=(0,h.Z)([":host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(\n          --dialog-scroll-divider-color,\n          var(--divider-color)\n        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:400;--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding-bottom:max(env(safe-area-inset-bottom),24px)}.mdc-dialog__actions span:first-child{flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center)}.mdc-dialog__title{padding:24px 24px 0 24px}.mdc-dialog__actions{padding:12px 24px 12px 24px}.mdc-dialog__title::before{content:unset}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,24px)}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:max(var(--dialog-content-padding,24px),env(safe-area-inset-bottom))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,28px);-webkit-backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff))}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{position:relative;padding-right:40px;padding-inline-end:40px;padding-inline-start:initial;direction:var(--direction)}.header_title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.header_button{position:absolute;right:-12px;top:-12px;text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:-12px;direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:0px!important;direction:var(--direction)}"])))]}}]}}),f.M)},53013:function(t,e,n){"use strict";var i,r=n("9833"),o=n("10265"),a=n("94524"),s=n("27862"),c=n("52565"),d=n("92776"),l=n("5776"),u=n("21475"),h=n("77204"),f=n("19517"),p=(n("27046"),n("38419"),n("91599"),n("26285"),n("19083"),n("71695"),n("83069"),n("64228"),n("52805"),n("451"),n("42713"),n("40251"),n("19134"),n("61006"),n("99341"),n("39527"),n("99790"),n("13334"),n("34595"),n("47021"),n("57243")),v=n("50778"),m=n("36522"),g=(n("72700"),n("8038"),n("71513"),n("75656"),n("50100"),n("18084"),n("75351")),_=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,o,a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i||(i=(0,g.Ud)(new Worker(new URL(n.p+n.u("45845"),n.b)))),t.abrupt("return",i.renderMarkdown(e,o,a));case 2:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}(),k={reType:(0,f.Z)(/((\[!(caution|important|note|tip|warning)\])(?:\s|\\n)?)/i,{input:1,type:3}),typeToHaAlert:{caution:"error",important:"info",note:"info",tip:"success",warning:"warning"}};(0,u.Z)([(0,v.Mo)("ha-markdown-element")],(function(t,e){var i,u=function(e){function n(){var e;(0,c.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=(0,d.Z)(this,n,[].concat(r)),t(e),e}return(0,l.Z)(n,e),(0,s.Z)(n)}(e);return{F:u,d:[{kind:"field",decorators:[(0,v.Cb)()],key:"content",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"allowSvg",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"breaks",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean,attribute:"lazy-images"})],key:"lazyImages",value:function(){return!1}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"update",value:function(t){(0,h.Z)(u,"update",this,3)([t]),void 0!==this.content&&this._render()}},{kind:"method",key:"_render",value:(i=(0,a.Z)((0,r.Z)().mark((function t(){var e,i,a=this;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(String(this.content),{breaks:this.breaks,gfm:!0},{allowSvg:this.allowSvg});case 2:this.innerHTML=t.sent,this._resize(),e=document.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,null),i=(0,r.Z)().mark((function t(){var i,s,c,d,l,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=e.currentNode)instanceof HTMLAnchorElement&&i.host!==document.location.host?(i.target="_blank",i.rel="noreferrer noopener"):i instanceof HTMLImageElement?(a.lazyImages&&(i.loading="lazy"),i.addEventListener("load",a._resize)):i instanceof HTMLQuoteElement?(c=(null===(s=i.firstElementChild)||void 0===s||null===(s=s.firstChild)||void 0===s?void 0:s.textContent)&&k.reType.exec(i.firstElementChild.firstChild.textContent))&&(d=c.groups,l=d.type,(u=document.createElement("ha-alert")).alertType=k.typeToHaAlert[l.toLowerCase()],u.append.apply(u,(0,o.Z)(Array.from(i.childNodes).map((function(t){var e=Array.from(t.childNodes);if(!a.breaks&&e.length){var n,i=e[0];i.nodeType===Node.TEXT_NODE&&i.textContent===c.input&&null!==(n=i.textContent)&&void 0!==n&&n.includes("\n")&&(i.textContent=i.textContent.split("\n").slice(1).join("\n"))}return e})).reduce((function(t,e){return t.concat(e)}),[]).filter((function(t){return t.textContent&&t.textContent!==c.input})))),e.parentNode().replaceChild(u,i)):i instanceof HTMLElement&&["ha-alert","ha-qr-code","ha-icon","ha-svg-icon"].includes(i.localName)&&n(23265)("./".concat(i.localName));case 2:case"end":return t.stop()}}),t)}));case 6:if(!e.nextNode()){t.next=10;break}return t.delegateYield(i(),"t0",8);case 8:t.next=6;break;case 10:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{kind:"field",key:"_resize",value:function(){var t=this;return function(){return(0,m.B)(t,"content-resize")}}}]}}),p.fl)},99254:function(t,e,n){"use strict";var i,r,o=n(63038),a=n(27862),s=n(52565),c=n(92776),d=n(5776),l=n(21475),u=(n(38419),n(57243)),h=n(50778);n(53013),(0,l.Z)([(0,h.Mo)("ha-markdown")],(function(t,e){var n=function(e){function n(){var e;(0,s.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=(0,c.Z)(this,n,[].concat(r)),t(e),e}return(0,d.Z)(n,e),(0,a.Z)(n)}(e);return{F:n,d:[{kind:"field",decorators:[(0,h.Cb)()],key:"content",value:void 0},{kind:"field",decorators:[(0,h.Cb)({type:Boolean})],key:"allowSvg",value:function(){return!1}},{kind:"field",decorators:[(0,h.Cb)({type:Boolean})],key:"breaks",value:function(){return!1}},{kind:"field",decorators:[(0,h.Cb)({type:Boolean,attribute:"lazy-images"})],key:"lazyImages",value:function(){return!1}},{kind:"method",key:"render",value:function(){return this.content?(0,u.dy)(i||(i=(0,o.Z)(['<ha-markdown-element .content="','" .allowSvg="','" .breaks="','" .lazyImages="','"></ha-markdown-element>'])),this.content,this.allowSvg,this.breaks,this.lazyImages):u.Ld}},{kind:"get",static:!0,key:"styles",value:function(){return(0,u.iv)(r||(r=(0,o.Z)([":host{display:block}ha-markdown-element{-ms-user-select:text;-webkit-user-select:text;-moz-user-select:text}ha-markdown-element>:first-child{margin-top:0}ha-markdown-element>:last-child{margin-bottom:0}ha-alert{display:block;margin:4px 0}a{color:var(--primary-color)}img{max-width:100%}code,pre{background-color:var(--markdown-code-background-color,none);border-radius:3px}svg{background-color:var(--markdown-svg-background-color,none);color:var(--markdown-svg-color,none)}code{font-size:85%;padding:.2em .4em}pre code{padding:0}pre{padding:16px;overflow:auto;line-height:1.45;font-family:var(--code-font-family, monospace)}h1,h2,h3,h4,h5,h6{line-height:initial}h2{font-size:1.5em;font-weight:700}hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}"])))}}]}}),u.oi)},41063:function(t,e,n){"use strict";n.d(e,{CM:function(){return b},QQ:function(){return _},aV:function(){return v},bq:function(){return x},c9:function(){return w},dh:function(){return Z},lE:function(){return k},lV:function(){return y},o1:function(){return h},qJ:function(){return g},qR:function(){return f},vI:function(){return m},xO:function(){return p}});var i=n(10265),r=n(58814),o=(n(91599),n(60933),n(26285),n(19083),n(71695),n(92745),n(32126),n(19423),n(42713),n(37362),n(61427),n(92519),n(42179),n(89256),n(24931),n(88463),n(57449),n(19814),n(61006),n(99341),n(39527),n(99790),n(34810),n(41360),n(36993),n(49207),n(47021),n(95262)),a=n(59847),s=n(75278),c=n(96530),d=n(46329),l=["domain","integration","device_class"],u=["integration","manufacturer","model"],h=function(t,e,n,i,r,o,a){var s=[],c=[],d=[];return Object.values(n).forEach((function(n){n.labels.includes(e)&&m(t,r,i,n.area_id,o,a)&&d.push(n.area_id)})),Object.values(i).forEach((function(n){n.labels.includes(e)&&g(t,Object.values(r),n,o,a)&&c.push(n.id)})),Object.values(r).forEach((function(n){n.labels.includes(e)&&_(t.states[n.entity_id],o,a)&&s.push(n.entity_id)})),{areas:d,devices:c,entities:s}},f=function(t,e,n,i,r){var o=[];return Object.values(n).forEach((function(n){n.floor_id===e&&m(t,t.entities,t.devices,n.area_id,i,r)&&o.push(n.area_id)})),{areas:o}},p=function(t,e,n,i,r,o){var a=[],s=[];return Object.values(n).forEach((function(n){n.area_id===e&&g(t,Object.values(i),n,r,o)&&s.push(n.id)})),Object.values(i).forEach((function(n){n.area_id===e&&_(t.states[n.entity_id],r,o)&&a.push(n.entity_id)})),{devices:s,entities:a}},v=function(t,e,n,i,r){var o=[];return Object.values(n).forEach((function(n){n.device_id===e&&_(t.states[n.entity_id],i,r)&&o.push(n.entity_id)})),{entities:o}},m=function(t,e,n,i,r,o){return!!Object.values(n).some((function(n){return!(n.area_id!==i||!g(t,Object.values(e),n,r,o))}))||Object.values(e).some((function(e){return!(e.area_id!==i||!_(t.states[e.entity_id],r,o))}))},g=function(t,e,n,i,r){var a,s,c=r?(0,d.HP)(r,e):void 0;return!(null!==(a=i.target)&&void 0!==a&&a.device&&!(0,o.r)(i.target.device).some((function(t){return k(t,n,c)})))&&(null===(s=i.target)||void 0===s||!s.entity||e.filter((function(t){return t.device_id===n.id})).some((function(e){var n=t.states[e.entity_id];return _(n,i,r)})))},_=function(t,e,n){var i;return null===(i=e.target)||void 0===i||!i.entity||(0,o.r)(e.target.entity).some((function(e){return y(e,t,n)}))},k=function(t,e,n){var i,r=t.manufacturer,o=t.model,a=t.integration;if(r&&e.manufacturer!==r)return!1;if(o&&e.model!==o)return!1;if(a&&n&&(null==n||null===(i=n[e.id])||void 0===i||!i.has(a)))return!1;return!0},y=function(t,e,n){var i,r=t.domain,c=t.device_class,d=t.supported_features,l=t.integration;if(r){var u=(0,a.N)(e);if(Array.isArray(r)?!r.includes(u):u!==r)return!1}if(c){var h=e.attributes.device_class;if(h&&Array.isArray(c)?!c.includes(h):h!==c)return!1}return!(d&&!(0,o.r)(d).some((function(t){return(0,s.e)(e,t)})))&&(!l||(null==n||null===(i=n[e.entity_id])||void 0===i?void 0:i.domain)===l)},b=function(t){if(!t.entity)return{entity:null};if("filter"in t.entity)return t;var e=t.entity,n=e.domain,i=e.integration,o=e.device_class,a=(0,r.Z)(e,l);return n||i||o?{entity:Object.assign(Object.assign({},a),{},{filter:{domain:n,integration:i,device_class:o}})}:{entity:a}},w=function(t){if(!t.device)return{device:null};if("filter"in t.device)return t;var e=t.device,n=e.integration,i=e.manufacturer,o=e.model,a=(0,r.Z)(e,u);return n||i||o?{device:Object.assign(Object.assign({},a),{},{filter:{integration:n,manufacturer:i,model:o}})}:{device:a}},x=function(t){var e,n;if("target"in t)e=(0,o.r)(null===(n=t.target)||void 0===n?void 0:n.entity);else if("entity"in t){var r,a;if(null!==(r=t.entity)&&void 0!==r&&r.include_entities)return;e=(0,o.r)(null===(a=t.entity)||void 0===a?void 0:a.filter)}if(e){var s=e.flatMap((function(t){return t.integration||t.device_class||t.supported_features||!t.domain?[]:(0,o.r)(t.domain).filter((function(t){return(0,c.X)(t)}))}));return(0,i.Z)(new Set(s))}},Z=function(t,e,n,i,r){if(!e)return[];var a={target:{}},s=new Set((0,o.r)(e.entity_id)),c=new Set((0,o.r)(e.device_id)),d=new Set((0,o.r)(e.area_id)),l=new Set((0,o.r)(e.floor_id));return new Set((0,o.r)(e.label_id)).forEach((function(e){var o=h(t,e,r,i,n,a);o.devices.forEach((function(t){return c.add(t)})),o.entities.forEach((function(t){return s.add(t)})),o.areas.forEach((function(t){return d.add(t)}))})),l.forEach((function(e){f(t,e,r,a).areas.forEach((function(t){return d.add(t)}))})),d.forEach((function(e){var r=p(t,e,i,n,a);r.devices.forEach((function(t){return c.add(t)})),r.entities.forEach((function(t){return s.add(t)}))})),c.forEach((function(e){v(t,e,n,a).entities.forEach((function(t){return s.add(t)}))})),Array.from(s)}},96530:function(t,e,n){"use strict";n.d(e,{X:function(){return o},y:function(){return r}});var i=n(92636),r=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],o=(0,i.z)(r)},33518:function(t,e,n){"use strict";n.r(e);var i,r,o,a,s,c,d,l,u,h,f=n(63038),p=n(27862),v=n(52565),m=n(92776),g=n(5776),_=n(21475),k=n(77204),y=(n(38419),n(19083),n(63619),n(52961),n(63626),n(57243)),b=n(50778),w=(n(97206),n(73729),n(29073),n(99254),n(43546)),x=n(28008),Z=0;(0,_.Z)([(0,b.Mo)("ha-mfa-module-setup-flow")],(function(t,e){var n=function(e){function n(){var e;(0,v.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=(0,m.Z)(this,n,[].concat(r)),t(e),e}return(0,g.Z)(n,e),(0,p.Z)(n)}(e);return{F:n,d:[{kind:"field",decorators:[(0,b.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,b.SB)()],key:"_dialogClosedCallback",value:void 0},{kind:"field",decorators:[(0,b.SB)()],key:"_instance",value:void 0},{kind:"field",decorators:[(0,b.SB)()],key:"_loading",value:function(){return!1}},{kind:"field",decorators:[(0,b.SB)()],key:"_opened",value:function(){return!1}},{kind:"field",decorators:[(0,b.SB)()],key:"_stepData",value:function(){return{}}},{kind:"field",decorators:[(0,b.SB)()],key:"_step",value:void 0},{kind:"field",decorators:[(0,b.SB)()],key:"_errorMessage",value:void 0},{kind:"method",key:"showDialog",value:function(t){var e=this,n=t.continueFlowId,i=t.mfaModuleId,r=t.dialogClosedCallback;this._instance=Z++,this._dialogClosedCallback=r,this._opened=!0;var o=n?this.hass.callWS({type:"auth/setup_mfa",flow_id:n}):this.hass.callWS({type:"auth/setup_mfa",mfa_module_id:i}),a=this._instance;o.then((function(t){a===e._instance&&e._processStep(t)}))}},{kind:"method",key:"closeDialog",value:function(){this._step&&this._flowDone(),this._opened=!1}},{kind:"method",key:"render",value:function(){var t,e;return this._opened?(0,y.dy)(i||(i=(0,f.Z)([' <ha-dialog open .heading="','" @closed="','"> <div> '," "," </div> "," "," </ha-dialog> "])),this._computeStepTitle(),this.closeDialog,this._errorMessage?(0,y.dy)(r||(r=(0,f.Z)(['<div class="error">',"</div>"])),this._errorMessage):"",this._step?(0,y.dy)(a||(a=(0,f.Z)(["",""])),"abort"===this._step.type?(0,y.dy)(s||(s=(0,f.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown>'])),this.hass.localize("component.auth.mfa_setup.".concat(this._step.handler,".abort.").concat(this._step.reason))):"create_entry"===this._step.type?(0,y.dy)(c||(c=(0,f.Z)(["<p> "," </p>"])),this.hass.localize("ui.panel.profile.mfa_setup.step_done",{step:this._step.title||this._step.handler})):"form"===this._step.type?(0,y.dy)(d||(d=(0,f.Z)(['<ha-markdown allowsvg breaks .content="','"></ha-markdown> <ha-form .hass="','" .data="','" .schema="','" .error="','" .computeLabel="','" .computeError="','" @value-changed="','"></ha-form>'])),this.hass.localize("component.auth.mfa_setup.".concat(this._step.handler,".step.").concat(this._step.step_id,".description"),this._step.description_placeholders),this.hass,this._stepData,(0,w.oT)(this._step.data_schema),this._step.errors,this._computeLabel,this._computeError,this._stepDataChanged):""):(0,y.dy)(o||(o=(0,f.Z)(['<div class="init-spinner"> <ha-circular-progress indeterminate></ha-circular-progress> </div>']))),["abort","create_entry"].includes((null===(t=this._step)||void 0===t?void 0:t.type)||"")?(0,y.dy)(l||(l=(0,f.Z)(['<mwc-button slot="primaryAction" @click="','">',"</mwc-button>"])),this.closeDialog,this.hass.localize("ui.panel.profile.mfa_setup.close")):"","form"===(null===(e=this._step)||void 0===e?void 0:e.type)?(0,y.dy)(u||(u=(0,f.Z)(['<mwc-button slot="primaryAction" .disabled="','" @click="','">',"</mwc-button>"])),this._loading,this._submitStep,this.hass.localize("ui.panel.profile.mfa_setup.submit")):""):y.Ld}},{kind:"get",static:!0,key:"styles",value:function(){return[x.yu,(0,y.iv)(h||(h=(0,f.Z)([".error{color:red}ha-dialog{max-width:500px}ha-markdown{--markdown-svg-background-color:white;--markdown-svg-color:black;display:block;margin:0 auto}ha-markdown a{color:var(--primary-color)}ha-markdown-element p{text-align:center}ha-markdown-element code{background-color:transparent}ha-markdown-element>:last-child{margin-bottom:revert}.init-spinner{padding:10px 100px 34px;text-align:center}.submit-spinner{margin-right:16px;margin-inline-end:16px;margin-inline-start:initial}"])))]}},{kind:"method",key:"firstUpdated",value:function(t){var e=this;(0,k.Z)(n,"firstUpdated",this,3)([t]),this.hass.loadBackendTranslation("mfa_setup","auth"),this.addEventListener("keypress",(function(t){"Enter"===t.key&&e._submitStep()}))}},{kind:"method",key:"_stepDataChanged",value:function(t){this._stepData=t.detail.value}},{kind:"method",key:"_submitStep",value:function(){var t=this;this._loading=!0,this._errorMessage=void 0;var e=this._instance;this.hass.callWS({type:"auth/setup_mfa",flow_id:this._step.flow_id,user_input:this._stepData}).then((function(n){e===t._instance&&(t._processStep(n),t._loading=!1)}),(function(e){t._errorMessage=e&&e.body&&e.body.message||"Unknown error occurred",t._loading=!1}))}},{kind:"method",key:"_processStep",value:function(t){t.errors||(t.errors={}),this._step=t,0===Object.keys(t.errors).length&&(this._stepData={})}},{kind:"method",key:"_flowDone",value:function(){var t=Boolean(this._step&&["create_entry","abort"].includes(this._step.type));this._dialogClosedCallback({flowFinished:t}),this._errorMessage=void 0,this._step=void 0,this._stepData={},this._dialogClosedCallback=void 0,this.closeDialog()}},{kind:"method",key:"_computeStepTitle",value:function(){var t,e,n;return"abort"===(null===(t=this._step)||void 0===t?void 0:t.type)?this.hass.localize("ui.panel.profile.mfa_setup.title_aborted"):"create_entry"===(null===(e=this._step)||void 0===e?void 0:e.type)?this.hass.localize("ui.panel.profile.mfa_setup.title_success"):"form"===(null===(n=this._step)||void 0===n?void 0:n.type)?this.hass.localize("component.auth.mfa_setup.".concat(this._step.handler,".step.").concat(this._step.step_id,".title")):""}},{kind:"field",key:"_computeLabel",value:function(){var t=this;return function(e){return t.hass.localize("component.auth.mfa_setup.".concat(t._step.handler,".step.").concat(t._step.step_id,".data.").concat(e.name))||e.name}}},{kind:"field",key:"_computeError",value:function(){var t=this;return function(e){return t.hass.localize("component.auth.mfa_setup.".concat(t._step.handler,".error.").concat(e))||e}}}]}}),y.oi)},22152:function(){Element.prototype.toggleAttribute||(Element.prototype.toggleAttribute=function(t,e){return void 0!==e&&(e=!!e),this.hasAttribute(t)?!!e||(this.removeAttribute(t),!1):!1!==e&&(this.setAttribute(t,""),!0)})},23265:function(t,e,n){var i={"./ha-icon":["65981","97406","97208"],"./ha-icon-next.ts":["13928","99172"],"./ha-icon-overflow-menu":["59959","32072","91552","78456","56898","23504","14019"],"./ha-icon-overflow-menu.ts":["59959","32072","91552","78456","56898","23504","14019"],"./ha-icon-prev.ts":["95499","87557"],"./ha-alert.ts":["99426","4809"],"./ha-icon-button-arrow-prev":["54202","41069"],"./ha-icon-button-next":["4635","51577"],"./ha-icon-button-arrow-next":["54237","21559"],"./ha-alert":["99426","4809"],"./ha-icon-button.ts":["23334"],"./ha-icon-next":["13928","99172"],"./ha-svg-icon.ts":["37583"],"./ha-icon-button-arrow-next.ts":["54237","21559"],"./ha-svg-icon":["37583"],"./ha-icon-button-group.ts":["45747","97792"],"./ha-icon-button-prev.ts":["5828","43537"],"./ha-icon-prev":["95499","87557"],"./ha-icon-button-toggle":["79505","80175"],"./ha-qr-code.ts":["50634","68182","53750","31309"],"./ha-icon.ts":["65981","97406","97208"],"./ha-icon-picker":["21393","46379","66031","32072","24199","78943","97406","7155"],"./ha-icon-button-toggle.ts":["79505","80175"],"./ha-icon-button-arrow-prev.ts":["54202","41069"],"./ha-icon-button-next.ts":["4635","51577"],"./ha-icon-button":["23334"],"./ha-icon-button-prev":["5828","43537"],"./ha-qr-code":["50634","68182","53750","31309"],"./ha-icon-button-group":["45747","97792"],"./ha-icon-picker.ts":["21393","46379","66031","32072","24199","78943","97406","7155"]};function r(t){if(!n.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],r=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(i)},r.id="23265",t.exports=r}}]);
//# sourceMappingURL=80205.626024fa3d4fd4e2.js.map