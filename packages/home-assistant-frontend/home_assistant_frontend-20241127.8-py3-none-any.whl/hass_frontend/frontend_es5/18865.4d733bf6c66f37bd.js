"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["18865"],{28816:function(t,n,e){e.d(n,{M:function(){return u},U:function(){return a}});e(23509);var r={10:"mdi:battery-10",20:"mdi:battery-20",30:"mdi:battery-30",40:"mdi:battery-40",50:"mdi:battery-50",60:"mdi:battery-60",70:"mdi:battery-70",80:"mdi:battery-80",90:"mdi:battery-90",100:"mdi:battery"},i={10:"mdi:battery-charging-10",20:"mdi:battery-charging-20",30:"mdi:battery-charging-30",40:"mdi:battery-charging-40",50:"mdi:battery-charging-50",60:"mdi:battery-charging-60",70:"mdi:battery-charging-70",80:"mdi:battery-charging-80",90:"mdi:battery-charging-90",100:"mdi:battery-charging"},u=function(t,n){var e=null!=n?n:t.state;return a(e)},a=function(t,n){var e=Number(t);if(isNaN(e))return"off"===t?"mdi:battery":"on"===t?"mdi:battery-alert":"mdi:battery-unknown";var u=10*Math.round(e/10);return n&&e>=10?i[u]:n?"mdi:battery-charging-outline":e<=5?"mdi:battery-alert-variant-outline":r[u]}},79295:function(t,n,e){e.d(n,{G:function(){return r}});e(19083);var r=function(t,n){var e=null!=n?n:t.state;return"router"===(null==t?void 0:t.attributes.source_type)?"home"===e?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(null==t?void 0:t.attributes.source_type)?"home"===e?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===e?"mdi:account-arrow-right":"mdi:account"}},34330:function(t,n,e){e.a(t,(async function(t,r){try{e.d(n,{M:function(){return c}});var i=e(59847),u=e(77555),a=e(79295),s=e(28816),o=t([u]);u=(o.then?(await o)():o)[0];var c=function(t,n){var e=(0,i.N)(t),r=null!=n?n:t.state,o=t.attributes.device_class;switch(e){case"update":return(0,u.T)(t,r);case"sensor":if("battery"===o)return(0,s.M)(t,r);break;case"device_tracker":return(0,a.G)(t,r);case"sun":return"above_horizon"===r?"mdi:white-balance-sunny":"mdi:weather-night";case"input_datetime":if(!t.attributes.has_date)return"mdi:clock";if(!t.attributes.has_time)return"mdi:calendar"}};r()}catch(l){r(l)}}))},77555:function(t,n,e){e.a(t,(async function(t,r){try{e.d(n,{T:function(){return a}});var i=e(69919),u=t([i]);i=(u.then?(await u)():u)[0];var a=function(t,n){return"on"===(null!=n?n:t.state)?(0,i.Sk)(t)?"mdi:package-down":"mdi:package-up":"mdi:package"};r()}catch(s){r(s)}}))},50602:function(t,n,e){e.a(t,(async function(t,r){try{e.d(n,{Hd:function(){return l},SL:function(){return o},l4:function(){return f},sJ:function(){return c},uf:function(){return d}});var i=e(16485),u=(e(38419),e(19083),e(80133),e(23509),e(41661),e(3676),e(19423),e(42713),e(11740),e(61006),e(20382)),a=e(34618),s=t([i]);i=(s.then?(await s)():s)[0];var o=function(t){return c(t.attributes)},c=function(t,n){return!!t.unit_of_measurement||!!t.state_class||(n||[]).includes(t.device_class||"")},l=function(t){switch(t.number_format){case u.y4.comma_decimal:return["en-US","en"];case u.y4.decimal_comma:return["de","es","it"];case u.y4.space_comma:return["fr","sv","cs"];case u.y4.system:return;default:return t.language}},d=function(t,n,e){var r=n?l(n):void 0;return Number.isNaN=Number.isNaN||function t(n){return"number"==typeof n&&t(n)},(null==n?void 0:n.number_format)===u.y4.none||Number.isNaN(Number(t))?Number.isNaN(Number(t))||""===t||(null==n?void 0:n.number_format)!==u.y4.none?"string"==typeof t?t:"".concat((0,a.N)(t,null==e?void 0:e.maximumFractionDigits).toString()).concat("currency"===(null==e?void 0:e.style)?" ".concat(e.currency):""):new Intl.NumberFormat("en-US",p(t,Object.assign(Object.assign({},e),{},{useGrouping:!1}))).format(Number(t)):new Intl.NumberFormat(r,p(t,e)).format(Number(t))},f=function(t,n){var e,r=null==n?void 0:n.display_precision;return null!=r?{maximumFractionDigits:r,minimumFractionDigits:r}:Number.isInteger(Number(null==t||null===(e=t.attributes)||void 0===e?void 0:e.step))&&Number.isInteger(Number(null==t?void 0:t.state))?{maximumFractionDigits:0}:void 0},p=function(t,n){var e=Object.assign({maximumFractionDigits:2},n);if("string"!=typeof t)return e;if(!n||void 0===n.minimumFractionDigits&&void 0===n.maximumFractionDigits){var r=t.indexOf(".")>-1?t.split(".")[1].length:0;e.minimumFractionDigits=r,e.maximumFractionDigits=r}return e};r()}catch(m){r(m)}}))},34618:function(t,n,e){e.d(n,{N:function(){return r}});var r=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(t*Math.pow(10,n))/Math.pow(10,n)}},45729:function(t,n,e){e.a(t,(async function(t,r){try{e.d(n,{$V:function(){return N},KS:function(){return Z},gD:function(){return g},kG:function(){return k},t3:function(){return w},v6:function(){return h},xA:function(){return _}});var i=e(10265),u=e(9833),a=e(94524),s=(e(19083),e(71695),e(42713),e(40251),e(61006),e(99341),e(47021),e(73850)),o=e(97969),c=e(59847),l=e(34330),d=e(72344),f=e(17803),p=t([l]);l=(p.then?(await p)():p)[0];var m={entity:{},entity_component:{},services:{domains:{}}},v=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e,r){return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.callWS({type:"frontend/get_icons",category:e,integration:r}));case 1:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),b=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e){var r,i=arguments;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.length>2&&void 0!==i[2]&&i[2]||!(e in m.entity)){t.next=3;break}return t.abrupt("return",m.entity[e]);case 3:if((0,d.p)(n,e)&&(0,f.I)(n.connection.haVersion,2024,2)){t.next=5;break}return t.abrupt("return",void 0);case 5:return r=v(n,"entity",e).then((function(t){return null==t?void 0:t.resources[e]})),m.entity[e]=r,t.abrupt("return",m.entity[e]);case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),y=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e){var r,a,s=arguments;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=s.length>2&&void 0!==s[2]&&s[2],t.next=3;break;case 3:if(a||!m.entity_component.resources||null===(r=m.entity_component.domains)||void 0===r||!r.includes(e)){t.next=5;break}return t.abrupt("return",m.entity_component.resources.then((function(t){return t[e]})));case 5:if((0,d.p)(n,e)){t.next=7;break}return t.abrupt("return",void 0);case 7:return m.entity_component.domains=(0,i.Z)(n.config.components),m.entity_component.resources=v(n,"entity_component").then((function(t){return t.resources})),t.abrupt("return",m.entity_component.resources.then((function(t){return t[e]})));case 10:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),h=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e){var r,i,a=arguments;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.length>2&&void 0!==a[2]&&a[2],e){t.next=6;break}if(r||!m.services.all){t.next=4;break}return t.abrupt("return",m.services.all);case 4:return m.services.all=v(n,"services",e).then((function(t){return m.services.domains=t.resources,null==t?void 0:t.resources})),t.abrupt("return",m.services.all);case 6:if(r||!(e in m.services.domains)){t.next=8;break}return t.abrupt("return",m.services.domains[e]);case 8:if(!m.services.all||r){t.next=13;break}return t.next=11,m.services.all;case 11:if(!(e in m.services.domains)){t.next=13;break}return t.abrupt("return",m.services.domains[e]);case 13:if((0,d.p)(n,e)){t.next=15;break}return t.abrupt("return",void 0);case 15:return i=v(n,"services",e),m.services.domains[e]=i.then((function(t){return null==t?void 0:t.resources[e]})),t.abrupt("return",m.services.domains[e]);case 18:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),g=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e,r){var i,a,s;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(a=null===(i=n.entities)||void 0===i?void 0:i[e.entity_id])||!a.icon){t.next=3;break}return t.abrupt("return",a.icon);case 3:return s=(0,c.N)(e),t.abrupt("return",x(n,s,e,r,a));case 5:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),_=66977!=e.j?(E=(0,a.Z)((0,u.Z)().mark((function t(n,e){var r,i;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.icon){t.next=2;break}return t.abrupt("return",e.icon);case 2:return r=n.states[e.entity_id],i=(0,s.M)(e.entity_id),t.abrupt("return",x(n,i,r,void 0,e));case 5:case"end":return t.stop()}}),t)}))),function(t,n){return E.apply(this,arguments)}):null,x=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e,r,i,a){var s,o,c,d,f,p,m,v,h,g,_,x;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==a?void 0:a.platform,o=null==a?void 0:a.translation_key,c=null==r?void 0:r.attributes.device_class,d=null!=i?i:null==r?void 0:r.state,!o||!s){t.next=9;break}return t.next=7,b(n,s);case 7:(p=t.sent)&&(h=null===(m=p[e])||void 0===m?void 0:m[o],f=d&&(null==h||null===(v=h.state)||void 0===v?void 0:v[d])||(null==h?void 0:h.default));case 9:if(!f&&r&&(f=(0,l.M)(r,d)),f){t.next=15;break}return t.next=13,y(n,e);case 13:(g=t.sent)&&(x=c&&g[c]||g._,f=d&&(null==x||null===(_=x.state)||void 0===_?void 0:_[d])||(null==x?void 0:x.default));case 15:return t.abrupt("return",f);case 16:case"end":return t.stop()}}),t)})));return function(n,e,r,i,u){return t.apply(this,arguments)}}(),k=66977!=e.j?(S=(0,a.Z)((0,u.Z)().mark((function t(n,e,r,i){var a,s,o,l,d,f,p,m,v,h,g,_,x,k,w,N,Z;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(0,c.N)(e),l=e.attributes.device_class,d=null===(a=n.entities)||void 0===a?void 0:a[e.entity_id],f=null==d?void 0:d.platform,p=null==d?void 0:d.translation_key,m=null!=i?i:e.attributes[r],!p||!f){t.next=11;break}return t.next=9,b(n,f);case 9:(v=t.sent)&&(_=null===(h=v[o])||void 0===h||null===(h=h[p])||void 0===h||null===(h=h.state_attributes)||void 0===h?void 0:h[r],s=m&&(null==_||null===(g=_.state)||void 0===g?void 0:g[m])||(null==_?void 0:_.default));case 11:if(s){t.next=16;break}return t.next=14,y(n,o);case 14:(x=t.sent)&&(Z=l&&(null===(k=x[l])||void 0===k||null===(k=k.state_attributes)||void 0===k?void 0:k[r])||(null===(w=x._)||void 0===w||null===(w=w.state_attributes)||void 0===w?void 0:w[r]),s=m&&(null==Z||null===(N=Z.state)||void 0===N?void 0:N[m])||(null==Z?void 0:Z.default));case 16:return t.abrupt("return",s);case 17:case"end":return t.stop()}}),t)}))),function(t,n,e,r){return S.apply(this,arguments)}):null,w=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e){var r,i,a,c,l;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,s.M)(e),a=(0,o.p)(e),t.next=4,h(n,i);case 4:if((c=t.sent)&&(l=c[a],r=null==l?void 0:l.service),r){t.next=10;break}return t.next=9,Z(n,i);case 9:r=t.sent;case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),N=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e,r){var i,a,c,l,d;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,s.M)(e),a=(0,o.p)(e),t.next=4,h(n,i);case 4:if(!(c=t.sent)){t.next=8;break}return d=c[a],t.abrupt("return",null==d||null===(l=d.sections)||void 0===l?void 0:l[r]);case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),Z=function(){var t=(0,a.Z)((0,u.Z)().mark((function t(n,e,r){var i,a;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(n,e);case 2:if(!(i=t.sent)){t.next=6;break}return a=r&&i[r]||i._,t.abrupt("return",null==a?void 0:a.default);case 6:return t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}();r()}catch(F){r(F)}var S,E}))},69919:function(t,n,e){e.a(t,(async function(t,r){try{e.d(n,{EX:function(){return v},Fj:function(){return x},M$:function(){return k},SO:function(){return b},Sk:function(){return h},UJ:function(){return g},Ym:function(){return w},hF:function(){return y}});var i=e(9833),u=e(94524),a=(e(91599),e(64228),e(61893),e(42713),e(37362),e(40251),e(39527),e(99790),e(13334),e(73358)),s=e(73850),o=e(59847),c=e(75278),l=e(50602),d=e(1416),f=e(76131);if(99387==e.j)var p=e(72473);var m=t([l]);l=(m.then?(await m)():m)[0];var v=function(t){return t[t.INSTALL=1]="INSTALL",t[t.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",t[t.PROGRESS=4]="PROGRESS",t[t.BACKUP=8]="BACKUP",t[t.RELEASE_NOTES=16]="RELEASE_NOTES",t}({}),b=function(t){return(0,c.e)(t,v.PROGRESS)&&null!==t.attributes.update_percentage},y=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t.state===a.uo||n&&Boolean(t.attributes.skipped_version))&&(0,c.e)(t,v.INSTALL)},h=function(t){return!!t.attributes.in_progress},g=function(t,n){return t.callWS({type:"update/release_notes",entity_id:n})},_=function(t,n){return Object.values(t).filter((function(t){return"update"===(0,o.N)(t)})).sort((function(t,e){return"Home Assistant Core"===t.attributes.title?-3:"Home Assistant Core"===e.attributes.title?3:"Home Assistant Operating System"===t.attributes.title?-2:"Home Assistant Operating System"===e.attributes.title?2:"Home Assistant Supervisor"===t.attributes.title?-1:"Home Assistant Supervisor"===e.attributes.title?1:(0,d.f)(t.attributes.title||t.attributes.friendly_name||"",e.attributes.title||e.attributes.friendly_name||"",n)}))},x=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _(t).filter((function(t){return y(t,n)}))},k=99387==e.j?(N=(0,u.Z)((0,i.Z)().mark((function t(n,e){var r,u,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=_(e.states,e.locale.language).map((function(t){return t.entity_id}))).length){t.next=4;break}return(0,f.showAlertDialog)(n,{title:e.localize("ui.panel.config.updates.no_update_entities.title"),text:e.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0}),t.abrupt("return");case 4:return(0,p.C)(n,{message:e.localize("ui.panel.config.updates.checking_updates")}),u=0,t.next=8,e.connection.subscribeEvents((function(t){"update"===(0,s.M)(t.data.entity_id)&&(u++,(0,p.C)(n,{message:e.localize("ui.panel.config.updates.updates_refreshed",{count:u})}))}),"state_changed");case 8:return a=t.sent,t.next=11,e.callService("homeassistant","update_entity",{entity_id:r});case 11:return t.next=13,new Promise((function(t){setTimeout(t,15e3)}));case 13:a(),0===u&&(0,p.C)(n,{message:e.localize("ui.panel.config.updates.no_new_updates")});case 15:case"end":return t.stop()}}),t)}))),function(t,n){return N.apply(this,arguments)}):null,w=function(t,n){var e=t.state,r=t.attributes;if("off"===e)return r.latest_version&&r.skipped_version===r.latest_version?r.latest_version:n.formatEntityState(t);if("on"===e&&h(t))return(0,c.e)(t,v.PROGRESS)&&null!==r.update_percentage?n.localize("ui.card.update.installing_with_progress",{progress:(0,l.uf)(r.update_percentage,n.locale,{maximumFractionDigits:r.display_precision,minimumFractionDigits:r.display_precision})}):n.localize("ui.card.update.installing");return n.formatEntityState(t)};r()}catch(Z){r(Z)}var N}))}}]);
//# sourceMappingURL=18865.4d733bf6c66f37bd.js.map