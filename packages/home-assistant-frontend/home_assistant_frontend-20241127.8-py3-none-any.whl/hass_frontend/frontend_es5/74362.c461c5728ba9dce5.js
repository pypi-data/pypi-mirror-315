"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["74362"],{68958:function(e,t,r){r.d(t,{t:function(){return s}});var a=r(52565),o=r(27862),i=(r(80133),r(92745),r(22879),r(77439),r(19423),r(52961),r(42713),r(39527),r(41360),r(88972),r(49207),function(){return(0,o.Z)((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage;(0,a.Z)(this,e),this.storage=void 0,this._storage={},this._listeners={},this.storage=r,r===window.localStorage&&window.addEventListener("storage",(function(e){e.key&&t.hasKey(e.key)&&(t._storage[e.key]=e.newValue?JSON.parse(e.newValue):e.newValue,t._listeners[e.key]&&t._listeners[e.key].forEach((function(r){return r(e.oldValue?JSON.parse(e.oldValue):e.oldValue,t._storage[e.key])})))}))}),[{key:"addFromStorage",value:function(e){if(!this._storage[e]){var t=this.storage.getItem(e);t&&(this._storage[e]=JSON.parse(t))}}},{key:"subscribeChanges",value:function(e,t){var r=this;return this._listeners[e]?this._listeners[e].push(t):this._listeners[e]=[t],function(){r.unsubscribeChanges(e,t)}}},{key:"unsubscribeChanges",value:function(e,t){if(e in this._listeners){var r=this._listeners[e].indexOf(t);-1!==r&&this._listeners[e].splice(r,1)}}},{key:"hasKey",value:function(e){return e in this._storage}},{key:"getValue",value:function(e){return this._storage[e]}},{key:"setValue",value:function(e,t){var r=this._storage[e];this._storage[e]=t;try{void 0===t?this.storage.removeItem(e):this.storage.setItem(e,JSON.stringify(t))}catch(a){}finally{this._listeners[e]&&this._listeners[e].forEach((function(e){return e(r,t)}))}}}])}()),n={},s=function(e){return function(t){var r,a=e.storage||"localStorage";a&&a in n?r=n[a]:(r=new i(window[a]),n[a]=r);var o=String(t.key),s=e.key||String(t.key),c=t.initializer?t.initializer():void 0;r.addFromStorage(s);var l=!1!==e.subscribe?function(e){return r.subscribeChanges(s,(function(r,a){e.requestUpdate(t.key,r)}))}:void 0,d=function(){return r.hasKey(s)?e.deserializer?e.deserializer(r.getValue(s)):r.getValue(s):c};return{kind:"method",placement:"prototype",key:t.key,descriptor:{set:function(a){!function(a,o){var i;e.state&&(i=d()),r.setValue(s,e.serializer?e.serializer(o):o),e.state&&a.requestUpdate(t.key,i)}(this,a)},get:function(){return d()},enumerable:!0,configurable:!0},finisher:function(r){if(e.state&&e.subscribe){var a=r.prototype.connectedCallback,i=r.prototype.disconnectedCallback;r.prototype.connectedCallback=function(){a.call(this),this["__unbsubLocalStorage".concat(o)]=null==l?void 0:l(this)},r.prototype.disconnectedCallback=function(){var e;i.call(this),null===(e=this["__unbsubLocalStorage".concat(o)])||void 0===e||e.call(this),this["__unbsubLocalStorage".concat(o)]=void 0}}e.state&&r.createProperty(t.key,Object.assign({noAccessor:!0},e.stateOptions))}}}}},54977:function(e,t,r){var a,o,i,n=r(63038),s=r(27862),c=r(52565),l=r(92776),d=r(5776),u=r(21475),h=(r(38419),r(57243)),f=r(50778);(0,u.Z)([(0,f.Mo)("ha-card")],(function(e,t){var r=function(t){function r(){var t;(0,c.Z)(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=(0,l.Z)(this,r,[].concat(o)),e(t),t}return(0,d.Z)(r,t),(0,s.Z)(r)}(t);return{F:r,d:[{kind:"field",decorators:[(0,f.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,f.Cb)({type:Boolean,reflect:!0})],key:"raised",value:function(){return!1}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.iv)(a||(a=(0,n.Z)([":host{background:var(--ha-card-background,var(--card-background-color,#fff));-webkit-backdrop-filter:var(--ha-card-backdrop-filter,none);backdrop-filter:var(--ha-card-backdrop-filter,none);box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px);border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,var(--primary-text-color));font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, 24px);letter-spacing:-.012em;line-height:48px;padding:12px 16px 16px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:0px;margin-top:-8px}:host ::slotted(.card-content){padding:16px}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}"])))}},{kind:"method",key:"render",value:function(){return(0,h.dy)(o||(o=(0,n.Z)([" "," <slot></slot> "])),this.header?(0,h.dy)(i||(i=(0,n.Z)(['<h1 class="card-header">',"</h1>"])),this.header):h.Ld)}}]}}),h.oi)},20130:function(e,t,r){var a,o,i,n=r(63038),s=r(27862),c=r(52565),l=r(92776),d=r(5776),u=r(21475),h=r(77204),f=(r(38419),r(39785)),v=r(52876),p=r(50778),b=r(57243),g=r(5111);(0,u.Z)([(0,p.Mo)("ha-fab")],(function(e,t){var r=function(t){function r(){var t;(0,c.Z)(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=(0,l.Z)(this,r,[].concat(o)),e(t),t}return(0,d.Z)(r,t),(0,s.Z)(r)}(t);return{F:r,d:[{kind:"method",key:"firstUpdated",value:function(e){(0,h.Z)(r,"firstUpdated",this,3)([e]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}},{kind:"field",static:!0,key:"styles",value:function(){return[v.W,(0,b.iv)(a||(a=(0,n.Z)([":host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}"]))),"rtl"===g.E.document.dir?(0,b.iv)(o||(o=(0,n.Z)([":host .mdc-fab--extended .mdc-fab__icon{direction:rtl}"]))):(0,b.iv)(i||(i=(0,n.Z)([""])))]}}]}}),f._)},87979:function(e,t,r){var a,o,i,n,s,c=r(63038),l=r(27862),d=r(52565),u=r(92776),h=r(5776),f=r(21475),v=(r(38419),r(57243)),p=r(50778),b=r(31146),g=(r(54202),r(43344),r(28008));(0,f.Z)([(0,p.Mo)("hass-subpage")],(function(e,t){var r=function(t){function r(){var t;(0,d.Z)(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=(0,u.Z)(this,r,[].concat(o)),e(t),t}return(0,h.Z)(r,t),(0,l.Z)(r)}(t);return{F:r,d:[{kind:"field",decorators:[(0,p.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,p.Cb)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:function(){return!1}},{kind:"field",decorators:[(0,p.Cb)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,p.Cb)({attribute:!1})],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,p.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,p.Cb)({type:Boolean})],key:"supervisor",value:function(){return!1}},{kind:"field",decorators:[(0,b.i)(".content")],key:"_savedScrollPos",value:void 0},{kind:"method",key:"render",value:function(){var e;return(0,v.dy)(a||(a=(0,c.Z)([' <div class="toolbar"> ',' <div class="main-title"><slot name="header">','</slot></div> <slot name="toolbar-icon"></slot> </div> <div class="content ha-scrollbar" @scroll="','"> <slot></slot> </div> <div id="fab"> <slot name="fab"></slot> </div> '])),this.mainPage||null!==(e=history.state)&&void 0!==e&&e.root?(0,v.dy)(o||(o=(0,c.Z)([' <ha-menu-button .hassio="','" .hass="','" .narrow="','"></ha-menu-button> '])),this.supervisor,this.hass,this.narrow):this.backPath?(0,v.dy)(i||(i=(0,c.Z)([' <a href="','"> <ha-icon-button-arrow-prev .hass="','"></ha-icon-button-arrow-prev> </a> '])),this.backPath,this.hass):(0,v.dy)(n||(n=(0,c.Z)([' <ha-icon-button-arrow-prev .hass="','" @click="','"></ha-icon-button-arrow-prev> '])),this.hass,this._backTapped),this.header,this._saveScrollPos)}},{kind:"method",decorators:[(0,p.hO)({passive:!0})],key:"_saveScrollPos",value:function(e){this._savedScrollPos=e.target.scrollTop}},{kind:"method",key:"_backTapped",value:function(){this.backCallback?this.backCallback():history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[g.$c,(0,v.iv)(s||(s=(0,c.Z)([":host{display:block;height:100%;background-color:var(--primary-background-color);overflow:hidden;position:relative}:host([narrow]){width:100%;position:fixed}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{margin:var(--margin-title);line-height:20px;min-width:0;flex-grow:1;overflow-wrap:break-word;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;padding-bottom:1px}.content{position:relative;width:100%;height:calc(100% - 1px - var(--header-height));overflow-y:auto;overflow:auto;-webkit-overflow-scrolling:touch}#fab{position:absolute;right:calc(16px + env(safe-area-inset-right));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + env(safe-area-inset-bottom));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}:host([narrow]) #fab.tabs{bottom:calc(84px + env(safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}"])))]}}]}}),v.oi)},96944:function(e,t,r){r.a(e,(async function(e,a){try{r.r(t),r.d(t,{HaConfigLovelaceRescources:function(){return R}});var o,i,n,s,c,l,d=r(9833),u=r(94524),h=r(63038),f=r(27862),v=r(52565),p=r(92776),b=r(5776),g=r(21475),k=r(77204),y=(r(38419),r(91599),r(18801),r(64228),r(61893),r(42713),r(39527),r(99790),r(67670),r(13334),r(57243)),m=r(50778),x=r(27486),_=r(1416),w=(r(54977),r(20130),r(37583),r(20)),Z=r(76131),C=(r(75375),r(87979),r(37654)),z=r(28008),S=r(34216),V=r(21646),H=r(76300),O=r(68958),P=e([C]);C=(P.then?(await P)():P)[0];var R=(0,g.Z)([(0,m.Mo)("ha-config-lovelace-resources")],(function(e,t){var r,a,g=function(t){function r(){var t;(0,v.Z)(this,r);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=(0,p.Z)(this,r,[].concat(o)),e(t),t}return(0,b.Z)(r,t),(0,f.Z)(r)}(t);return{F:g,d:[{kind:"field",decorators:[(0,m.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"isWide",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,m.SB)()],key:"_resources",value:function(){return[]}},{kind:"field",decorators:[(0,O.t)({storage:"sessionStorage",key:"lovelace-resources-table-search",state:!0,subscribe:!1})],key:"_filter",value:function(){return""}},{kind:"field",decorators:[(0,O.t)({key:"lovelace-resources-table-sort",state:!1,subscribe:!1})],key:"_activeSorting",value:void 0},{kind:"field",decorators:[(0,O.t)({key:"lovelace-resources-table-column-order",state:!1,subscribe:!1})],key:"_activeColumnOrder",value:void 0},{kind:"field",decorators:[(0,O.t)({key:"lovelace-resources-table-hidden-columns",state:!1,subscribe:!1})],key:"_activeHiddenColumns",value:void 0},{kind:"field",key:"_columns",value:function(){var e=this;return(0,x.Z)((function(t,r){return{url:{main:!0,title:r("ui.panel.config.lovelace.resources.picker.headers.url"),sortable:!0,filterable:!0,direction:"asc",flex:2,forceLTR:!0},type:{title:r("ui.panel.config.lovelace.resources.picker.headers.type"),sortable:!0,filterable:!0,template:function(t){return(0,y.dy)(o||(o=(0,h.Z)([" "," "])),e.hass.localize("ui.panel.config.lovelace.resources.types.".concat(t.type))||t.type)}},delete:{title:"",type:"icon-button",minWidth:"48px",maxWidth:"48px",showNarrow:!0,template:function(t){return(0,y.dy)(i||(i=(0,h.Z)(['<ha-icon-button @click="','" .label="','" .path="','" .resource="','"></ha-icon-button>'])),e._removeResource,e.hass.localize("ui.common.delete"),"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",t)}}}}))}},{kind:"method",key:"render",value:function(){return this.hass&&void 0!==this._resources?this.hass.config.safe_mode?(0,y.dy)(s||(s=(0,h.Z)([' <hass-subpage .hass="','" .narrow="','" back-path="/config" .header="','"> <div class="content"> <ha-card outlined> <div class="card-content"> <h2> '," </h2> <p> "," </p> </div> </ha-card> </div> </hass-subpage> "])),this.hass,this.narrow,this.hass.localize("ui.panel.config.lovelace.resources.caption"),this.hass.localize("ui.panel.config.lovelace.resources.unavailable"),this.hass.localize("ui.panel.config.lovelace.resources.unavailable_safe_mode")):(0,y.dy)(c||(c=(0,h.Z)([' <hass-tabs-subpage-data-table .hass="','" .narrow="','" .route="','" .tabs="','" .columns="','" .data="','" .noDataText="','" .initialSorting="','" .columnOrder="','" .hiddenColumns="','" @columns-changed="','" @sorting-changed="','" .filter="','" @search-changed="','" @row-click="','" hasFab clickable> <ha-fab slot="fab" .label="','" extended @click="','"> <ha-svg-icon slot="icon" .path="','"></ha-svg-icon> </ha-fab> </hass-tabs-subpage-data-table> '])),this.hass,this.narrow,this.route,V.lovelaceResourcesTabs,this._columns(this.hass.language,this.hass.localize),this._resources,this.hass.localize("ui.panel.config.lovelace.resources.picker.no_resources"),this._activeSorting,this._activeColumnOrder,this._activeHiddenColumns,this._handleColumnsChanged,this._handleSortingChanged,this._filter,this._handleSearchChange,this._editResource,this.hass.localize("ui.panel.config.lovelace.resources.picker.add_resource"),this._addResource,"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"):(0,y.dy)(n||(n=(0,h.Z)([" <hass-loading-screen></hass-loading-screen> "])))}},{kind:"method",key:"firstUpdated",value:function(e){(0,k.Z)(g,"firstUpdated",this,3)([e]),this._getResources()}},{kind:"method",key:"_getResources",value:(a=(0,u.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.eL)(this.hass.connection);case 2:this._resources=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{kind:"method",key:"_editResource",value:function(e){var t;if("storage"===(null===(t=this.hass.panels.lovelace)||void 0===t||null===(t=t.config)||void 0===t?void 0:t.mode)){var r=e.detail.id,a=this._resources.find((function(e){return e.id===r}));this._openDialog(a)}else(0,Z.showAlertDialog)(this,{text:this.hass.localize("ui.panel.config.lovelace.resources.cant_edit_yaml")})}},{kind:"method",key:"_addResource",value:function(){var e;"storage"===(null===(e=this.hass.panels.lovelace)||void 0===e||null===(e=e.config)||void 0===e?void 0:e.mode)?this._openDialog():(0,Z.showAlertDialog)(this,{text:this.hass.localize("ui.panel.config.lovelace.resources.cant_edit_yaml")})}},{kind:"method",key:"_openDialog",value:(r=(0,u.Z)((0,d.Z)().mark((function e(t){var r=this;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,H.U)(this,{resource:t,createResource:function(){var e=(0,u.Z)((0,d.Z)().mark((function e(t){var a;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.SN)(r.hass,t);case 2:a=e.sent,r._resources=r._resources.concat(a).sort((function(e,t){return(0,_.$)(e.url,t.url,r.hass.locale.language)})),(0,S.k)([a],r.hass);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateResource:function(){var e=(0,u.Z)((0,d.Z)().mark((function e(a){var o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.id)(r.hass,t.id,a);case 2:o=e.sent,r._resources=r._resources.map((function(e){return e===t?o:e})),(0,S.k)([o],r.hass);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{kind:"field",key:"_removeResource",value:function(){var e=this;return function(){var t=(0,u.Z)((0,d.Z)().mark((function t(r){var a;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.currentTarget.resource,t.next=3,(0,Z.showConfirmationDialog)(e,{title:e.hass.localize("ui.panel.config.lovelace.resources.confirm_delete_title"),text:e.hass.localize("ui.panel.config.lovelace.resources.confirm_delete_text",{url:a.url}),dismissText:e.hass.localize("ui.common.cancel"),confirmText:e.hass.localize("ui.common.delete"),destructive:!0});case 3:if(t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:return t.prev=5,t.next=8,(0,w.fg)(e.hass,a.id);case 8:return e._resources=e._resources.filter((function(e){return e.id!==a.id})),(0,Z.showConfirmationDialog)(e,{title:e.hass.localize("ui.panel.config.lovelace.resources.refresh_header"),text:e.hass.localize("ui.panel.config.lovelace.resources.refresh_body"),confirmText:e.hass.localize("ui.common.refresh"),dismissText:e.hass.localize("ui.common.not_now"),confirm:function(){return location.reload()}}),t.abrupt("return",!0);case 13:return t.prev=13,t.t0=t.catch(5),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}()}},{kind:"method",key:"_handleSortingChanged",value:function(e){this._activeSorting=e.detail}},{kind:"method",key:"_handleSearchChange",value:function(e){this._filter=e.detail.value}},{kind:"method",key:"_handleColumnsChanged",value:function(e){this._activeColumnOrder=e.detail.columnOrder,this._activeHiddenColumns=e.detail.hiddenColumns}},{kind:"get",static:!0,key:"styles",value:function(){return[z.Qx,(0,y.iv)(l||(l=(0,h.Z)([".content{padding:28px 20px 0;max-width:1040px;margin:0 auto}h2{margin-top:0;margin-bottom:12px}p{margin:0}"])))]}}]}}),y.oi);a()}catch(T){a(T)}}))},76300:function(e,t,r){r.d(t,{U:function(){return i}});r(71695),r(42713),r(40251),r(99341),r(47021);var a=r(36522),o=function(){return Promise.all([r.e("7442"),r.e("63055"),r.e("93432")]).then(r.bind(r,19925))},i=function(e,t){(0,a.B)(e,"show-dialog",{dialogTag:"dialog-lovelace-resource-detail",dialogImport:o,dialogParams:t})}}}]);
//# sourceMappingURL=74362.c461c5728ba9dce5.js.map