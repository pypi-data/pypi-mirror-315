"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["51993"],{6736:function(e,n,t){t.d(n,{f:function(){return d}});var i=t(11655),r=t(27862),a=t(52565),o=t(92776),s=t(5776),u=t(21475),l=t(77204),c=(t(38419),t(19083),t(71695),t(42713),t(40251),t(61006),t(39527),t(36993),t(47021),t(50778)),d=function(e){var n=(0,u.Z)(null,(function(e,n){var t=function(n){function t(){var n;(0,a.Z)(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=(0,o.Z)(this,t,[].concat(r)),e(n),n}return(0,s.Z)(t,n),(0,r.Z)(t)}(n);return{F:t,d:[{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,l.Z)(t,"connectedCallback",this,3)([]),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,l.Z)(t,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){var e=this.__unsubs.pop();e instanceof Promise?e.then((function(e){return e()})):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,l.Z)(t,"updated",this,3)([e]),e.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var n,r=(0,i.Z)(e.keys());try{for(r.s();!(n=r.n()).done;){var a=n.value;if(this.hassSubscribeRequiredHostProps.includes(a))return void this.__checkSubscribed()}}catch(o){r.e(o)}finally{r.f()}}}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var e,n=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((function(e){return void 0===n[e]}))||(this.__unsubs=this.hassSubscribe())}}]}}),e);return n}},33637:function(e,n,t){t.a(e,(async function(e,i){try{t.r(n);var r,a,o,s,u=t(63038),l=t(27862),c=t(52565),d=t(92776),h=t(5776),f=t(21475),v=(t(38419),t(64228),t(13334),t(14394),t(57243)),g=t(50778),_=t(69634),p=(t(54977),t(82062)),y=(t(37583),t(1118)),b=t(17705),k=t(6736),m=t(10188),x=t(93331),Z=e([p,y,m]);[p,y,m]=Z.then?(await Z)():Z;var M={maximumFractionDigits:0};(0,f.Z)([(0,g.Mo)("hui-energy-solar-consumed-gauge-card")],(function(e,n){var t=function(n){function t(){var n;(0,c.Z)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=(0,d.Z)(this,t,[].concat(r)),e(n),n}return(0,h.Z)(t,n),(0,l.Z)(t)}(n);return{F:t,d:[{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_data",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:function(){return["_config"]}},{kind:"method",key:"hassSubscribe",value:function(){var e,n=this;return[(0,y.UB)(this.hass,{key:null===(e=this._config)||void 0===e?void 0:e.collection_key}).subscribe((function(e){n._data=e}))]}},{kind:"method",key:"getCardSize",value:function(){return 4}},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"shouldUpdate",value:function(e){return(0,x.SN)(this,e)||e.size>1||!e.has("hass")}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return v.Ld;if(!this._data)return(0,v.dy)(r||(r=(0,u.Z)(["",""])),this.hass.localize("ui.panel.lovelace.cards.energy.loading"));var e=this._data.prefs,n=(0,y.Jj)(e);if(!n.solar)return v.Ld;var t,i=(0,b.q6)(this._data.stats,n.solar.map((function(e){return e.stat_energy_from})))||0,s=(0,b.q6)(this._data.stats,n.grid[0].flow_to.map((function(e){return e.stat_energy_to})));null!==s&&i&&(t=Math.max(0,i-s)/i*100);return(0,v.dy)(a||(a=(0,u.Z)([" <ha-card> "," </ha-card> "])),void 0!==t?(0,v.dy)(o||(o=(0,u.Z)([' <ha-svg-icon id="info" .path="','"></ha-svg-icon> <simple-tooltip animation-delay="0" for="info" position="left"> <span> '," <br><br> ",' </span> </simple-tooltip> <ha-gauge min="0" max="100" .value="','" label="%" .formatOptions="','" .locale="','" style="','"></ha-gauge> <div class="name"> '," </div> "])),"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.card_indicates_solar_energy_used"),this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.card_indicates_solar_energy_used_charge_home_bat"),t,M,this.hass.locale,(0,_.V)({"--gauge-color":this._computeSeverity(t)}),this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.self_consumed_solar_energy")):0===i?this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.not_produced_solar_energy"):this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.self_consumed_solar_could_not_calc"))}},{kind:"method",key:"_computeSeverity",value:function(e){return e>75?m.severityMap.green:e<50?m.severityMap.yellow:m.severityMap.normal}},{kind:"get",static:!0,key:"styles",value:function(){return(0,v.iv)(s||(s=(0,u.Z)(["ha-card{height:100%;overflow:hidden;padding:16px;display:flex;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box}ha-gauge{width:100%;max-width:250px;direction:ltr}.name{text-align:center;line-height:initial;color:var(--primary-text-color);width:100%;font-size:15px;margin-top:8px}ha-svg-icon{position:absolute;right:4px;inset-inline-end:4px;inset-inline-start:initial;top:4px;color:var(--secondary-text-color)}simple-tooltip>span{font-size:12px;line-height:12px}simple-tooltip{width:80%;max-width:250px;top:8px!important}"])))}}]}}),(0,k.f)(v.oi));i()}catch(S){i(S)}}))},32424:function(e,n,t){t.d(n,{E:function(){return a}});var i=t(53907),r=t(18112);function a(e,n,t){var a=(0,r.Q)(e,null==t?void 0:t.in);return isNaN(n)?(0,i.L)((null==t?void 0:t.in)||e,NaN):n?(a.setDate(a.getDate()+n),a):a}},38836:function(e,n,t){t.d(n,{T:function(){return a}});var i=t(23711),r=t(76808);function a(e,n,t){return(0,i.n)(e,n*r.vh,t)}},23711:function(e,n,t){t.d(n,{n:function(){return a}});var i=t(53907),r=t(18112);function a(e,n,t){return(0,i.L)((null==t?void 0:t.in)||e,+(0,r.Q)(e)+n)}},23459:function(e,n,t){t.d(n,{z:function(){return a}});var i=t(53907),r=t(18112);function a(e,n,t){var a=(0,r.Q)(e,null==t?void 0:t.in);if(isNaN(n))return(0,i.L)((null==t?void 0:t.in)||e,NaN);if(!n)return a;var o=a.getDate(),s=(0,i.L)((null==t?void 0:t.in)||e,a.getTime());return s.setMonth(a.getMonth()+n+1,0),o>=s.getDate()?s:(a.setFullYear(s.getFullYear(),s.getMonth(),o),a)}},2425:function(e,n,t){t.d(n,{U:function(){return r}});var i=t(18112);function r(e,n){var t=+(0,i.Q)(e)-+(0,i.Q)(n);return t<0?-1:t>0?1:t}},6542:function(e,n,t){t.d(n,{d:function(){return u}});var i=t("22936"),r=t("18492"),a=t("2425");function o(e,n,t){var a=(0,r.d)(null==t?void 0:t.in,e,n),o=(0,i.Z)(a,2),s=o[0],u=o[1];return 12*(s.getFullYear()-u.getFullYear())+(s.getMonth()-u.getMonth())}var s=t("3938");function u(e,n,t){var u=(0,r.d)(null==t?void 0:t.in,e,e,n),l=(0,i.Z)(u,3),c=l[0],d=l[1],h=l[2],f=(0,a.U)(d,h),v=Math.abs(o(d,h));if(v<1)return 0;1===d.getMonth()&&d.getDate()>27&&d.setDate(30),d.setMonth(d.getMonth()-f*v);var g=(0,a.U)(d,h)===-f;(0,s.h)(c)&&1===v&&1===(0,a.U)(c,h)&&(g=!1);var _=f*(v-+g);return 0===_?0:_}},96500:function(e,n,t){t.d(n,{i:function(){return r}});var i=t(18112);function r(e,n){var t=(0,i.Q)(e,null==n?void 0:n.in);return t.setHours(23,59,59,999),t}},2621:function(e,n,t){t.d(n,{V:function(){return r}});var i=t(18112);function r(e,n){var t=(0,i.Q)(e,null==n?void 0:n.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}},86319:function(e,n,t){t.d(n,{b:function(){return r}});var i=t(18112);function r(e,n){return 1===(0,i.Q)(e,null==n?void 0:n.in).getDate()}},3938:function(e,n,t){t.d(n,{h:function(){return o}});var i=t(96500),r=t(2621),a=t(18112);function o(e,n){var t=(0,a.Q)(e,null==n?void 0:n.in);return+(0,i.i)(t,n)==+(0,r.V)(t,n)}}}]);
//# sourceMappingURL=51993.3303b3356cbac42a.js.map