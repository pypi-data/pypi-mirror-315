{"version":3,"file":"48342.c917c084ab245d23.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20241127.8/src/components/ha-hls-player.ts"],"names":["_decorate","customElement","_initialize","_LitElement","_renderHLSNative2","_renderHLSPolyfill2","_renderHLSExoPlayer2","_startHls2","_getStreamUrlFromEntityId2","HaHLSPlayer","_LitElement2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_inherits","_createClass","F","d","kind","decorators","property","attribute","key","value","type","Boolean","query","state","static","_superPropGet","streamCount","this","hasUpdated","_resetError","_startHls","_cleanUp","html","_templateObject","_taggedTemplateLiteral","_error","_templateObject2","_errorIsFatal","_templateObject3","posterUrl","autoPlay","muted","playsInline","controls","_loadedData","changedProps","entityChanged","has","urlChanged","_getStreamUrlFromEntityId","url","_url","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$fetchStreamUrl","wrap","_context","prev","next","isComponentLoaded","hass","_setFatalError","abrupt","entityid","fetchStreamUrl","sent","t0","console","error","fireEvent","hasAudio","hasVideo","stop","apply","_callee2","_this$hass$auth$exter","masterPlaylistPromise","Hls","hlsSupported","useExoPlayer","masterPlaylist","playlistRegexp","match","matchTwice","playlist_url","codecs","_context2","fetch","default","isConnected","isSupported","_videoEl","canPlayType","localize","allowExoPlayer","auth","external","config","hasExoPlayer","text","exec","URL","href","undefined","_reportStreams","includes","_renderHLSExoPlayer","_renderHLSPolyfill","_renderHLSNative","_callee3","_context3","_exoPlayer","window","addEventListener","_resizeExoPlayer","updateComplete","then","nextRender","style","visibility","fireMessage","payload","location","toString","_x","_this2","rect","getBoundingClientRect","left","top","right","bottom","performance","getEntriesByType","perfEntry","nextHopProtocol","_callee4","videoEl","hls","_this3","_context4","backBufferLength","fragLoadingTimeOut","manifestLoadingTimeOut","levelLoadingTimeOut","maxLiveSyncPlaybackRate","lowLatencyMode","_isLLHLSSupported","_hlsPolyfillInstance","attachMedia","on","Events","MEDIA_ATTACHED","loadSource","FRAG_LOADED","_event","_data","ERROR","data","fatal","ErrorTypes","NETWORK_ERROR","details","ErrorDetails","MANIFEST_LOAD_ERROR","response","code","_setRetryableError","MANIFEST_LOAD_TIMEOUT","startLoad","MEDIA_ERROR","recoverMediaError","_x2","_x3","_x4","_callee5","_context5","src","play","_x5","_x6","destroy","removeEventListener","removeAttribute","load","errorMessage","_codec$includes","codec","split","css","_templateObject4","LitElement"],"mappings":"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"}