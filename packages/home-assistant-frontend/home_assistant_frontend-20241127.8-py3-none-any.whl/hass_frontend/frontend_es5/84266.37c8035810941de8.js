"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["84266"],{18520:function(t,e,i){i.d(e,{n:function(){return n}});var n=function(t){return!(t.native instanceof MouseEvent)||t.native instanceof PointerEvent&&"mouse"!==t.native.pointerType}},83166:function(t,e,i){var n,a,r,o,s=i(63038),d=i(27862),l=i(52565),c=i(92776),u=i(5776),f=i(21475),p=i(77204),h=(i(38419),i(1105)),m=i(33990),v=i(57243),_=i(50778),g=i(5111);(0,f.Z)([(0,_.Mo)("ha-textfield")],(function(t,e){var i=function(e){function i(){var e;(0,l.Z)(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=(0,c.Z)(this,i,[].concat(a)),t(e),e}return(0,u.Z)(i,e),(0,d.Z)(i)}(e);return{F:i,d:[{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"invalid",value:void 0},{kind:"field",decorators:[(0,_.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"icon",value:function(){return!1}},{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"iconTrailing",value:function(){return!1}},{kind:"field",decorators:[(0,_.Cb)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,_.Cb)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,_.Cb)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,_.IO)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(t){(0,p.Z)(i,"updated",this,3)([t]),(t.has("invalid")||t.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||this.validationMessage||"Invalid":""),(this.invalid||this.validateOnInitialRender||t.has("invalid")&&void 0!==t.get("invalid"))&&this.reportValidity()),t.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),t.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),t.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?"trailing":"leading";return(0,v.dy)(n||(n=(0,s.Z)([' <span class="mdc-text-field__icon mdc-text-field__icon--','" tabindex="','"> <slot name="','Icon"></slot> </span> '])),i,e?1:-1,i)}},{kind:"field",static:!0,key:"styles",value:function(){return[m.W,(0,v.iv)(a||(a=(0,s.Z)([".mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}"]))),"rtl"===g.E.document.dir?(0,v.iv)(r||(r=(0,s.Z)([".mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl;--direction:rtl}"]))):(0,v.iv)(o||(o=(0,s.Z)([""])))]}}]}}),h.P)},38070:function(t,e,i){i.d(e,{Q:function(){return n}});var n=["relative","total","date","time","datetime"]},23656:function(t,e,i){i.a(t,(async function(t,n){try{i.r(e),i.d(e,{HuiStatisticsGraphCardEditor:function(){return R}});var a,r,o=i(63038),s=i(10265),d=i(9833),l=i(94524),c=i(27862),u=i(52565),f=i(92776),p=i(5776),h=i(21475),m=(i(38419),i(91599),i(18801),i(26285),i(71695),i(64228),i(92745),i(63619),i(19423),i(42713),i(61427),i(92519),i(42179),i(89256),i(24931),i(88463),i(57449),i(19814),i(99341),i(39527),i(99790),i(67670),i(41360),i(13334),i(36993),i(49207),i(47021),i(57243)),v=i(50778),_=i(27486),g=i(62900),x=i(95262),y=i(36522),b=i(48045),k=i(84892),w=i(52131),Z=(i(29073),i(17705)),j=i(29401),E=i(18200),C=i(8148),S=i(56615),A=t([w,k]);[w,k]=A.then?(await A)():A;var O=(0,g.G0)([(0,g.i0)("state"),(0,g.i0)("sum"),(0,g.i0)("change"),(0,g.i0)("min"),(0,g.i0)("max"),(0,g.i0)("mean")]),I=(0,g.f0)(E.I,(0,g.Ry)({entities:(0,g.IX)(C.K),title:(0,g.jt)((0,g.Z_)()),days_to_show:(0,g.jt)((0,g.Rx)()),period:(0,g.jt)((0,g.G0)([(0,g.i0)("5minute"),(0,g.i0)("hour"),(0,g.i0)("day"),(0,g.i0)("week"),(0,g.i0)("month")])),chart_type:(0,g.jt)((0,g.G0)([(0,g.i0)("bar"),(0,g.i0)("line")])),stat_types:(0,g.jt)((0,g.G0)([(0,g.IX)(O),O])),unit:(0,g.jt)((0,g.Z_)()),hide_legend:(0,g.jt)((0,g.O7)()),logarithmic_scale:(0,g.jt)((0,g.O7)()),min_y_axis:(0,g.jt)((0,g.Rx)()),max_y_axis:(0,g.jt)((0,g.Rx)()),fit_y_data:(0,g.jt)((0,g.O7)())})),M=["5minute","hour","day","week","month"],D=["mean","min","max","sum","state","change"],R=(0,h.Z)([(0,v.Mo)("hui-statistics-graph-card-editor")],(function(t,e){var i,n=function(e){function i(){var e;(0,u.Z)(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=(0,f.Z)(this,i,[].concat(a)),t(e),e}return(0,p.Z)(i,e),(0,c.Z)(i)}(e);return{F:n,d:[{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,v.SB)()],key:"_configEntities",value:void 0},{kind:"field",decorators:[(0,v.SB)()],key:"_metaDatas",value:void 0},{kind:"method",key:"setConfig",value:function(t){(0,g.hu)(t,I),this._config=t,this._configEntities=t.entities?(0,j.A)(t.entities,!1).map((function(t){return t.entity})):[]}},{kind:"field",key:"_getStatisticsMetaData",value:function(){var t=this;return function(){var e=(0,l.Z)((0,d.Z)().mark((function e(i){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.Py)(t.hass,i||[]);case 2:t._metaDatas=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},{kind:"method",key:"willUpdate",value:function(t){var e;t.has("_configEntities")&&!(0,b.v)(this._configEntities,t.get("_configEntities"))&&(this._metaDatas=void 0,null!==(e=this._configEntities)&&void 0!==e&&e.length&&this._getStatisticsMetaData(this._configEntities))}},{kind:"field",key:"_schema",value:function(){var t=this;return(0,_.Z)((function(e,i,n,a){var r=new Set;null==n||n.forEach((function(e){var i=(0,Z.dO)(t.hass,e.statistic_id,e);i&&r.add(i)}));var o=[{name:"title",selector:{text:{}}},{name:"",type:"grid",schema:[{name:"period",required:!0,selector:{select:{options:M.map((function(t){return{value:t,label:e("ui.panel.lovelace.editor.card.statistics-graph.periods.".concat(t)),disabled:"5minute"===t&&(null==i?void 0:i.some((function(t){return(0,Z.Hs)(t)})))}}))}}},{name:"days_to_show",default:S.DEFAULT_DAYS_TO_SHOW,selector:{number:{min:1,mode:"box"}}},{name:"stat_types",required:!0,selector:{select:{multiple:!0,mode:"list",options:D.map((function(t){return{value:t,label:e("ui.panel.lovelace.editor.card.statistics-graph.stat_type_labels.".concat(t)),disabled:!n||!n.some((function(e){return(0,Z.Z0)(e,k.O[t])}))}}))}}},{name:"chart_type",required:!0,type:"select",options:[["line",e("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.line")],["bar",e("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.bar")]]},{name:"",type:"grid",schema:[{name:"min_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}},{name:"max_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}}]}].concat((0,s.Z)(a?[{name:"fit_y_data",required:!1,selector:{boolean:{}}}]:[]),[{name:"hide_legend",required:!1,selector:{boolean:{}}},{name:"logarithmic_scale",required:!1,selector:{boolean:{}}}])}];return r.size>1&&o[1].schema.push({name:"unit",required:!1,selector:{select:{options:Array.from(r).map((function(t){return{value:t,label:t}}))}}}),o}))}},{kind:"method",key:"render",value:function(){var t,e,i=this;if(!this.hass||!this._config)return m.Ld;var n=this._schema(this.hass.localize,this._configEntities,this._metaDatas,void 0!==this._config.min_y_axis||void 0!==this._config.max_y_axis),r=this._config.stat_types?(0,x.r)(this._config.stat_types):D.filter((function(t){var e;return null===(e=i._metaDatas)||void 0===e?void 0:e.some((function(e){return(0,Z.Z0)(e,t)}))})),s=Object.assign(Object.assign({chart_type:"line",period:"hour"},this._config),{},{stat_types:r}),d=null===(t=this._metaDatas)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.unit_class,l=d||null===(e=this._metaDatas)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.statistics_unit_of_measurement;return(0,m.dy)(a||(a=(0,o.Z)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> <ha-statistics-picker allow-custom-entity .hass="','" .pickStatisticLabel="','" .pickedStatisticLabel="','" .includeStatisticsUnitOfMeasurement="','" .includeUnitClass="','" .ignoreRestrictionsOnFirstStatistic="','" .value="','" .configValue="','" @value-changed="','"></ha-statistics-picker> '])),this.hass,s,n,this._computeLabelCallback,this._valueChanged,this.hass,this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.pick_statistic"),this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.picked_statistic"),l,d,!0,this._configEntities,"entities",this._entitiesChanged)}},{kind:"method",key:"_valueChanged",value:function(t){(0,y.B)(this,"config-changed",{config:t.detail.value})}},{kind:"method",key:"_entitiesChanged",value:(i=(0,l.Z)((0,d.Z)().mark((function t(e){var i,n,a,r,o=this;return(0,d.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.detail.value,n=i.map((function(t){var e=o._config.entities.find((function(e){return"string"!=typeof e&&e.entity===t}));return null!=e?e:t})),a=Object.assign(Object.assign({},this._config),{},{entities:n}),null!=i&&i.some((function(t){return(0,Z.Hs)(t)}))&&"5minute"===a.period&&delete a.period,!a.stat_types&&!a.unit){t.next=10;break}return t.next=7,(0,Z.Py)(this.hass,i);case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=void 0;case 11:r=t.t0,a.stat_types&&a.entities.length&&(a.stat_types=(0,x.r)(a.stat_types).filter((function(t){return r.some((function(e){return(0,Z.Z0)(e,t)}))})),a.stat_types.length||delete a.stat_types),a.unit&&!r.some((function(t){return(0,Z.dO)(o.hass,null==t?void 0:t.statistic_id,t)===a.unit}))&&delete a.unit,(0,y.B)(this,"config-changed",{config:a});case 15:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{kind:"field",key:"_computeLabelCallback",value:function(){var t=this;return function(e){switch(e.name){case"chart_type":case"stat_types":case"period":case"unit":case"hide_legend":case"logarithmic_scale":case"min_y_axis":case"max_y_axis":case"fit_y_data":return t.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.".concat(e.name));default:return t.hass.localize("ui.panel.lovelace.editor.card.generic.".concat(e.name))}}}},{kind:"field",static:!0,key:"styles",value:function(){return(0,m.iv)(r||(r=(0,o.Z)(["ha-statistics-picker{width:100%}"])))}}]}}),m.oi);n()}catch(q){n(q)}}))},18200:function(t,e,i){i.d(e,{I:function(){return a}});var n=i(62900),a=(0,n.Ry)({type:(0,n.Z_)(),view_layout:(0,n.Yj)(),layout_options:(0,n.Yj)(),grid_options:(0,n.Yj)(),visibility:(0,n.Yj)()})},8148:function(t,e,i){i.d(e,{K:function(){return o}});var n=i(62900),a=i(38070),r=i(30571),o=(0,n.G0)([(0,n.Ry)({entity:(0,n.Z_)(),name:(0,n.jt)((0,n.Z_)()),icon:(0,n.jt)((0,n.Z_)()),image:(0,n.jt)((0,n.Z_)()),secondary_info:(0,n.jt)((0,n.Z_)()),format:(0,n.jt)((0,n.kE)(a.Q)),state_color:(0,n.jt)((0,n.O7)()),tap_action:(0,n.jt)(r.fJ),hold_action:(0,n.jt)(r.fJ),double_tap_action:(0,n.jt)(r.fJ),confirmation:(0,n.jt)(r.TX)}),(0,n.Z_)()])},67985:function(t,e,i){i(40810)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})},74786:function(t,e,i){i(40810)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})},96838:function(t,e,i){var n=i(40810),a=i(21954).codeAt;n({target:"String",proto:!0},{codePointAt:function(t){return a(this,t)}})}}]);
//# sourceMappingURL=84266.37c8035810941de8.js.map