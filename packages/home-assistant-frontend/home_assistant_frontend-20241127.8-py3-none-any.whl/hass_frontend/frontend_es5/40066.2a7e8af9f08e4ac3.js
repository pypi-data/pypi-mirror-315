/*! For license information please see 40066.2a7e8af9f08e4ac3.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["40066"],{19631:function(e,t,r){r.a(e,(async function(e,n){try{r.d(t,{Bt:function(){return u},T8:function(){return l}});r(19083),r(80133);var i=r(16485),a=r(88977),o=r(20382),c=e([i]);i=(c.then?(await c)():c)[0];var s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],u=function(e){return e.first_weekday===o.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,a.L)(e.language)%7:s.includes(e.first_weekday)?s.indexOf(e.first_weekday):1},l=function(e){var t=u(e);return s[t]};n()}catch(d){n(d)}}))},94947:function(e,t,r){r.a(e,(async function(e,n){try{r.d(t,{G:function(){return u}});var i=r(16485),a=r(27486),o=r(83753),c=e([i,o]);[i,o]=c.then?(await c)():c;var s=(0,a.Z)((function(e){return new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})})),u=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=(0,o.W)(e,r,t);return n?s(t).format(i.value,i.unit):Intl.NumberFormat(t.language,{style:"unit",unit:i.unit,unitDisplay:"long"}).format(Math.abs(i.value))};n()}catch(l){n(l)}}))},83753:function(e,t,r){r.a(e,(async function(e,n){try{r.d(t,{W:function(){return p}});r(19423);var i=r(13809),a=r(29558),o=r(94763),c=r(19631),s=e([c]);c=(s.then?(await s)():s)[0];var u=1e3,l=60,d=60*l;function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=Object.assign(Object.assign({},h),n||{}),f=(+e-+t)/u;if(Math.abs(f)<s.second)return{value:Math.round(f),unit:"second"};var p=f/l;if(Math.abs(p)<s.minute)return{value:Math.round(p),unit:"minute"};var v=f/d;if(Math.abs(v)<s.hour)return{value:Math.round(v),unit:"hour"};var m=new Date(e),g=new Date(t);m.setHours(0,0,0,0),g.setHours(0,0,0,0);var y=(0,i.j)(m,g);if(0===y)return{value:Math.round(v),unit:"hour"};if(Math.abs(y)<s.day)return{value:y,unit:"day"};var b=(0,c.Bt)(r),k=(0,a.z)(m,{weekStartsOn:b}),_=(0,a.z)(g,{weekStartsOn:b}),w=(0,o.p)(k,_);if(0===w)return{value:y,unit:"day"};if(Math.abs(w)<s.week)return{value:w,unit:"week"};var Z=m.getFullYear()-g.getFullYear(),x=12*Z+m.getMonth()-g.getMonth();return 0===x?{value:w,unit:"week"}:Math.abs(x)<s.month||0===Z?{value:x,unit:"month"}:{value:Math.round(Z),unit:"year"}}var h={second:45,minute:45,hour:22,day:5,week:4,month:11};n()}catch(f){n(f)}}))},34273:function(e,t,r){var n,i,a=r(63038),o=r(27862),c=r(52565),s=r(92776),u=r(5776),l=r(21475),d=r(77204),h=(r(38419),r(23509),r(42713),r(72015),r(87673),r(39527),r(41360),r(49207),r(22997),r(57243)),f=r(50778),p=r(5111),v=r(76525);(0,l.Z)([(0,f.Mo)("ha-button-menu")],(function(e,t){var r=function(t){function r(){var t;(0,c.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=(0,s.Z)(this,r,[].concat(i)),e(t),t}return(0,u.Z)(r,t),(0,o.Z)(r)}(t);return{F:r,d:[{kind:"field",key:v.gA,value:void 0},{kind:"field",decorators:[(0,f.Cb)()],key:"corner",value:function(){return"BOTTOM_START"}},{kind:"field",decorators:[(0,f.Cb)()],key:"menuCorner",value:function(){return"START"}},{kind:"field",decorators:[(0,f.Cb)({type:Number})],key:"x",value:function(){return null}},{kind:"field",decorators:[(0,f.Cb)({type:Number})],key:"y",value:function(){return null}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean})],key:"multi",value:function(){return!1}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean})],key:"activatable",value:function(){return!1}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean})],key:"fixed",value:function(){return!1}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean,attribute:"no-anchor"})],key:"noAnchor",value:function(){return!1}},{kind:"field",decorators:[(0,f.IO)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,t;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(t=this._triggerButton)||void 0===t||t.focus()}},{kind:"method",key:"render",value:function(){return(0,h.dy)(n||(n=(0,a.Z)([' <div @click="','"> <slot name="trigger" @slotchange="','"></slot> </div> <mwc-menu .corner="','" .menuCorner="','" .fixed="','" .multi="','" .activatable="','" .y="','" .x="','"> <slot></slot> </mwc-menu> '])),this._handleClick,this._setTriggerAria,this.corner,this.menuCorner,this.fixed,this.multi,this.activatable,this.y,this.x)}},{kind:"method",key:"firstUpdated",value:function(e){var t=this;(0,d.Z)(r,"firstUpdated",this,3)([e]),"rtl"===p.E.document.dir&&this.updateComplete.then((function(){t.querySelectorAll("mwc-list-item").forEach((function(e){var t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this.noAnchor?null:this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.iv)(i||(i=(0,a.Z)([":host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}"])))}}]}}),h.oi)},97206:function(e,t,r){r.r(t),r.d(t,{HaCircularProgress:function(){return v}});var n,i=r(63038),a=r(10265),o=r(27862),c=r(52565),s=r(92776),u=r(5776),l=r(21475),d=r(77204),h=(r(38419),r(58795)),f=r(57243),p=r(50778),v=(0,l.Z)([(0,p.Mo)("ha-circular-progress")],(function(e,t){var r=function(t){function r(){var t;(0,c.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=(0,s.Z)(this,r,[].concat(i)),e(t),t}return(0,u.Z)(r,t),(0,o.Z)(r)}(t);return{F:r,d:[{kind:"field",decorators:[(0,p.Cb)({attribute:"aria-label",type:String})],key:"ariaLabel",value:function(){return"Loading"}},{kind:"field",decorators:[(0,p.Cb)()],key:"size",value:function(){return"medium"}},{kind:"method",key:"updated",value:function(e){if((0,d.Z)(r,"updated",this,3)([e]),e.has("size"))switch(this.size){case"tiny":this.style.setProperty("--md-circular-progress-size","16px");break;case"small":this.style.setProperty("--md-circular-progress-size","28px");break;case"medium":this.style.setProperty("--md-circular-progress-size","48px");break;case"large":this.style.setProperty("--md-circular-progress-size","68px")}}},{kind:"field",static:!0,key:"styles",value:function(){return[].concat((0,a.Z)((0,d.Z)(r,"styles",this)),[(0,f.iv)(n||(n=(0,i.Z)([":host{--md-sys-color-primary:var(--primary-color);--md-circular-progress-size:48px}"])))])}}]}}),h.B)},20130:function(e,t,r){var n,i,a,o=r(63038),c=r(27862),s=r(52565),u=r(92776),l=r(5776),d=r(21475),h=r(77204),f=(r(38419),r(39785)),p=r(52876),v=r(50778),m=r(57243),g=r(5111);(0,d.Z)([(0,v.Mo)("ha-fab")],(function(e,t){var r=function(t){function r(){var t;(0,s.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=(0,u.Z)(this,r,[].concat(i)),e(t),t}return(0,l.Z)(r,t),(0,c.Z)(r)}(t);return{F:r,d:[{kind:"method",key:"firstUpdated",value:function(e){(0,h.Z)(r,"firstUpdated",this,3)([e]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}},{kind:"field",static:!0,key:"styles",value:function(){return[p.W,(0,m.iv)(n||(n=(0,o.Z)([":host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}"]))),"rtl"===g.E.document.dir?(0,m.iv)(i||(i=(0,o.Z)([":host .mdc-fab--extended .mdc-fab__icon{direction:rtl}"]))):(0,m.iv)(a||(a=(0,o.Z)([""])))]}}]}}),f._)},59959:function(e,t,r){r.r(t),r.d(t,{HaIconOverflowMenu:function(){return w}});var n,i,a,o,c,s,u,l,d,h=r(63038),f=r(27862),p=r(52565),v=r(92776),m=r(5776),g=r(21475),y=(r(38419),r(64228),r(13334),r(14394),r(57243)),b=r(50778),k=r(35359),_=r(28008),w=(r(34273),r(23334),r(7285),r(37583),(0,g.Z)([(0,b.Mo)("ha-icon-overflow-menu")],(function(e,t){var r=function(t){function r(){var t;(0,p.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=(0,v.Z)(this,r,[].concat(i)),e(t),t}return(0,m.Z)(r,t),(0,f.Z)(r)}(t);return{F:r,d:[{kind:"field",decorators:[(0,b.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,b.Cb)({type:Array})],key:"items",value:function(){return[]}},{kind:"field",decorators:[(0,b.Cb)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,y.dy)(n||(n=(0,h.Z)([" "," "])),this.narrow?(0,y.dy)(i||(i=(0,h.Z)([' <ha-button-menu @click="','" @closed="','" class="ha-icon-overflow-menu-overflow" absolute> <ha-icon-button .label="','" .path="','" slot="trigger"></ha-icon-button> '," </ha-button-menu>"])),this._handleIconOverflowMenuOpened,this._handleIconOverflowMenuClosed,this.hass.localize("ui.common.overflow_menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this.items.map((function(e){return e.divider?(0,y.dy)(a||(a=(0,h.Z)(['<li divider role="separator"></li>']))):(0,y.dy)(o||(o=(0,h.Z)(['<ha-list-item graphic="icon" ?disabled="','" @click="','" class="','"> <div slot="graphic"> <ha-svg-icon class="','" .path="','"></ha-svg-icon> </div> '," </ha-list-item> "])),e.disabled,e.action,(0,k.$)({warning:Boolean(e.warning)}),(0,k.$)({warning:Boolean(e.warning)}),e.path,e.label)}))):(0,y.dy)(c||(c=(0,h.Z)([" "," "])),this.items.map((function(e){return e.narrowOnly?"":e.divider?(0,y.dy)(s||(s=(0,h.Z)(['<div role="separator"></div>']))):(0,y.dy)(u||(u=(0,h.Z)(["<div> ",' <ha-icon-button @click="','" .label="','" .path="','" ?disabled="','"></ha-icon-button> </div> '])),e.tooltip?(0,y.dy)(l||(l=(0,h.Z)(['<simple-tooltip animation-delay="0" position="left"> '," </simple-tooltip>"])),e.tooltip):"",e.action,e.label,e.path,e.disabled)}))))}},{kind:"method",key:"_handleIconOverflowMenuOpened",value:function(e){e.stopPropagation();var t=this.closest(".mdc-data-table__row");t&&(t.style.zIndex="1")}},{kind:"method",key:"_handleIconOverflowMenuClosed",value:function(){var e=this.closest(".mdc-data-table__row");e&&(e.style.zIndex="")}},{kind:"get",static:!0,key:"styles",value:function(){return[_.Qx,(0,y.iv)(d||(d=(0,h.Z)([":host{display:flex;justify-content:flex-end}li[role=separator]{border-bottom-color:var(--divider-color)}div[role=separator]{border-right:1px solid var(--divider-color);width:1px}ha-list-item[disabled] ha-svg-icon{color:var(--disabled-text-color)}"])))]}}]}}),y.oi))},7285:function(e,t,r){r.d(t,{M:function(){return g}});var n,i,a,o=r(63038),c=r(27862),s=r(52565),u=r(92776),l=r(5776),d=r(21475),h=r(77204),f=(r(38419),r(65703)),p=r(46289),v=r(57243),m=r(50778),g=(0,d.Z)([(0,m.Mo)("ha-list-item")],(function(e,t){var r=function(t){function r(){var t;(0,s.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=(0,u.Z)(this,r,[].concat(i)),e(t),t}return(0,l.Z)(r,t),(0,c.Z)(r)}(t);return{F:r,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,h.Z)(r,"renderRipple",this,3)([])}},{kind:"get",static:!0,key:"styles",value:function(){return[p.W,(0,v.iv)(n||(n=(0,o.Z)([":host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}"]))),"rtl"===document.dir?(0,v.iv)(i||(i=(0,o.Z)(["span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}"]))):(0,v.iv)(a||(a=(0,o.Z)([""])))]}}]}}),f.K)},43546:function(e,t,r){r.d(t,{Cp:function(){return s},TZ:function(){return u},W2:function(){return c},YY:function(){return d},iI:function(){return o},j2:function(){return l},oT:function(){return a}});var n=r(9833),i=r(94524),a=(r(92894),r(38419),r(19083),r(64228),r(63619),r(77439),r(19423),r(42713),r(40251),r(97499),r(61006),r(13334),"".concat(location.protocol,"//").concat(location.host),function(e){return e.map((function(e){if("string"!==e.type)return e;switch(e.name){case"username":return Object.assign(Object.assign({},e),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},e),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},e),{},{autocomplete:"one-time-code",autofocus:!0});default:return e}}))}),o=function(e,t){return e.callWS({type:"auth/sign_path",path:t})},c=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t,r,i,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.callWS({type:"config/auth_provider/homeassistant/create",user_id:r,username:i,password:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),s=function(e,t,r){return e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:r})},u=function(e,t,r){return e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:r})},l=function(e,t,r){return e.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:t,username:r})},d=function(e,t,r){return e.callWS({type:"auth/delete_all_refresh_tokens",token_type:t,delete_current_token:r})}},26779:function(e,t,r){r.d(t,{FZ:function(){return a},I0:function(){return n},ZE:function(){return i},Zk:function(){return o}});var n=function(e){return"/api/backup/download/".concat(e)},i=function(e){return e.callWS({type:"backup/info"})},a=function(e,t){return e.callWS({type:"backup/remove",slug:t})},o=function(e){return e.callWS({type:"backup/generate"})}},75375:function(e,t,r){r.r(t);var n,i,a,o,c,s,u=r(63038),l=r(27862),d=r(52565),h=r(92776),f=r(5776),p=r(21475),v=(r(38419),r(57243)),m=r(50778),g=(r(97206),r(54202),r(43344),r(28008));(0,p.Z)([(0,m.Mo)("hass-loading-screen")],(function(e,t){var r=function(t){function r(){var t;(0,d.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=(0,h.Z)(this,r,[].concat(i)),e(t),t}return(0,f.Z)(r,t),(0,l.Z)(r)}(t);return{F:r,d:[{kind:"field",decorators:[(0,m.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,m.Cb)({type:Boolean,attribute:"no-toolbar"})],key:"noToolbar",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"rootnav",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)()],key:"message",value:void 0},{kind:"method",key:"render",value:function(){var e;return(0,v.dy)(n||(n=(0,u.Z)([" ",' <div class="content"> <ha-circular-progress indeterminate></ha-circular-progress> '," </div> "])),this.noToolbar?"":(0,v.dy)(i||(i=(0,u.Z)(['<div class="toolbar"> '," </div>"])),this.rootnav||null!==(e=history.state)&&void 0!==e&&e.root?(0,v.dy)(a||(a=(0,u.Z)([' <ha-menu-button .hass="','" .narrow="','"></ha-menu-button> '])),this.hass,this.narrow):(0,v.dy)(o||(o=(0,u.Z)([' <ha-icon-button-arrow-prev .hass="','" @click="','"></ha-icon-button-arrow-prev> '])),this.hass,this._handleBack)),this.message?(0,v.dy)(c||(c=(0,u.Z)(['<div id="loading-text">',"</div>"])),this.message):v.Ld)}},{kind:"method",key:"_handleBack",value:function(){history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[g.Qx,(0,v.iv)(s||(s=(0,u.Z)([":host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto}.content{height:calc(100% - var(--header-height));display:flex;flex-direction:column;align-items:center;justify-content:center}#loading-text{max-width:350px;margin-top:16px}"])))]}}]}}),v.oi)},13835:function(e,t,r){r.a(e,(async function(e,n){try{r.r(t);var i,a,o,c,s,u,l,d=r(9833),h=r(94524),f=r(63038),p=r(27862),v=r(52565),m=r(92776),g=r(5776),y=r(21475),b=r(77204),k=(r(38419),r(64228),r(63619),r(13334),r(14394),r(57243)),_=r(50778),w=r(27486),Z=r(94947),x=(r(97206),r(20130),r(65981),r(59959),r(37583),r(43546)),C=r(26779),z=r(76131),M=(r(75375),r(37654)),B=r(58014),A=e([M,Z]);[M,Z]=A.then?(await A)():A;(0,y.Z)([(0,_.Mo)("ha-config-backup")],(function(e,t){var r,n,y,M,A=function(t){function r(){var t;(0,v.Z)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=(0,m.Z)(this,r,[].concat(i)),e(t),t}return(0,g.Z)(r,t),(0,p.Z)(r)}(t);return{F:A,d:[{kind:"field",decorators:[(0,_.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"isWide",value:function(){return!1}},{kind:"field",decorators:[(0,_.Cb)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,_.Cb)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,_.SB)()],key:"_backupData",value:void 0},{kind:"field",key:"_columns",value:function(){var e=this;return(0,w.Z)((function(t,r,n){return{name:{title:n("ui.panel.config.backup.name"),main:!0,sortable:!0,filterable:!0,flex:2,template:t?void 0:function(e){return(0,k.dy)(i||(i=(0,f.Z)(["",' <div class="secondary">',"</div>"])),e.name,e.path)}},path:{title:n("ui.panel.config.backup.path"),hidden:!t},size:{title:n("ui.panel.config.backup.size"),filterable:!0,sortable:!0,template:function(e){return Math.ceil(10*e.size)/10+" MB"}},date:{title:n("ui.panel.config.backup.created"),direction:"desc",filterable:!0,sortable:!0,template:function(t){return(0,Z.G)(new Date(t.date),e.hass.locale)}},actions:{title:"",type:"overflow-menu",showNarrow:!0,hideable:!1,moveable:!1,template:function(t){return(0,k.dy)(a||(a=(0,f.Z)(['<ha-icon-overflow-menu .hass="','" .narrow="','" .items="','" style="color:var(--secondary-text-color)"> </ha-icon-overflow-menu>'])),e.hass,e.narrow,[{path:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",label:e.hass.localize("ui.panel.config.backup.download_backup"),action:function(){return e._downloadBackup(t)}},{path:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",label:e.hass.localize("ui.panel.config.backup.remove_backup"),action:function(){return e._removeBackup(t)}}])}}}}))}},{kind:"field",key:"_getItems",value:function(){return(0,w.Z)((function(e){return e.map((function(e){return{name:e.name,slug:e.slug,date:e.date,size:e.size,path:e.path}}))}))}},{kind:"method",key:"render",value:function(){return this.hass&&void 0!==this._backupData?(0,k.dy)(c||(c=(0,f.Z)([' <hass-tabs-subpage-data-table hasFab .tabs="','" .hass="','" .narrow="','" back-path="/config/system" .route="','" .columns="','" .data="','" .noDataText="','" .searchLabel="','"> <ha-fab slot="fab" ?disabled="','" .label="','" extended @click="','"> '," </ha-fab> </hass-tabs-subpage-data-table> "])),[{translationKey:"ui.panel.config.backup.caption",path:"/config/backup"}],this.hass,this.narrow,this.route,this._columns(this.narrow,this.hass.language,this.hass.localize),this._getItems(this._backupData.backups),this.hass.localize("ui.panel.config.backup.no_backups"),this.hass.localize("ui.panel.config.backup.picker.search"),this._backupData.backing_up,this._backupData.backing_up?this.hass.localize("ui.panel.config.backup.creating_backup"):this.hass.localize("ui.panel.config.backup.create_backup"),this._generateBackup,this._backupData.backing_up?(0,k.dy)(s||(s=(0,f.Z)(['<ha-circular-progress slot="icon" indeterminate></ha-circular-progress>']))):(0,k.dy)(u||(u=(0,f.Z)(['<ha-svg-icon slot="icon" .path="','"></ha-svg-icon>'])),"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z")):(0,k.dy)(o||(o=(0,f.Z)(["<hass-loading-screen></hass-loading-screen>"])))}},{kind:"method",key:"firstUpdated",value:function(e){(0,b.Z)(A,"firstUpdated",this,3)([e]),this._getBackups()}},{kind:"method",key:"_getBackups",value:(M=(0,h.Z)((0,d.Z)().mark((function e(){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.ZE)(this.hass);case 2:this._backupData=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return M.apply(this,arguments)})},{kind:"method",key:"_downloadBackup",value:(y=(0,h.Z)((0,d.Z)().mark((function e(t){var r;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.iI)(this.hass,(0,C.I0)(t.slug));case 2:r=e.sent,(0,B.N)(r.path);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{kind:"method",key:"_generateBackup",value:(n=(0,h.Z)((0,d.Z)().mark((function e(){var t=this;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,z.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.backup.create.title"),text:this.hass.localize("ui.panel.config.backup.create.description"),confirmText:this.hass.localize("ui.panel.config.backup.create.confirm")});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return(0,C.Zk)(this.hass).then((function(){return t._getBackups()})).catch((function(e){return(0,z.showAlertDialog)(t,{text:e.message})})),e.next=8,this._getBackups();case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"_removeBackup",value:(r=(0,h.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,z.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.backup.remove.title"),text:this.hass.localize("ui.panel.config.backup.remove.description",{name:t.name}),confirmText:this.hass.localize("ui.panel.config.backup.remove.confirm")});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,C.FZ)(this.hass,t.slug);case 7:return e.next=9,this._getBackups();case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[(0,k.iv)(l||(l=(0,f.Z)(["ha-fab[disabled]{--mdc-theme-secondary:var(--disabled-text-color)!important}"])))]}}]}}),k.oi);n()}catch(P){n(P)}}))},16485:function(e,t,r){r.a(e,(async function(e,t){try{var n=r(9833),i=r(94524),a=(r(71695),r(92745),r(42713),r(40251),r(99341),r(47021),r(61449)),o=r(40574),c=r(30532),s=r(41674),u=r(49722),l=r(76632),d=r(7884),h=r(35185),f=r(65401),p=r(44180),v=r(49447),m=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,p.sS)(),i=[],!(0,c.shouldPolyfill)()){e.next=5;break}return e.next=5,Promise.all([r.e("80210"),r.e("74055")]).then(r.bind(r,98133));case 5:if(!(0,u.shouldPolyfill)()){e.next=8;break}return e.next=8,Promise.all([r.e("30282"),r.e("80210"),r.e("60251")]).then(r.bind(r,59095));case 8:if((0,a.shouldPolyfill)(t)&&i.push(Promise.all([r.e("30282"),r.e("68250")]).then(r.bind(r,80561)).then((function(){return(0,v.H)()}))),(0,f.shouldPolyfill)()&&i.push(Promise.all([r.e("30282"),r.e("65578")]).then(r.bind(r,97995))),(0,o.shouldPolyfill)(t)&&i.push(Promise.all([r.e("30282"),r.e("59826")]).then(r.bind(r,31514))),(0,s.shouldPolyfill)(t)&&i.push(Promise.all([r.e("30282"),r.e("23649")]).then(r.bind(r,93840))),(0,l.shouldPolyfill)(t)&&i.push(Promise.all([r.e("30282"),r.e("42831")]).then(r.bind(r,29559))),(0,d.shouldPolyfill)(t)&&i.push(Promise.all([r.e("30282"),r.e("57377")]).then(r.bind(r,63848)).then((function(){return r.e("61236").then(r.t.bind(r,4121,23))}))),(0,h.shouldPolyfill)(t)&&i.push(Promise.all([r.e("30282"),r.e("13870")]).then(r.bind(r,74546))),0!==i.length){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,Promise.all(i).then((function(){return(0,v.n)(t)}));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();await m(),t()}catch(g){t(g)}}),1)},58014:function(e,t,r){r.d(t,{G:function(){return a},N:function(){return i}});var n=r("18117"),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=document.createElement("a");r.target="_blank",r.href=e,r.download=t,document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click")),document.body.removeChild(r)},a=function(e){var t;return!function(e){return!!e.auth.external&&n.G}(e)||!(null===(t=e.auth.external)||void 0===t||!t.config.downloadFileSupported)}},18117:function(e,t,r){r.d(t,{G:function(){return n}});r(19134),r(5740);var n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},58795:function(e,t,r){r.d(t,{B:function(){return b}});var n,i,a,o=r("27862"),c=r("52565"),s=r("92776"),u=r("5776"),l=r("9065"),d=r("50778"),h=r("63038"),f=r("57243"),p=(r("23509"),r("35359")),v=function(e){function t(){var e;return(0,c.Z)(this,t),(e=(0,s.Z)(this,t,arguments)).value=0,e.max=1,e.indeterminate=!1,e.fourColor=!1,e}return(0,u.Z)(t,e),(0,o.Z)(t,[{key:"render",value:function(){var e=this.ariaLabel;return(0,f.dy)(n||(n=(0,h.Z)([' <div class="progress ','" role="progressbar" aria-label="','" aria-valuemin="0" aria-valuemax="','" aria-valuenow="','">',"</div> "])),(0,p.$)(this.getRenderClasses()),e||f.Ld,this.max,this.indeterminate?f.Ld:this.value,this.renderIndicator())}},{key:"getRenderClasses",value:function(){return{indeterminate:this.indeterminate,"four-color":this.fourColor}}}])}((0,r("13823").T)(f.oi));(0,l.__decorate)([(0,d.Cb)({type:Number})],v.prototype,"value",void 0),(0,l.__decorate)([(0,d.Cb)({type:Number})],v.prototype,"max",void 0),(0,l.__decorate)([(0,d.Cb)({type:Boolean})],v.prototype,"indeterminate",void 0),(0,l.__decorate)([(0,d.Cb)({type:Boolean,attribute:"four-color"})],v.prototype,"fourColor",void 0);var m,g=function(e){function t(){return(0,c.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,u.Z)(t,e),(0,o.Z)(t,[{key:"renderIndicator",value:function(){return this.indeterminate?this.renderIndeterminateContainer():this.renderDeterminateContainer()}},{key:"renderDeterminateContainer",value:function(){var e=100*(1-this.value/this.max);return(0,f.dy)(i||(i=(0,h.Z)([' <svg viewBox="0 0 4800 4800"> <circle class="track" pathLength="100"></circle> <circle class="active-track" pathLength="100" stroke-dashoffset="','"></circle> </svg> '])),e)}},{key:"renderIndeterminateContainer",value:function(){return(0,f.dy)(a||(a=(0,h.Z)([' <div class="spinner"> <div class="left"> <div class="circle"></div> </div> <div class="right"> <div class="circle"></div> </div> </div>'])))}}])}(v),y=(0,f.iv)(m||(m=(0,h.Z)([":host{--_active-indicator-color:var(--md-circular-progress-active-indicator-color, var(--md-sys-color-primary, #6750a4));--_active-indicator-width:var(--md-circular-progress-active-indicator-width, 10);--_four-color-active-indicator-four-color:var(--md-circular-progress-four-color-active-indicator-four-color, var(--md-sys-color-tertiary-container, #ffd8e4));--_four-color-active-indicator-one-color:var(--md-circular-progress-four-color-active-indicator-one-color, var(--md-sys-color-primary, #6750a4));--_four-color-active-indicator-three-color:var(--md-circular-progress-four-color-active-indicator-three-color, var(--md-sys-color-tertiary, #7d5260));--_four-color-active-indicator-two-color:var(--md-circular-progress-four-color-active-indicator-two-color, var(--md-sys-color-primary-container, #eaddff));--_size:var(--md-circular-progress-size, 48px);display:inline-flex;vertical-align:middle;width:var(--_size);height:var(--_size);position:relative;align-items:center;justify-content:center;contain:strict;content-visibility:auto}.progress{flex:1;align-self:stretch;margin:4px}.active-track,.circle,.left,.progress,.right,.spinner,.track,svg{position:absolute;inset:0}svg{transform:rotate(-90deg)}circle{cx:50%;cy:50%;r:calc(50%*(1 - var(--_active-indicator-width)/ 100));stroke-width:calc(var(--_active-indicator-width)*1%);stroke-dasharray:100;fill:rgba(0,0,0,0)}.active-track{transition:stroke-dashoffset .5s cubic-bezier(0, 0, .2, 1);stroke:var(--_active-indicator-color)}.track{stroke:rgba(0,0,0,0)}.progress.indeterminate{animation:linear infinite linear-rotate;animation-duration:1.568s}.spinner{animation:infinite both rotate-arc;animation-duration:5332ms;animation-timing-function:cubic-bezier(0.4,0,0.2,1)}.left{overflow:hidden;inset:0 50% 0 0}.right{overflow:hidden;inset:0 0 0 50%}.circle{box-sizing:border-box;border-radius:50%;border:solid calc(var(--_active-indicator-width)/ 100*(var(--_size) - 8px));border-color:var(--_active-indicator-color) var(--_active-indicator-color) transparent transparent;animation:expand-arc;animation-iteration-count:infinite;animation-fill-mode:both;animation-duration:1333ms,5332ms;animation-timing-function:cubic-bezier(0.4,0,0.2,1)}.four-color .circle{animation-name:expand-arc,four-color}.left .circle{rotate:135deg;inset:0 -100% 0 0}.right .circle{rotate:100deg;inset:0 0 0 -100%;animation-delay:-.666s,0s}@media(forced-colors:active){.active-track{stroke:CanvasText}.circle{border-color:CanvasText CanvasText Canvas Canvas}}@keyframes expand-arc{0%{transform:rotate(265deg)}50%{transform:rotate(130deg)}100%{transform:rotate(265deg)}}@keyframes rotate-arc{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes linear-rotate{to{transform:rotate(360deg)}}@keyframes four-color{0%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}15%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}25%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}40%{border-top-color:var(--_four-color-active-indicator-two-color);border-right-color:var(--_four-color-active-indicator-two-color)}50%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}65%{border-top-color:var(--_four-color-active-indicator-three-color);border-right-color:var(--_four-color-active-indicator-three-color)}75%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}90%{border-top-color:var(--_four-color-active-indicator-four-color);border-right-color:var(--_four-color-active-indicator-four-color)}100%{border-top-color:var(--_four-color-active-indicator-one-color);border-right-color:var(--_four-color-active-indicator-one-color)}}"]))),b=function(e){function t(){return(0,c.Z)(this,t),(0,s.Z)(this,t,arguments)}return(0,u.Z)(t,e),(0,o.Z)(t)}(g);b.styles=[y],b=(0,l.__decorate)([(0,d.Mo)("md-circular-progress")],b)},27608:function(e,t,r){r.d(t,{MT:function(){return a},RV:function(){return i},U2:function(){return c},ZH:function(){return u},t8:function(){return s}});var n;r(22936),r(71695),r(64228),r(92745),r(42713),r(40251),r(99341),r(39527),r(41360),r(13334),r(49207),r(47021);function i(e){return new Promise((function(t,r){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return r(e.error)}}))}function a(e,t){var r=indexedDB.open(e);r.onupgradeneeded=function(){return r.result.createObjectStore(t)};var n=i(r);return function(e,r){return n.then((function(n){return r(n.transaction(t,e).objectStore(t))}))}}function o(){return n||(n=a("keyval-store","keyval")),n}function c(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o())("readonly",(function(t){return i(t.get(e))}))}function s(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:o())("readwrite",(function(r){return r.put(t,e),i(r.transaction)}))}function u(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o())("readwrite",(function(e){return e.clear(),i(e.transaction)}))}}}]);
//# sourceMappingURL=40066.2a7e8af9f08e4ac3.js.map