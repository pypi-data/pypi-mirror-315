"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["28565"],{51973:function(t,i,e){e.a(t,(async function(t,n){try{e.r(i);var s,a,o,c,r,d,h,l=e(63038),u=e(9833),f=e(94524),_=e(27862),v=e(52565),b=e(92776),y=e(5776),g=e(21475),p=e(77204),k=(e(52247),e(38419),e(63619),e(57243)),m=e(50778),x=e(35359),w=e(20552),Z=e(47194),C=e(96194),E=e(49319),A=e(3967),F=e(1617),H=e(5684),z=e(93331),S=e(8069),$=e(62577),B=t([S]);S=(B.then?(await B)():B)[0];(0,g.Z)([(0,m.Mo)("hui-weather-entity-row")],(function(t,i){var e,n=function(i){function e(){var i;(0,v.Z)(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i=(0,b.Z)(this,e,[].concat(s)),t(i),i}return(0,y.Z)(e,i),(0,_.Z)(e)}(i);return{F:n,d:[{kind:"field",decorators:[(0,m.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,m.SB)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,m.SB)()],key:"_forecastEvent",value:void 0},{kind:"field",decorators:[(0,m.SB)()],key:"_subscribed",value:void 0},{kind:"method",key:"_unsubscribeForecastEvents",value:function(){this._subscribed&&(this._subscribed.then((function(t){return t()})),this._subscribed=void 0)}},{kind:"method",key:"_subscribeForecastEvents",value:(e=(0,f.Z)((0,u.Z)().mark((function t(){var i,e,n=this;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._unsubscribeForecastEvents(),this.hass&&this._config&&this.isConnected){t.next=3;break}return t.abrupt("return");case 3:i=this.hass.states[this._config.entity],(e=(0,E.k5)(i))&&(this._subscribed=(0,E.MC)(this.hass,i.entity_id,e,(function(t){n._forecastEvent=t})));case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{kind:"method",key:"connectedCallback",value:function(){(0,p.Z)(n,"connectedCallback",this,3)([]),this.hasUpdated&&this._subscribeForecastEvents()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,p.Z)(n,"disconnectedCallback",this,3)([]),this._unsubscribeForecastEvents()}},{kind:"method",key:"setConfig",value:function(t){if(null==t||!t.entity)throw new Error("Entity must be specified");this._config=t}},{kind:"method",key:"shouldUpdate",value:function(t){return(0,z.G2)(this,t)||t.size>1||!t.has("hass")}},{kind:"method",key:"updated",value:function(t){(0,p.Z)(n,"updated",this,3)([t]),!t.has("_config")&&this._subscribed||this._subscribeForecastEvents()}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return k.Ld;var t=this.hass.states[this._config.entity];if(!t)return(0,k.dy)(s||(s=(0,l.Z)([" <hui-warning> "," </hui-warning> "])),(0,$.i)(this.hass,this._config.entity));var i=(0,H.q)(this._config),e=this._config.secondary_info,n=(0,E.Cq)(t.state,this),h=(0,E.Rt)(t.attributes,this._forecastEvent),u=null==h?void 0:h.forecast;return(0,k.dy)(a||(a=(0,l.Z)([' <div class="icon-image ','" @action="','" .actionHandler="','" tabindex="','"> ',' </div> <div class="info ','" @action="','" .actionHandler="','"> '," ",' </div> <div class="attributes ','" @action="','" .actionHandler="','"> <div> ',' </div> <div class="secondary"> '," </div> </div> "])),(0,x.$)({pointer:i}),this._handleAction,(0,A.K)({hasHold:(0,H._)(this._config.hold_action),hasDoubleClick:(0,H._)(this._config.double_tap_action)}),(0,w.o)(!this._config.tap_action||(0,H._)(this._config.tap_action)?"0":void 0),n||(0,k.dy)(o||(o=(0,l.Z)([' <ha-state-icon class="weather-icon" .stateObj="','" .hass="','"></ha-state-icon> '])),t,this.hass),(0,x.$)({pointer:i,"text-content":!e}),this._handleAction,(0,A.K)({hasHold:(0,H._)(this._config.hold_action),hasDoubleClick:(0,H._)(this._config.double_tap_action)}),this._config.name||(0,Z.C)(t),e?(0,k.dy)(c||(c=(0,l.Z)([' <div class="secondary"> '," </div> "])),"entity-id"===this._config.secondary_info?t.entity_id:"last-changed"===this._config.secondary_info?(0,k.dy)(r||(r=(0,l.Z)([' <ha-relative-time .hass="','" .datetime="','" capitalize></ha-relative-time> '])),this.hass,t.last_changed):"last-updated"===this._config.secondary_info?(0,k.dy)(d||(d=(0,l.Z)([' <ha-relative-time .hass="','" .datetime="','" capitalize></ha-relative-time> '])),this.hass,t.last_updated):""):"",(0,x.$)({pointer:i}),this._handleAction,(0,A.K)({hasHold:(0,H._)(this._config.hold_action),hasDoubleClick:(0,H._)(this._config.double_tap_action)}),(0,C.rk)(t.state)||void 0===t.attributes.temperature||null===t.attributes.temperature?this.hass.formatEntityState(t):this.hass.formatEntityAttributeValue(t,"temperature"),(0,E.k2)(this.hass,t,u))}},{kind:"method",key:"_handleAction",value:function(t){(0,F.G)(this,this.hass,this._config,t.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return[E.A$,(0,k.iv)(h||(h=(0,l.Z)([":host{display:flex;align-items:center;flex-direction:row}.info{margin-left:16px;margin-inline-start:16px;margin-inline-end:initial;flex:1 0 60px}.info,.info>*{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.icon-image{display:flex;align-items:center;min-width:40px}.icon-image>*{flex:0 0 40px;height:40px}.icon-image:focus{outline:0;background-color:var(--divider-color);border-radius:50%}.weather-icon{--mdc-icon-size:40px}.pointer{cursor:pointer}.attributes{display:flex;flex-direction:column;justify-content:center;text-align:right;margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.secondary{color:var(--secondary-text-color)}"])))]}}]}}),k.oi);n()}catch(D){n(D)}}))}}]);
//# sourceMappingURL=28565.8e2f3411067610e6.js.map