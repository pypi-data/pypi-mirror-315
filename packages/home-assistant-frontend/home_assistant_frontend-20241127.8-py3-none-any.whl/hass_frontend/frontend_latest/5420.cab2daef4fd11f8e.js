export const ids=["5420"];export const modules={19631:function(e,t,i){i.d(t,{Bt:function(){return o},T8:function(){return r}});var a=i(88977),s=i(20382);const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o=e=>e.first_weekday===s.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,a.L)(e.language)%7:n.includes(e.first_weekday)?n.indexOf(e.first_weekday):1,r=e=>{const t=o(e);return n[t]}},94947:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{G:function(){return d}});var s=i(16485),n=i(27486),o=i(27046),r=e([s,o]);[s,o]=r.then?(await r)():r;const l=(0,n.Z)((e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"}))),d=(e,t,i,a=!0)=>{const s=(0,o.W)(e,i,t);return a?l(t).format(s.value,s.unit):Intl.NumberFormat(t.language,{style:"unit",unit:s.unit,unitDisplay:"long"}).format(Math.abs(s.value))};a()}catch(e){a(e)}}))},31146:function(e,t,i){i.d(t,{i:function(){return s}});const a=(0,i(93826).P)((e=>{history.replaceState({scrollPosition:e},"")}),300),s=e=>t=>({kind:"method",placement:"prototype",key:t.key,descriptor:{set(e){a(e),this[`__${String(t.key)}`]=e},get(){return this[`__${String(t.key)}`]||history.state?.scrollPosition},enumerable:!0,configurable:!0},finisher(i){const a=i.prototype.connectedCallback;i.prototype.connectedCallback=function(){a.call(this);const i=this[t.key];i&&this.updateComplete.then((()=>{const t=this.renderRoot.querySelector(e);t&&setTimeout((()=>{t.scrollTop=i}),0)}))}}})},87733:function(e,t,i){i.d(t,{f:function(){return a}});const a=e=>e.charAt(0).toUpperCase()+e.slice(1)},27046:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{W:function(){return u}});var s=i(13809),n=i(29558),o=i(94763),r=i(19631);const l=1e3,d=60,c=60*d;function u(e,t=Date.now(),i,a={}){const u={...h,...a||{}},m=(+e-+t)/l;if(Math.abs(m)<u.second)return{value:Math.round(m),unit:"second"};const p=m/d;if(Math.abs(p)<u.minute)return{value:Math.round(p),unit:"minute"};const b=m/c;if(Math.abs(b)<u.hour)return{value:Math.round(b),unit:"hour"};const _=new Date(e),g=new Date(t);_.setHours(0,0,0,0),g.setHours(0,0,0,0);const v=(0,s.j)(_,g);if(0===v)return{value:Math.round(b),unit:"hour"};if(Math.abs(v)<u.day)return{value:v,unit:"day"};const f=(0,r.Bt)(i),y=(0,n.z)(_,{weekStartsOn:f}),k=(0,n.z)(g,{weekStartsOn:f}),$=(0,o.p)(y,k);if(0===$)return{value:v,unit:"day"};if(Math.abs($)<u.week)return{value:$,unit:"week"};const w=_.getFullYear()-g.getFullYear(),x=12*w+_.getMonth()-g.getMonth();return 0===x?{value:$,unit:"week"}:Math.abs(x)<u.month||0===w?{value:x,unit:"month"}:{value:Math.round(w),unit:"year"}}const h={second:45,minute:45,hour:22,day:5,week:4,month:11};a()}catch(m){a(m)}}))},54977:function(e,t,i){var a=i(44249),s=i(57243),n=i(15093);(0,a.Z)([(0,n.Mo)("ha-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean,reflect:!0})],key:"raised",value:()=>!1},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`:host{background:var(--ha-card-background,var(--card-background-color,#fff));-webkit-backdrop-filter:var(--ha-card-backdrop-filter,none);backdrop-filter:var(--ha-card-backdrop-filter,none);box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px);border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,var(--primary-text-color));font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, 24px);letter-spacing:-.012em;line-height:48px;padding:12px 16px 16px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:0px;margin-top:-8px}:host ::slotted(.card-content){padding:16px}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}`}},{kind:"method",key:"render",value:function(){return s.dy` ${this.header?s.dy`<h1 class="card-header">${this.header}</h1>`:s.Ld} <slot></slot> `}}]}}),s.oi)},97206:function(e,t,i){i.r(t),i.d(t,{HaCircularProgress:function(){return l}});var a=i(44249),s=i(72621),n=i(58795),o=i(57243),r=i(15093);let l=(0,a.Z)([(0,r.Mo)("ha-circular-progress")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:"aria-label",type:String})],key:"ariaLabel",value:()=>"Loading"},{kind:"field",decorators:[(0,r.Cb)()],key:"size",value:()=>"medium"},{kind:"method",key:"updated",value:function(e){if((0,s.Z)(i,"updated",this,3)([e]),e.has("size"))switch(this.size){case"tiny":this.style.setProperty("--md-circular-progress-size","16px");break;case"small":this.style.setProperty("--md-circular-progress-size","28px");break;case"medium":this.style.setProperty("--md-circular-progress-size","48px");break;case"large":this.style.setProperty("--md-circular-progress-size","68px")}}},{kind:"field",static:!0,key:"styles",value(){return[...(0,s.Z)(i,"styles",this),o.iv`:host{--md-sys-color-primary:var(--primary-color);--md-circular-progress-size:48px}`]}}]}}),n.B)},49277:function(e,t,i){i.d(t,{sS:()=>h,ri:()=>g,hb:()=>_,Yc:()=>p,jV:()=>c,o1:()=>b,MY:()=>v});var a=i("73358"),s=i("73850"),n=i("59847"),o=i("87733");const r=(e,t)=>(e=>{switch(e){case"de":case"lb":return!0;default:return!1}})(t)?(0,o.f)(e):e.toLocaleLowerCase(t);var l=i("96194");const d="ui.components.logbook.messages",c=["counter","proximity","sensor","zone"],u={triggered_by_numeric_state_of:"numeric state of",triggered_by_state_of:"state of",triggered_by_event:"event",triggered_by_time_pattern:"time pattern",triggered_by_time:"time",triggered_by_homeassistant_stopping:"Home Assistant stopping",triggered_by_homeassistant_starting:"Home Assistant starting"},h=async(e,t,i)=>m(e,t,void 0,void 0,i),m=(e,t,i,a,s,n)=>{if((a||n)&&(!a||0===a.length)&&(!n||0===n.length))return Promise.resolve([]);const o={type:"logbook/get_events",start_time:t};return i&&(o.end_time=i),a?.length&&(o.entity_ids=a),n?.length&&(o.device_ids=n),s&&(o.context_id=s),e.callWS(o)},p=(e,t,i,a,s,n)=>{if((s||n)&&(!s||0===s.length)&&(!n||0===n.length))return Promise.reject("No entities or devices");const o={type:"logbook/event_stream",start_time:i,end_time:a};return s?.length&&(o.entity_ids=s),n?.length&&(o.device_ids=n),e.connection.subscribeMessage((e=>t(e)),o)},b=(e,t)=>({entity_id:e.entity_id,state:t,attributes:{device_class:e?.attributes.device_class,source_type:e?.attributes.source_type,has_date:e?.attributes.has_date,has_time:e?.attributes.has_time,entity_picture_local:a.iY.has((0,s.M)(e.entity_id))?void 0:e?.attributes.entity_picture_local,entity_picture:a.iY.has((0,s.M)(e.entity_id))?void 0:e?.attributes.entity_picture}}),_=(e,t)=>{for(const i of Object.keys(u)){const a=u[i];if(t.startsWith(a))return t.replace(a,`${e(`ui.components.logbook.${i}`)}`)}return t},g=(e,t,i,s,n)=>{switch(n){case"device_tracker":case"person":return"not_home"===i?t(`${d}.was_away`):"home"===i?t(`${d}.was_at_home`):t(`${d}.was_at_state`,{state:i});case"sun":return t("above_horizon"===i?`${d}.rose`:`${d}.set`);case"binary_sensor":{const n=i===a.uo,o=i===a.lC,l=s.attributes.device_class;if(l&&(n||o))return t(`${d}.${n?"detected_device_classes":"cleared_device_classes"}.${l}`,{device_class:r(t(`component.binary_sensor.entity_component.${l}.name`)||l,e.language)})||t(`${d}.${n?"detected_device_class":"cleared_device_class"}`,{device_class:r(t(`component.binary_sensor.entity_component.${l}.name`)||l,e.language)});break}case"cover":switch(i){case"open":return t(`${d}.was_opened`);case"opening":return t(`${d}.is_opening`);case"closing":return t(`${d}.is_closing`);case"closed":return t(`${d}.was_closed`)}break;case"event":return t(`${d}.detected_event_no_type`);case"lock":switch(i){case"unlocked":return t(`${d}.was_unlocked`);case"locking":return t(`${d}.is_locking`);case"unlocking":return t(`${d}.is_unlocking`);case"opening":return t(`${d}.is_opening`);case"open":return t(`${d}.is_opened`);case"locked":return t(`${d}.was_locked`);case"jammed":return t(`${d}.is_jammed`)}}return i===a.uo?t(`${d}.turned_on`):i===a.lC?t(`${d}.turned_off`):i===l.lz?t(`${d}.became_unknown`):i===l.nZ?t(`${d}.became_unavailable`):e.localize(`${d}.changed_to_state`,{state:s?e.formatEntityState(s,i):i})},v=e=>"sensor"!==(0,n.N)(e)||void 0===e.attributes.unit_of_measurement&&void 0===e.attributes.state_class},81530:function(e,t,i){i.d(t,{Fb:function(){return _},Gt:function(){return g},Og:function(){return d},PG:function(){return b},kh:function(){return r},l:function(){return h},oA:function(){return l},tm:function(){return m},uq:function(){return u}});var a=i(72344),s=i(73850),n=i(3582),o=i(49277);const r=["camera","configurator"],l=["scene","automation"],d=["script"],c=["alarm_control_panel","cover","climate","fan","humidifier","input_boolean","light","lock","siren","script","switch","valve","water_heater"],u=["update"],h=["alarm_control_panel","automation","camera","climate","configurator","counter","cover","date","datetime","fan","group","humidifier","image","input_boolean","input_datetime","lawn_mower","light","lock","media_player","person","remote","script","scene","siren","sun","switch","time","timer","update","vacuum","valve","water_heater","weather"],m=["input_number","input_select","input_text","number","scene","select","text","update","event"],p=["camera","configurator"],b=(e,t)=>(0,a.p)(e,"history")&&!p.includes((0,s.M)(t)),_=(e,t)=>{if(!(0,a.p)(e,"logbook"))return!1;const i=e.states[t];if(!i||i.attributes.unit_of_measurement)return!1;const n=(0,s.M)(t);return!o.jV.includes(n)&&!p.includes(n)},g=e=>{const t=(0,s.M)(e.entity_id);if("group"===t){const t=(0,n.W)(e);return null!=t&&"group"!==t&&c.includes(t)}return c.includes(t)}},88991:function(e,t,i){i.d(t,{S:function(){return o},ST:function(){return l},n3:function(){return r}});var a=i(59847),s=i(81530);const n={alarm_control_panel:()=>i.e("62410").then(i.bind(i,80875)),automation:()=>i.e("98368").then(i.bind(i,13592)),camera:()=>i.e("11569").then(i.bind(i,17712)),climate:()=>Promise.all([i.e("41258"),i.e("21728")]).then(i.bind(i,5192)),configurator:()=>Promise.all([i.e("46379"),i.e("16649")]).then(i.bind(i,10080)),counter:()=>i.e("25510").then(i.bind(i,32441)),cover:()=>Promise.all([i.e("59689"),i.e("78402")]).then(i.bind(i,72869)),date:()=>Promise.all([i.e("46379"),i.e("41258"),i.e("3561"),i.e("64836")]).then(i.bind(i,6560)),datetime:()=>Promise.all([i.e("46379"),i.e("41258"),i.e("3134"),i.e("3561"),i.e("74040")]).then(i.bind(i,11348)),fan:()=>Promise.all([i.e("59689"),i.e("88973")]).then(i.bind(i,54764)),group:()=>Promise.all([i.e("46379"),i.e("41258"),i.e("1916"),i.e("410")]).then(i.bind(i,96771)),humidifier:()=>i.e("66881").then(i.bind(i,9198)),image:()=>i.e("89870").then(i.bind(i,37093)),input_boolean:()=>Promise.all([i.e("59689"),i.e("64783")]).then(i.bind(i,85742)),input_datetime:()=>Promise.all([i.e("46379"),i.e("41258"),i.e("3561"),i.e("73561")]).then(i.bind(i,68377)),lawn_mower:()=>i.e("49").then(i.bind(i,31650)),light:()=>Promise.all([i.e("59689"),i.e("55815")]).then(i.bind(i,59031)),lock:()=>Promise.all([i.e("59689"),i.e("51539")]).then(i.bind(i,1563)),media_player:()=>Promise.all([i.e("41258"),i.e("8656")]).then(i.bind(i,99091)),person:()=>Promise.all([i.e("49554"),i.e("82437")]).then(i.bind(i,86554)),remote:()=>Promise.all([i.e("41258"),i.e("2600")]).then(i.bind(i,92081)),script:()=>Promise.all([i.e("46379"),i.e("24199"),i.e("27506"),i.e("92115"),i.e("78823"),i.e("13395")]).then(i.bind(i,74358)),siren:()=>Promise.all([i.e("59689"),i.e("34404")]).then(i.bind(i,86534)),sun:()=>i.e("8373").then(i.bind(i,55421)),switch:()=>Promise.all([i.e("59689"),i.e("50728")]).then(i.bind(i,56985)),time:()=>Promise.all([i.e("46379"),i.e("41258"),i.e("3561"),i.e("52137")]).then(i.bind(i,16347)),timer:()=>i.e("14597").then(i.bind(i,42971)),update:()=>Promise.all([i.e("13588"),i.e("9524")]).then(i.bind(i,51077)),vacuum:()=>Promise.all([i.e("41258"),i.e("29453")]).then(i.bind(i,61372)),valve:()=>Promise.all([i.e("59689"),i.e("60455")]).then(i.bind(i,20973)),water_heater:()=>i.e("80518").then(i.bind(i,60054)),weather:()=>Promise.all([i.e("15722"),i.e("85078")]).then(i.bind(i,95818))},o=e=>{const t=(0,a.N)(e);return r(t)},r=e=>s.l.includes(e)?e:s.tm.includes(e)?"hidden":"default",l=e=>{e in n&&n[e]()}},95925:function(e,t,i){i.a(e,(async function(e,a){try{i.r(t);var s=i(44249),n=(i(92745),i(92519),i(42179),i(89256),i(24931),i(88463),i(57449),i(19814),i(39527),i(99790),i(67670),i(41360),i(13334),i(36993),i(31622),i(57243)),o=i(15093),r=i(35359),l=i(27486),d=i(36522),c=i(47194),u=(i(60370),i(93288),i(21164)),h=(i(64780),i(73729),i(7843),i(4398),i(17705)),m=i(28008),p=i(12660),b=i(89868),_=i(97188),g=e([p]);p=(g.then?(await g)():g)[0];const v="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",f="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",y="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",k="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",$="M3,5H9V11H3V5M5,7V9H7V7H5M11,7H21V9H11V7M11,15H21V17H11V15M5,20L1.5,16.5L2.91,15.09L5,17.17L9.59,12.59L11,14L5,20Z",w="M7,10L12,15L17,10H7Z",x="M22,13V22H2V19L22,13M21.68,7.06L16.86,4.46L17.7,7.24L7.58,10.24C6.63,8.95 4.82,8.67 3.53,9.62C2.24,10.57 1.96,12.38 2.91,13.67C3.85,14.97 5.67,15.24 6.96,14.29C7.67,13.78 8.1,12.97 8.14,12.09L18.26,9.09L19.1,11.87L21.68,7.06Z",L="M16.59,5.41L15.17,4L12,7.17L8.83,4L7.41,5.41L12,10M7.41,18.59L8.83,20L12,16.83L15.17,20L16.58,18.59L12,14L7.41,18.59Z",C="M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",P={no_state:0,entity_no_longer_recorded:1,entity_not_recorded:1,state_class_removed:2,units_changed:3},M=["no_state","entity_no_longer_recorded","state_class_removed","units_changed"];(0,s.Z)([(0,o.Mo)("developer-tools-statistics")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.SB)()],key:"_data",value:()=>[]},{kind:"field",decorators:[(0,o.SB)()],key:"filter",value:()=>""},{kind:"field",decorators:[(0,o.SB)()],key:"_selected",value:()=>[]},{kind:"field",decorators:[(0,o.SB)()],key:"groupOrder",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"columnOrder",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"hiddenColumns",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_sortColumn",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_sortDirection",value:()=>null},{kind:"field",decorators:[(0,o.SB)()],key:"_groupColumn",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_selectMode",value:()=>!1},{kind:"field",decorators:[(0,o.IO)("ha-data-table",!0)],key:"_dataTable",value:void 0},{kind:"field",decorators:[(0,o.IO)("#group-by-menu")],key:"_groupByMenu",value:void 0},{kind:"field",decorators:[(0,o.IO)("#sort-by-menu")],key:"_sortByMenu",value:void 0},{kind:"method",key:"_toggleGroupBy",value:function(){this._groupByMenu.open=!this._groupByMenu.open}},{kind:"method",key:"_toggleSortBy",value:function(){this._sortByMenu.open=!this._sortByMenu.open}},{kind:"method",key:"firstUpdated",value:function(){this._validateStatistics()}},{kind:"field",key:"_displayData",value:()=>(0,l.Z)(((e,t)=>e.map((e=>({...e,displayName:e.state?(0,c.C)(e.state):e.name||e.statistic_id,issues_string:e.issues?.map((e=>t(`ui.panel.developer-tools.tabs.statistics.issues.${e.type}`,e.data)||e.type)).join(" ")})))))},{kind:"field",key:"_columns",value(){return(0,l.Z)((e=>({displayName:{title:e("ui.panel.developer-tools.tabs.statistics.data_table.name"),main:!0,sortable:!0,filterable:!0,flex:2},statistic_id:{title:e("ui.panel.developer-tools.tabs.statistics.data_table.statistic_id"),sortable:!0,filterable:!0,hidden:this.narrow},statistics_unit_of_measurement:{title:e("ui.panel.developer-tools.tabs.statistics.data_table.statistics_unit"),sortable:!0,filterable:!0,forceLTR:!0},source:{title:e("ui.panel.developer-tools.tabs.statistics.data_table.source"),sortable:!0,filterable:!0,groupable:!0},issues_string:{title:e("ui.panel.developer-tools.tabs.statistics.data_table.issue"),sortable:!0,filterable:!0,groupable:!0,direction:"asc",flex:2,template:t=>n.dy`${t.issues_string??e("ui.panel.developer-tools.tabs.statistics.no_issue")}`},fix:{title:"",label:this.hass.localize("ui.panel.developer-tools.tabs.statistics.fix_issue.fix"),template:t=>n.dy`${t.issues?n.dy`<mwc-button @click="${this._fixIssue}" .data="${t.issues}"> ${e(t.issues.some((e=>M.includes(e.type)))?"ui.panel.developer-tools.tabs.statistics.fix_issue.fix":"ui.panel.developer-tools.tabs.statistics.fix_issue.info")} </mwc-button>`:"—"}`,minWidth:"113px",maxWidth:"113px",showNarrow:!0},actions:{title:"",label:e("ui.panel.developer-tools.tabs.statistics.adjust_sum"),type:"icon-button",showNarrow:!0,template:t=>t.has_sum?n.dy` <ha-icon-button .label="${e("ui.panel.developer-tools.tabs.statistics.adjust_sum")}" .path="${x}" .statistic="${t}" @click="${this._showStatisticsAdjustSumDialog}"></ha-icon-button> `:""}})))}},{kind:"method",key:"render",value:function(){const e=this.hass.localize,t=this._columns(this.hass.localize),i=this._selectMode?n.Ld:n.dy`<ha-assist-chip class="has-dropdown select-mode-chip" .active="${this._selectMode}" @click="${this._enableSelectMode}" .title="${e("ui.components.subpage-data-table.enter_selection_mode")}"> <ha-svg-icon slot="icon" .path="${$}"></ha-svg-icon> </ha-assist-chip> `,a=n.dy`<search-input-outlined .hass="${this.hass}" .filter="${this.filter}" @value-changed="${this._handleSearchChange}"> </search-input-outlined>`,s=Object.values(t).find((e=>e.sortable))?n.dy` <ha-assist-chip .label="${e("ui.components.subpage-data-table.sort_by",{sortColumn:this._sortColumn&&` ${t[this._sortColumn]?.title||t[this._sortColumn]?.label}`||""})}" id="sort-by-anchor" @click="${this._toggleSortBy}"> <ha-svg-icon slot="trailing-icon" .path="${w}"></ha-svg-icon> </ha-assist-chip> `:n.Ld,o=Object.values(t).find((e=>e.groupable))?n.dy` <ha-assist-chip .label="${e("ui.components.subpage-data-table.group_by",{groupColumn:this._groupColumn?` ${t[this._groupColumn].title||t[this._groupColumn].label}`:""})}" id="group-by-anchor" @click="${this._toggleGroupBy}"> <ha-svg-icon slot="trailing-icon" .path="${w}"></ha-svg-icon></ha-assist-chip> `:n.Ld,l=n.dy`<ha-assist-chip class="has-dropdown select-mode-chip" @click="${this._openSettings}" .title="${e("ui.components.subpage-data-table.settings")}"> <ha-svg-icon slot="icon" .path="${k}"></ha-svg-icon> </ha-assist-chip>`;return n.dy` <div> ${this._selectMode?n.dy`<div class="selection-bar"> <div class="selection-controls"> <ha-icon-button .path="${y}" @click="${this._disableSelectMode}" .label="${e("ui.components.subpage-data-table.exit_selection_mode")}"></ha-icon-button> <ha-md-button-menu positioning="absolute"> <ha-assist-chip .label="${e("ui.components.subpage-data-table.select")}" slot="trigger"> <ha-svg-icon slot="icon" .path="${$}"></ha-svg-icon> <ha-svg-icon slot="trailing-icon" .path="${w}"></ha-svg-icon></ha-assist-chip> <ha-md-menu-item .value="${void 0}" @click="${this._selectAll}"> <div slot="headline"> ${e("ui.components.subpage-data-table.select_all")} </div> </ha-md-menu-item> <ha-md-menu-item .value="${void 0}" @click="${this._selectAllIssues}"> <div slot="headline"> ${e("ui.panel.developer-tools.tabs.statistics.data_table.select_all_issues")} </div> </ha-md-menu-item> <ha-md-menu-item .value="${void 0}" @click="${this._selectNone}"> <div slot="headline"> ${e("ui.components.subpage-data-table.select_none")} </div> </ha-md-menu-item> <md-divider role="separator" tabindex="-1"></md-divider> <ha-md-menu-item .value="${void 0}" @click="${this._disableSelectMode}"> <div slot="headline"> ${e("ui.components.subpage-data-table.exit_selection_mode")} </div> </ha-md-menu-item> </ha-md-button-menu> <p> ${e("ui.components.subpage-data-table.selected",{selected:this._selected.length})} </p> </div> <div class="center-vertical"> <slot name="selection-bar"></slot> </div> <ha-assist-chip .label="${e("ui.panel.developer-tools.tabs.statistics.delete_selected")}" .disabled="${!this._selected.length}" @click="${this._clearSelected}"> </ha-assist-chip> </div>`:n.Ld} <div slot="toolbar-icon"> <slot name="toolbar-icon"></slot> </div> ${this.narrow?n.dy` <div slot="header"> <slot name="header"> <div class="search-toolbar">${a}</div> </slot> </div> `:""} <ha-data-table .hass="${this.hass}" .narrow="${this.narrow}" .columns="${t}" .data="${this._displayData(this._data,this.hass.localize)}" .noDataText="${this.hass.localize("ui.panel.developer-tools.tabs.statistics.data_table.no_statistics")}" .filter="${this.filter}" .selectable="${this._selectMode}" id="statistic_id" clickable .sortColumn="${this._sortColumn}" .sortDirection="${this._sortDirection}" .groupColumn="${this._groupColumn}" .groupOrder="${this.groupOrder}" .columnOrder="${this.columnOrder}" .hiddenColumns="${this.hiddenColumns}" @row-click="${this._rowClicked}" @selection-changed="${this._handleSelectionChanged}"> ${this.narrow?n.dy`<div slot="header"></div> <div slot="header-row" class="narrow-header-row"> ${i}${o}${s}${l} </div>`:n.dy` <div slot="header"> <slot name="header"> <div class="table-header"> ${i}${a}${o}${s}${l} </div> </slot> </div> `} </ha-data-table> </div> <ha-menu anchor="group-by-anchor" id="group-by-menu" positioning="fixed"> ${Object.entries(t).map((([e,t])=>t.groupable?n.dy` <ha-md-menu-item .value="${e}" @click="${this._handleGroupBy}" .selected="${e===this._groupColumn}" class="${(0,r.$)({selected:e===this._groupColumn})}"> ${t.title||t.label} </ha-md-menu-item> `:n.Ld))} <ha-md-menu-item .value="${void 0}" @click="${this._handleGroupBy}" .selected="${void 0===this._groupColumn}" class="${(0,r.$)({selected:void 0===this._groupColumn})}"> ${e("ui.components.subpage-data-table.dont_group_by")} </ha-md-menu-item> <md-divider role="separator" tabindex="-1"></md-divider> <ha-md-menu-item @click="${this._collapseAllGroups}" .disabled="${void 0===this._groupColumn}"> <ha-svg-icon slot="start" .path="${L}"></ha-svg-icon> ${e("ui.components.subpage-data-table.collapse_all_groups")} </ha-md-menu-item> <ha-md-menu-item @click="${this._expandAllGroups}" .disabled="${void 0===this._groupColumn}"> <ha-svg-icon slot="start" .path="${C}"></ha-svg-icon> ${e("ui.components.subpage-data-table.expand_all_groups")} </ha-md-menu-item> </ha-menu> <ha-menu anchor="sort-by-anchor" id="sort-by-menu" positioning="fixed"> ${Object.entries(t).map((([e,t])=>t.sortable?n.dy` <ha-md-menu-item .value="${e}" @click="${this._handleSortBy}" keep-open .selected="${e===this._sortColumn}" class="${(0,r.$)({selected:e===this._sortColumn})}"> ${this._sortColumn===e?n.dy` <ha-svg-icon slot="end" .path="${"desc"===this._sortDirection?v:f}"></ha-svg-icon> `:n.Ld} ${t.title||t.label} </ha-md-menu-item> `:n.Ld))} </ha-menu> `}},{kind:"method",key:"_handleSearchChange",value:function(e){this.filter!==e.detail.value&&(this.filter=e.detail.value)}},{kind:"method",key:"_handleSelectionChanged",value:function(e){this._selected=e.detail.value}},{kind:"method",key:"_handleSortBy",value:function(e){const t=e.currentTarget.value;this._sortDirection&&this._sortColumn===t?"asc"===this._sortDirection?this._sortDirection="desc":this._sortDirection=null:this._sortDirection="asc",this._sortColumn=null===this._sortDirection?void 0:t}},{kind:"method",key:"_handleGroupBy",value:function(e){this._setGroupColumn(e.currentTarget.value)}},{kind:"method",key:"_setGroupColumn",value:function(e){this._groupColumn=e}},{kind:"method",key:"_openSettings",value:function(){(0,u.m)(this,{columns:this._columns(this.hass.localize),hiddenColumns:this.hiddenColumns,columnOrder:this.columnOrder,onUpdate:(e,t)=>{this.columnOrder=e,this.hiddenColumns=t},localizeFunc:this.hass.localize})}},{kind:"method",key:"_collapseAllGroups",value:function(){this._dataTable.collapseAllGroups()}},{kind:"method",key:"_expandAllGroups",value:function(){this._dataTable.expandAllGroups()}},{kind:"method",key:"_enableSelectMode",value:function(){this._selectMode=!0}},{kind:"method",key:"_disableSelectMode",value:function(){this._selectMode=!1,this._dataTable.clearSelection()}},{kind:"method",key:"_selectAll",value:function(){this._dataTable.selectAll()}},{kind:"method",key:"_selectNone",value:function(){this._dataTable.clearSelection()}},{kind:"method",key:"_selectAllIssues",value:function(){this._dataTable.select(this._data.filter((e=>e.issues)).map((e=>e.statistic_id)),!0)}},{kind:"method",key:"_showStatisticsAdjustSumDialog",value:function(e){e.stopPropagation(),(0,_.G)(this,{statistic:e.currentTarget.statistic})}},{kind:"method",key:"_rowClicked",value:function(e){const t=e.detail.id;t in this.hass.states&&(0,d.B)(this,"hass-more-info",{entityId:t})}},{kind:"method",key:"_validateStatistics",value:async function(){const[e,t]=await Promise.all([(0,h.uR)(this.hass),(0,h.h_)(this.hass)]);(0,h.Qm)(this.hass);const i=new Set;this._data=e.map((e=>(i.add(e.statistic_id),{...e,state:this.hass.states[e.statistic_id],issues:t[e.statistic_id]}))),Object.keys(t).forEach((e=>{i.has(e)||this._data.push({statistic_id:e,statistics_unit_of_measurement:"",source:"",state:this.hass.states[e],issues:t[e],has_mean:!1,has_sum:!1,unit_class:null})}))}},{kind:"field",key:"_clearSelected",value(){return async()=>{if(!this._selected.length)return;const e=this._selected;await(0,p.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.developer-tools.tabs.statistics.multi_delete.title"),text:n.dy`${this.hass.localize("ui.panel.developer-tools.tabs.statistics.multi_delete.info_text",{statistic_count:e.length})}`,confirmText:this.hass.localize("ui.common.delete"),destructive:!0,confirm:async()=>{await(0,h.hN)(this.hass,e),this._validateStatistics(),this._dataTable.clearSelection()}})}}},{kind:"field",key:"_fixIssue",value(){return async e=>{const t=e.currentTarget.data.sort(((e,t)=>(P[e.type]??99)-(P[t.type]??99)))[0];await(0,b.e)(this,t),this._validateStatistics()}}},{kind:"get",static:!0,key:"styles",value:function(){return[m.Qx,n.iv`:host{display:block;height:100%}ha-data-table{width:100%;height:100%;--data-table-border-width:0}:host(:not([narrow])) ha-data-table{height:calc(100vh - 1px - var(--header-height));display:block}:host([narrow]){--expansion-panel-summary-padding:0 16px}.table-header{display:flex;align-items:center;--mdc-shape-small:0;height:56px;width:100%;justify-content:space-between;padding:0 16px;gap:16px;box-sizing:border-box;background:var(--primary-background-color);border-bottom:1px solid var(--divider-color)}search-input-outlined{flex:1}.search-toolbar{display:flex;align-items:center;color:var(--secondary-text-color)}.narrow-header-row{display:flex;align-items:center;gap:16px;padding:0 16px;overflow-x:scroll;-ms-overflow-style:none;scrollbar-width:none}.selection-bar{background:rgba(var(--rgb-primary-color),.1);width:100%;height:100%;display:flex;align-items:center;justify-content:space-between;padding:8px 12px;box-sizing:border-box;font-size:14px;--ha-assist-chip-container-color:var(--card-background-color)}.selection-controls{display:flex;align-items:center;gap:8px}.selection-controls p{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.center-vertical{display:flex;align-items:center;gap:8px}.relative{position:relative}ha-assist-chip{--ha-assist-chip-container-shape:10px;--ha-assist-chip-container-color:var(--card-background-color)}.select-mode-chip{--md-assist-chip-icon-label-space:0;--md-assist-chip-trailing-space:8px}ha-dialog{--mdc-dialog-min-width:calc(
            100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
          );--mdc-dialog-max-width:calc(
            100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
          );--mdc-dialog-min-height:100%;--mdc-dialog-max-height:100%;--vertical-align-dialog:flex-end;--ha-dialog-border-radius:0;--dialog-content-padding:0}#group-by-anchor,#sort-by-anchor,ha-button-menu-new ha-assist-chip{--md-assist-chip-trailing-space:8px}`]}}]}}),n.oi);a()}catch(e){a(e)}}))},89868:function(e,t,i){i.d(t,{e:()=>o});var a=i("36522");const s=()=>Promise.all([i.e("66031"),i.e("91552"),i.e("97983"),i.e("78456"),i.e("56898"),i.e("35671"),i.e("29570"),i.e("83895"),i.e("8795"),i.e("71588"),i.e("92139"),i.e("29818"),i.e("32146"),i.e("46274"),i.e("76652"),i.e("44959"),i.e("18865"),i.e("52358"),i.e("79931"),i.e("44251"),i.e("3371"),i.e("63556"),i.e("38326"),i.e("10745"),i.e("16912"),i.e("57282"),i.e("20924"),i.e("69790"),i.e("31906"),i.e("40792")]).then(i.bind(i,6311)),n=()=>Promise.all([i.e("97983"),i.e("7010"),i.e("79096"),i.e("93278")]).then(i.bind(i,46511)),o=async(e,t)=>"units_changed"===t.type?((e,t)=>new Promise((i=>{const s=t.fixedCallback;(0,a.B)(e,"show-dialog",{dialogTag:"dialog-statistics-fix-units-changed",dialogImport:n,dialogParams:{...t,cancelCallback:()=>{i(!1)},fixedCallback:()=>{i(!0),s?.()}}})})))(e,{issue:t}):((e,t)=>new Promise((i=>{const n=t.fixedCallback;(0,a.B)(e,"show-dialog",{dialogTag:"dialog-statistics-fix",dialogImport:s,dialogParams:{...t,cancelCallback:()=>{i(!1)},fixedCallback:()=>{i(!0),n?.()}}})})))(e,{issue:t})},97188:function(e,t,i){i.d(t,{G:function(){return n}});var a=i(36522);const s=()=>Promise.all([i.e("41258"),i.e("3561"),i.e("76597")]).then(i.bind(i,316)),n=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"dialog-statistics-adjust-sum",dialogImport:s,dialogParams:t})}},52032:function(e,t,i){i.a(e,(async function(e,a){try{i.d(t,{w:function(){return c}});i(92519),i(42179),i(89256),i(24931),i(88463),i(57449),i(19814);var s=i(35729),n=(i(83442),i(92263),i(15367),i(56332)),o=i(13888),r=(i(9427),i(40249)),l=e([s,n,o]);[s,n,o]=l.then?(await l)():l;const d=new Set(["conditional","icon","image","service-button","state-badge","state-icon","state-label"]),c=e=>("action-button"===e.type&&(e={...e,type:"service-button"}),(0,r.Tw)("element",e,d));a()}catch(e){a(e)}}))},12660:function(e,t,i){i.a(e,(async function(e,a){try{if(i.r(t),i.d(t,{createBadgeElement:function(){return r.JE},createCardElement:function(){return l.Z6},createHeaderFooterElement:function(){return d.t},createHuiElement:function(){return c.w},createRowElement:function(){return u.m},importMoreInfoControl:function(){return o.ST},showAlertDialog:function(){return n.showAlertDialog},showConfirmationDialog:function(){return n.showConfirmationDialog},showEnterCodeDialog:function(){return s.t},showPromptDialog:function(){return n.showPromptDialog}}),99387==i.j)var s=i(17808);var n=i(76131),o=i(88991),r=i(27934),l=i(62037),d=i(64830),c=i(52032),u=i(46542),h=e([r,l,c,u]);[r,l,c,u]=h.then?(await h)():h,a()}catch(e){a(e)}}))},16485:function(e,t,i){i.a(e,(async function(e,t){try{i(92745);var a=i(61449),s=i(40574),n=i(30532),o=i(41674),r=i(49722),l=i(76632),d=i(7884),c=i(35185),u=i(60933),h=i(44180),m=i(49447);const e=async()=>{const e=(0,h.sS)(),t=[];(0,n.shouldPolyfill)()&&await Promise.all([i.e("80210"),i.e("74055")]).then(i.bind(i,98133)),(0,r.shouldPolyfill)()&&await Promise.all([i.e("30282"),i.e("80210"),i.e("60251")]).then(i.bind(i,59095)),(0,a.shouldPolyfill)(e)&&t.push(Promise.all([i.e("30282"),i.e("68250")]).then(i.bind(i,80561)).then((()=>(0,m.H)()))),(0,u.shouldPolyfill)()&&t.push(Promise.all([i.e("30282"),i.e("65578")]).then(i.bind(i,97995))),(0,s.shouldPolyfill)(e)&&t.push(Promise.all([i.e("30282"),i.e("59826")]).then(i.bind(i,31514))),(0,o.shouldPolyfill)(e)&&t.push(Promise.all([i.e("30282"),i.e("23649")]).then(i.bind(i,93840))),(0,l.shouldPolyfill)(e)&&t.push(Promise.all([i.e("30282"),i.e("42831")]).then(i.bind(i,29559))),(0,d.shouldPolyfill)(e)&&t.push(Promise.all([i.e("30282"),i.e("57377")]).then(i.bind(i,63848)).then((()=>i.e("61236").then(i.t.bind(i,4121,23))))),(0,c.shouldPolyfill)(e)&&t.push(Promise.all([i.e("30282"),i.e("13870")]).then(i.bind(i,74546))),0!==t.length&&await Promise.all(t).then((()=>(0,m.n)(e)))};await e(),t()}catch(e){t(e)}}),1)}};
//# sourceMappingURL=5420.cab2daef4fd11f8e.js.map