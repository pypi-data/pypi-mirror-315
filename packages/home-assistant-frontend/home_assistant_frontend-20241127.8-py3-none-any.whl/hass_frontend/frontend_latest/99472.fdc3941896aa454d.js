/*! For license information please see 99472.fdc3941896aa454d.js.LICENSE.txt */
export const ids=["99472"];export const modules={66487:function(e,t,s){s.a(e,(async function(e,i){try{s.r(t),s.d(t,{EnergySetupWizard:function(){return v}});var n=s(44249),r=(s(31622),s(57243)),h=s(15093),a=s(36522),o=s(1118),c=s(76131),d=s(28008),l=s(3409),u=s(98445),_=s(68646),f=s(98237),p=s(76539),$=s(43672),g=e([l,u,_,f,p,$,o]);[l,u,_,f,p,$,o]=g.then?(await g)():g;let v=(0,n.Z)([(0,h.Mo)("energy-setup-wizard-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,h.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,h.Cb)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,h.SB)()],key:"_info",value:void 0},{kind:"field",decorators:[(0,h.SB)()],key:"_step",value:()=>0},{kind:"field",decorators:[(0,h.SB)()],key:"_preferences",value:()=>({energy_sources:[],device_consumption:[]})},{kind:"method",key:"getCardSize",value:function(){return 10}},{kind:"method",key:"setConfig",value:function(e){e.preferences&&(this._preferences=e.preferences)}},{kind:"method",key:"firstUpdated",value:function(){this.hass.loadFragmentTranslation("config"),this._fetchconfig()}},{kind:"method",key:"render",value:function(){return r.dy` <p> ${this.hass.localize("ui.panel.energy.setup.step",{step:this._step+1,steps:6})} </p> ${0===this._step?r.dy`<ha-energy-grid-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-grid-settings>`:1===this._step?r.dy`<ha-energy-solar-settings .hass="${this.hass}" .preferences="${this._preferences}" .info="${this._info}" @value-changed="${this._prefsChanged}"></ha-energy-solar-settings>`:2===this._step?r.dy`<ha-energy-battery-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-battery-settings>`:3===this._step?r.dy`<ha-energy-gas-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-gas-settings>`:4===this._step?r.dy`<ha-energy-water-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-water-settings>`:r.dy`<ha-energy-device-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-device-settings>`} <div class="buttons"> ${this._step>0?r.dy`<mwc-button outlined @click="${this._back}">${this.hass.localize("ui.panel.energy.setup.back")}</mwc-button>`:r.dy`<div></div>`} ${this._step<4?r.dy`<mwc-button unelevated @click="${this._next}">${this.hass.localize("ui.panel.energy.setup.next")}</mwc-button>`:r.dy`<mwc-button unelevated @click="${this._setupDone}"> ${this.hass.localize("ui.panel.energy.setup.done")} </mwc-button>`} </div> `}},{kind:"method",key:"_fetchconfig",value:async function(){this._info=await(0,o.xZ)(this.hass)}},{kind:"method",key:"_prefsChanged",value:function(e){this._preferences=e.detail.value}},{kind:"method",key:"_back",value:function(){0!==this._step&&this._step--}},{kind:"method",key:"_next",value:function(){5!==this._step&&this._step++}},{kind:"method",key:"_setupDone",value:async function(){if(this._preferences)if(0!==this._preferences.device_consumption.length||0!==this._preferences.energy_sources.length){try{this._preferences=await(0,o._Z)(this.hass,this._preferences)}catch(e){(0,c.showAlertDialog)(this,{title:`Failed to save config: ${e.message}`})}(0,a.B)(this,"reload-energy-panel")}else(0,c.showAlertDialog)(this,{title:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_title"),text:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_description")})}},{kind:"get",static:!0,key:"styles",value:function(){return[d.Qx,r.iv`:host{display:block;padding:16px;max-width:700px;margin:0 auto}mwc-button{margin-top:8px}.buttons{display:flex;justify-content:space-between}`]}}]}}),r.oi);i()}catch(e){i(e)}}))},1714:function(e,t,s){s.d(t,{sR:function(){return l}});s(92519),s(42179),s(89256),s(24931),s(88463),s(57449),s(19814);var i=s(53232),n=s(45779);const r=(e,t)=>{var s,i;const n=e._$AN;if(void 0===n)return!1;for(const e of n)null===(i=(s=e)._$AO)||void 0===i||i.call(s,t,!1),r(e,t);return!0},h=e=>{let t,s;do{if(void 0===(t=e._$AM))break;s=t._$AN,s.delete(e),e=t}while(0===(null==s?void 0:s.size))},a=e=>{for(let t;t=e._$AM;e=t){let s=t._$AN;if(void 0===s)t._$AN=s=new Set;else if(s.has(e))break;s.add(e),d(t)}};function o(e){void 0!==this._$AN?(h(this),this._$AM=e,a(this)):this._$AM=e}function c(e,t=!1,s=0){const i=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(t)if(Array.isArray(i))for(let e=s;e<i.length;e++)r(i[e],!1),h(i[e]);else null!=i&&(r(i,!1),h(i));else r(this,e)}const d=e=>{var t,s,i,r;e.type==n.pX.CHILD&&(null!==(t=(i=e)._$AP)&&void 0!==t||(i._$AP=c),null!==(s=(r=e)._$AQ)&&void 0!==s||(r._$AQ=o))};class l extends n.Xe{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,s){super._$AT(e,t,s),a(this),this.isConnected=e._$AU}_$AO(e,t=!0){var s,i;e!==this.isConnected&&(this.isConnected=e,e?null===(s=this.reconnected)||void 0===s||s.call(this):null===(i=this.disconnected)||void 0===i||i.call(this)),t&&(r(this,e),h(this))}setValue(e){if((0,i.OR)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}},94571:function(e,t,s){s.d(t,{C:()=>u});s("39527"),s("67670");var i=s("2841"),n=s("53232"),r=s("1714");class h{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class a{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){var e;null!==(e=this.Y)&&void 0!==e||(this.Y=new Promise((e=>this.Z=e)))}resume(){var e;null===(e=this.Z)||void 0===e||e.call(this),this.Y=this.Z=void 0}}var o=s("45779");const c=e=>!(0,n.pt)(e)&&"function"==typeof e.then,d=1073741823;class l extends r.sR{constructor(){super(...arguments),this._$C_t=d,this._$Cwt=[],this._$Cq=new h(this),this._$CK=new a}render(...e){var t;return null!==(t=e.find((e=>!c(e))))&&void 0!==t?t:i.Jb}update(e,t){const s=this._$Cwt;let n=s.length;this._$Cwt=t;const r=this._$Cq,h=this._$CK;this.isConnected||this.disconnected();for(let e=0;e<t.length&&!(e>this._$C_t);e++){const i=t[e];if(!c(i))return this._$C_t=e,i;e<n&&i===s[e]||(this._$C_t=d,n=0,Promise.resolve(i).then((async e=>{for(;h.get();)await h.get();const t=r.deref();if(void 0!==t){const s=t._$Cwt.indexOf(i);s>-1&&s<t._$C_t&&(t._$C_t=s,t.setValue(e))}})))}return i.Jb}disconnected(){this._$Cq.disconnect(),this._$CK.pause()}reconnected(){this._$Cq.reconnect(this),this._$CK.resume()}}const u=(0,o.XM)(l)}};
//# sourceMappingURL=99472.fdc3941896aa454d.js.map