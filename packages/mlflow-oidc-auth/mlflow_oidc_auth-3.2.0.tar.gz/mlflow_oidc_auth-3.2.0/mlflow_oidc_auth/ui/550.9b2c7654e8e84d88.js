"use strict";(self.webpackChunkmlflow_oidc_auth_front=self.webpackChunkmlflow_oidc_auth_front||[]).push([[550],{9550:(Ge,F,m)=>{m.r(F),m.d(F,{AdminPageModule:()=>Fe});var f=m(6895),Z=m(4006),p=m(9197),A=m(273),g=m(9300),a=m(3900),d=m(8505),S=m(4004),c=(()=>{return(s=c||(c={})).EDIT="EDIT",s.DELETE="DELETE",s.REVOKE="REVOKE",s.ADD="ADD",s.MANAGE="MANAGE",c;var s})();const u={ADD:{name:"Add",icon:"add",action:c.ADD},EDIT:{name:"Edit",icon:"edit",action:c.EDIT},DELETE:{name:"Delete",icon:"delete",action:c.DELETE},REVOKE:{name:"Reset to fallback",icon:"key_off",action:c.REVOKE}},w=[u.EDIT,u.REVOKE],Y=[{title:"User name",key:"username"},{title:"Permissions",key:"permission"}];var i=m(4650),G=m(5938),l=m(1299),P=m(2590);let M=(()=>{class s{constructor(e){this.dialog=e}openEditPermissionsModal(e,t,n){return this.dialog.open(A.jA,{data:{targetEntity:t,entity:e,currentPermission:n}}).afterClosed()}openGrantPermissionModal(e=P.WP.EXPERIMENT,t,n){return this.dialog.open(A.Rt,{data:{entityType:e,entities:t,targetName:n}}).afterClosed()}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(G.uw))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var E=m(6709),I=m(7392),U=m(4859);let J=(()=>{class s{constructor(e,t,n,o,D,_,O){this.dialog=e,this.experimentDataService=t,this.permissionDataService=n,this.userDataService=o,this.route=D,this.permissionModalService=_,this.snackBarService=O,this.userColumnConfig=Y,this.actions=w,this.userDataSource=[]}ngOnInit(){this.experimentId=this.route.snapshot.paramMap.get("id")??"",this.experimentDataService.getUsersForExperiment(this.experimentId).subscribe(e=>this.userDataSource=e)}handleUserEdit(e){this.permissionModalService.openEditPermissionsModal(this.experimentId,e.username,e.permission).pipe((0,g.h)(Boolean),(0,a.w)(t=>this.permissionDataService.updateExperimentPermission({experiment_id:this.experimentId,permission:t,user_name:e.username})),(0,d.b)(()=>this.snackBarService.openSnackBar("Permissions updated successfully")),(0,a.w)(()=>this.experimentDataService.getUsersForExperiment(this.experimentId))).subscribe(t=>{this.userDataSource=t})}handleActions(e){const n={[c.EDIT]:this.handleUserEdit.bind(this),[c.REVOKE]:this.revokePermissionForUser.bind(this)}[e.action.action];n&&n(e.item)}revokePermissionForUser(e){this.permissionDataService.deleteExperimentPermission({experiment_id:this.experimentId,user_name:e.username}).pipe((0,d.b)(()=>this.snackBarService.openSnackBar("Permission revoked successfully")),(0,a.w)(()=>this.loadUsersForExperiment(this.experimentId))).subscribe(t=>this.userDataSource=t)}addUser(){this.userDataService.getAllUsers().pipe((0,S.U)(({users:e})=>e.filter(t=>!this.userDataSource.some(n=>n.username===t))),(0,a.w)(e=>this.dialog.open(A.LP,{data:{users:e}}).afterClosed()),(0,g.h)(Boolean),(0,a.w)(({user:e,permission:t})=>this.permissionDataService.createExperimentPermission({experiment_id:this.experimentId,permission:t,user_name:e})),(0,a.w)(()=>this.loadUsersForExperiment(this.experimentId))).subscribe(e=>this.userDataSource=e)}loadUsersForExperiment(e){return this.experimentDataService.getUsersForExperiment(e)}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(G.uw),i.Y36(l.jR),i.Y36(l.PQ),i.Y36(l.Mn),i.Y36(p.gz),i.Y36(M),i.Y36(l.cw))},s.\u0275cmp=i.Xpm({type:s,selectors:[["ml-experiment-permission-details"]],decls:10,vars:3,consts:[[1,"my-3"],[1,"header-section"],["mat-button","",3,"click"],[3,"columnConfig","data","actions","action"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3"),i._uU(3,"Experiment Access"),i.qZA(),i.TgZ(4,"button",2),i.NdJ("click",function(){return t.addUser()}),i.TgZ(5,"mat-icon"),i._uU(6,"add"),i.qZA(),i.TgZ(7,"span"),i._uU(8,"Add"),i.qZA()()(),i.TgZ(9,"ml-table",3),i.NdJ("action",function(o){return t.handleActions(o)}),i.qZA()()),2&e&&(i.xp6(9),i.Q6J("columnConfig",t.userColumnConfig)("data",t.userDataSource)("actions",t.actions))},dependencies:[E.a,I.Hw,U.lW]}),s})();const Q=[u.EDIT,u.REVOKE],K=[{title:"User name",key:"username"},{title:"Permissions",key:"permission"}];function X(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"ml-table",4),i.NdJ("action",function(n){i.CHM(e);const o=i.oxw();return i.KtG(o.handleActions(n))}),i.qZA()}if(2&s){const e=i.oxw();i.Q6J("columnConfig",e.userColumnConfig)("data",e.userDataSource)("actions",e.actions)}}let $=(()=>{class s{constructor(e,t,n,o,D,_){this.route=e,this.modelDataService=t,this.permissionDataService=n,this.userDataService=o,this.snackService=D,this.permissionModalService=_,this.userDataSource=[],this.userColumnConfig=K,this.actions=Q}ngOnInit(){this.modelId=this.route.snapshot.paramMap.get("id")??"",this.loadUsersForModel(this.modelId).subscribe(e=>this.userDataSource=e)}revokePermissionForUser(e){this.permissionDataService.deleteModelPermission({name:this.modelId,user_name:e.username}).pipe((0,d.b)(()=>this.snackService.openSnackBar("Permission revoked successfully")),(0,a.w)(()=>this.loadUsersForModel(this.modelId))).subscribe(t=>this.userDataSource=t)}editPermissionForUser({username:e,permission:t}){this.permissionModalService.openEditPermissionsModal(this.modelId,e,t).pipe((0,g.h)(Boolean),(0,a.w)(n=>this.permissionDataService.updateModelPermission({name:this.modelId,permission:n,user_name:e})),(0,d.b)(()=>this.snackService.openSnackBar("Permission updated")),(0,a.w)(()=>this.loadUsersForModel(this.modelId))).subscribe(n=>{this.userDataSource=n})}handleActions({action:e,item:t}){const o={[c.REVOKE]:this.revokePermissionForUser.bind(this),[c.EDIT]:this.editPermissionForUser.bind(this)}[e.action];o&&o(t)}loadUsersForModel(e){return this.modelDataService.getUsersForModel(e)}addUser(){this.userDataService.getAllUsers().pipe((0,S.U)(({users:e})=>e.filter(t=>!this.userDataSource.some(n=>n.username===t))),(0,a.w)(e=>this.permissionModalService.openGrantPermissionModal(P.WP.MODEL,e.map((t,n)=>({id:n+t,name:t})),this.modelId)),(0,g.h)(Boolean),(0,a.w)(({entity:e,permission:t})=>this.permissionDataService.createModelPermission({name:this.modelId,permission:t,user_name:e.name})),(0,a.w)(()=>this.loadUsersForModel(this.modelId))).subscribe(e=>{this.userDataSource=e})}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(p.gz),i.Y36(l.$N),i.Y36(l.PQ),i.Y36(l.Mn),i.Y36(l.cw),i.Y36(M))},s.\u0275cmp=i.Xpm({type:s,selectors:[["ml-model-permission-details"]],decls:10,vars:1,consts:[[1,"my-3"],[1,"header-section"],["mat-button","",3,"click"],[3,"columnConfig","data","actions","action",4,"ngIf"],[3,"columnConfig","data","actions","action"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3"),i._uU(3,"Model Access"),i.qZA(),i.TgZ(4,"button",2),i.NdJ("click",function(){return t.addUser()}),i.TgZ(5,"mat-icon"),i._uU(6,"add"),i.qZA(),i.TgZ(7,"span"),i._uU(8,"Add"),i.qZA()()(),i.YNc(9,X,1,3,"ml-table",3),i.qZA()),2&e&&(i.xp6(9),i.Q6J("ngIf",t.userDataSource.length))},dependencies:[f.O5,E.a,I.Hw,U.lW]}),s})();var V=m(4128);const z=[{title:"Model name",key:"name"},{title:"Permissions",key:"permission"},{title:"Type",key:"type"}],H=[{title:"Experiment Name",key:"name"},{title:"Permission",key:"permission"},{title:"Type",key:"type"}],W=[u.EDIT,u.REVOKE],j=[u.EDIT,u.REVOKE];var C=m(7714),v=m(3848);function q(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"ml-table",5),i.NdJ("action",function(n){i.CHM(e);const o=i.oxw();return i.KtG(o.handleExperimentActions(n))}),i.qZA()}if(2&s){const e=i.oxw();i.Q6J("columnConfig",e.experimentsColumnConfig)("data",e.experimentsDataSource)("actions",e.experimentsActions)}}function ee(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"ml-table",5),i.NdJ("action",function(n){i.CHM(e);const o=i.oxw();return i.KtG(o.handleModelActions(n))}),i.qZA()}if(2&s){const e=i.oxw();i.Q6J("columnConfig",e.modelsColumnConfig)("data",e.modelsDataSource)("actions",e.modelsActions)}}let ie=(()=>{class s{constructor(e,t,n,o,D,_){this.expDataService=e,this.modelDataService=t,this.permissionDataService=n,this.route=o,this.permissionModalService=D,this.snackBarService=_,this.userId="",this.experimentsColumnConfig=H,this.modelsColumnConfig=z,this.experimentsDataSource=[],this.modelsDataSource=[],this.experimentsActions=W,this.modelsActions=j}ngOnInit(){this.userId=this.route.snapshot.paramMap.get("id")??"",(0,V.D)([this.expDataService.getExperimentsForUser(this.userId),this.modelDataService.getModelsForUser(this.userId)]).subscribe(([e,t])=>{this.experimentsDataSource=e,this.modelsDataSource=t})}addModelPermissionToUser(){return this.modelDataService.getAllModels().pipe((0,S.U)(e=>e.map((t,n)=>({...t,id:`${n}-${t.name}`}))),(0,S.U)(e=>e.filter(t=>!this.modelsDataSource.some(n=>n.name===t.name))),(0,a.w)(e=>this.permissionModalService.openGrantPermissionModal(P.WP.MODEL,e,this.userId)),(0,g.h)(Boolean),(0,a.w)(({entity:e,permission:t})=>this.permissionDataService.createModelPermission({user_name:this.userId,name:e.name,permission:t})),(0,d.b)(()=>this.snackBarService.openSnackBar("Permission granted successfully")),(0,a.w)(()=>this.modelDataService.getModelsForUser(this.userId))).subscribe(e=>this.modelsDataSource=e)}addExperimentPermissionToUser(){this.expDataService.getAllExperiments().pipe((0,S.U)(e=>e.filter(t=>!this.experimentsDataSource.some(n=>n.id===t.id))),(0,a.w)(e=>this.permissionModalService.openGrantPermissionModal(P.WP.EXPERIMENT,e,this.userId)),(0,g.h)(Boolean),(0,a.w)(({entity:e,permission:t})=>this.permissionDataService.createExperimentPermission({user_name:this.userId,experiment_name:e.name,permission:t})),(0,d.b)(()=>this.snackBarService.openSnackBar("Permission granted successfully")),(0,a.w)(()=>this.expDataService.getExperimentsForUser(this.userId))).subscribe(e=>this.experimentsDataSource=e)}handleExperimentActions(e){const n={[c.EDIT]:this.handleEditUserPermissionForExperiment.bind(this),[c.REVOKE]:this.revokeExperimentPermissionForUser.bind(this)}[e.action.action];n&&n(e.item)}revokeExperimentPermissionForUser(e){e.type.toUpperCase()===C.Pm.USER?this.permissionDataService.deleteExperimentPermission({experiment_id:e.id,user_name:this.userId}).pipe((0,d.b)(()=>this.snackBarService.openSnackBar("Permission revoked successfully")),(0,a.w)(()=>this.expDataService.getExperimentsForUser(this.userId))).subscribe(t=>this.experimentsDataSource=t):this.snackBarService.openSnackBar("Nothing to reset")}revokeModelPermissionForUser({name:e,type:t}){t.toUpperCase()===C.Pm.USER?this.permissionDataService.deleteModelPermission({name:e,user_name:this.userId}).pipe((0,d.b)(()=>this.snackBarService.openSnackBar("Permission revoked successfully")),(0,a.w)(()=>this.modelDataService.getModelsForUser(this.userId))).subscribe(n=>this.modelsDataSource=n):this.snackBarService.openSnackBar("Nothing to reset")}handleModelActions({action:e,item:t}){const o={[c.EDIT]:this.handleEditUserPermissionForModel.bind(this),[c.REVOKE]:this.revokeModelPermissionForUser.bind(this)}[e.action];o&&o(t)}handleEditUserPermissionForModel({name:e,permission:t,type:n}){this.permissionModalService.openEditPermissionsModal(e,this.userId,t).pipe((0,g.h)(Boolean),(0,a.w)(o=>n.toUpperCase()!==C.Pm.USER?this.permissionDataService.createModelPermission({name:e,permission:o,user_name:this.userId}):this.permissionDataService.updateModelPermission({name:e,permission:o,user_name:this.userId})),(0,d.b)(()=>this.snackBarService.openSnackBar("Permissions updated successfully")),(0,a.w)(()=>this.modelDataService.getModelsForUser(this.userId))).subscribe(o=>this.modelsDataSource=o)}handleEditUserPermissionForExperiment({id:e,permissions:t,type:n}){this.permissionModalService.openEditPermissionsModal(e,this.userId,t).pipe((0,g.h)(Boolean),(0,a.w)(o=>n.toUpperCase()!==C.Pm.USER?this.permissionDataService.createExperimentPermission({experiment_id:e,permission:o,user_name:this.userId}):this.permissionDataService.updateExperimentPermission({experiment_id:e,permission:o,user_name:this.userId})),(0,d.b)(()=>this.snackBarService.openSnackBar("Permissions updated successfully")),(0,a.w)(()=>this.expDataService.getExperimentsForUser(this.userId))).subscribe(o=>this.experimentsDataSource=o)}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(l.jR),i.Y36(l.$N),i.Y36(l.PQ),i.Y36(p.gz),i.Y36(M),i.Y36(l.cw))},s.\u0275cmp=i.Xpm({type:s,selectors:[["ml-user-permission-details"]],decls:9,vars:2,consts:[["label","Experiments"],[1,"my-3"],[1,"header-section"],[3,"columnConfig","data","actions","action",4,"ngIf"],["label","Models"],[3,"columnConfig","data","actions","action"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-tab-group")(1,"mat-tab",0)(2,"div",1),i._UZ(3,"div",2),i.YNc(4,q,1,3,"ml-table",3),i.qZA()(),i.TgZ(5,"mat-tab",4)(6,"div",1),i._UZ(7,"div",2),i.YNc(8,ee,1,3,"ml-table",3),i.qZA()()()),2&e&&(i.xp6(4),i.Q6J("ngIf",t.experimentsDataSource.length),i.xp6(4),i.Q6J("ngIf",t.modelsDataSource.length))},dependencies:[f.O5,E.a,v.SP,v.uX],styles:[".header-section[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:36px}.header-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;padding:0}"]}),s})();const te=[{title:"Experiment name",key:"name"},{title:"Permission",key:"permission"}],se=[u.EDIT,u.REVOKE],ne=[{title:"Model name",key:"name"},{title:"Permission",key:"permission"}],oe=[u.EDIT,u.REVOKE];var N=m(9582),re=m(529);let y=(()=>{class s{constructor(e){this.http=e}getAllGroups(){return this.http.get(N.T.ALL_GROUPS)}getAllExperimentsForGroup(e){return this.http.get(N.T.EXPERIMENTS_FOR_GROUP.replace("${groupName}",e))}getAllRegisteredModelsForGroup(e){return this.http.get(N.T.MODELS_FOR_GROUP.replace("${groupName}",e))}}return s.\u0275fac=function(e){return new(e||s)(i.LFG(re.eN))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),ae=(()=>{class s{constructor(e,t,n,o,D,_,O){this.groupDataService=e,this.route=t,this.permissionDataService=n,this.permissionModalService=o,this.experimentsDataService=D,this.snackBarService=_,this.modelDataService=O,this.groupName="",this.experimentColumnConfig=te,this.experimentDataSource=[],this.experimentActions=se,this.modelColumnConfig=ne,this.modelDataSource=[],this.modelActions=oe}ngOnInit(){this.groupName=this.route.snapshot.paramMap.get("id")??"",this.groupDataService.getAllExperimentsForGroup(this.groupName).subscribe(e=>this.experimentDataSource=e),this.groupDataService.getAllRegisteredModelsForGroup(this.groupName).subscribe(e=>this.modelDataSource=e)}openModalAddExperimentPermissionToGroup(){this.experimentsDataService.getAllExperiments().pipe((0,S.U)(e=>e.filter(t=>!this.experimentDataSource.some(n=>n.name===t.name))),(0,a.w)(e=>this.permissionModalService.openGrantPermissionModal(P.WP.EXPERIMENT,e,this.groupName)),(0,g.h)(Boolean),(0,a.w)(e=>this.permissionDataService.addExperimentPermissionToGroup(this.groupName,e.entity.id,e.permission)),(0,d.b)(()=>this.snackBarService.openSnackBar("Permission granted successfully")),(0,a.w)(()=>this.groupDataService.getAllExperimentsForGroup(this.groupName))).subscribe(e=>this.experimentDataSource=e)}openModalAddModelPermissionToGroup(){this.modelDataService.getAllModels().pipe((0,S.U)(e=>e.filter(t=>!this.modelDataSource.some(n=>n.name===t.name)).map((t,n)=>({...t,id:`${n}-${t.name}`}))),(0,a.w)(e=>this.permissionModalService.openGrantPermissionModal(P.WP.MODEL,e,this.groupName)),(0,g.h)(Boolean),(0,a.w)(e=>this.permissionDataService.addModelPermissionToGroup(e.entity.name,this.groupName,e.permission)),(0,d.b)(()=>this.snackBarService.openSnackBar("Permission granted successfully")),(0,a.w)(()=>this.groupDataService.getAllRegisteredModelsForGroup(this.groupName))).subscribe(e=>this.modelDataSource=e)}handleExperimentActions(e){const n={[c.EDIT]:this.handleEditExperimentPermissionForGroup.bind(this),[c.REVOKE]:this.revokeExperimentPermissionForGroup.bind(this)}[e.action.action];n&&n(e.item)}handleEditExperimentPermissionForGroup(e){this.permissionModalService.openEditPermissionsModal(e.name,this.groupName,e.permission).pipe((0,g.h)(Boolean),(0,a.w)(t=>this.permissionDataService.updateExperimentPermissionForGroup(this.groupName,e.id,t)),(0,d.b)(()=>this.snackBarService.openSnackBar("Permission updated successfully")),(0,a.w)(()=>this.groupDataService.getAllExperimentsForGroup(this.groupName))).subscribe(t=>this.experimentDataSource=t)}revokeExperimentPermissionForGroup(e){this.permissionDataService.removeExperimentPermissionFromGroup(this.groupName,e.id).pipe((0,d.b)(()=>this.snackBarService.openSnackBar("Permission revoked successfully")),(0,a.w)(()=>this.groupDataService.getAllExperimentsForGroup(this.groupName))).subscribe(t=>this.experimentDataSource=t)}handleModelActions(e){const n={[c.EDIT]:this.handleEditModelPermissionForGroup.bind(this),[c.REVOKE]:this.revokeModelPermissionForGroup.bind(this)}[e.action.action];n&&n(e.item)}handleEditModelPermissionForGroup(e){this.permissionModalService.openEditPermissionsModal(e.name,this.groupName,e.permission).pipe((0,g.h)(Boolean),(0,a.w)(t=>this.permissionDataService.updateModelPermissionForGroup(e.name,this.groupName,t)),(0,d.b)(()=>this.snackBarService.openSnackBar("Permission updated successfully")),(0,a.w)(()=>this.groupDataService.getAllRegisteredModelsForGroup(this.groupName))).subscribe(t=>this.modelDataSource=t)}revokeModelPermissionForGroup(e){this.permissionDataService.removeModelPermissionFromGroup(e.name,this.groupName).pipe((0,d.b)(()=>this.snackBarService.openSnackBar("Permission revoked successfully")),(0,a.w)(()=>this.groupDataService.getAllRegisteredModelsForGroup(this.groupName))).subscribe(t=>this.modelDataSource=t)}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(y),i.Y36(p.gz),i.Y36(l.PQ),i.Y36(M),i.Y36(l.jR),i.Y36(l.cw),i.Y36(l.$N))},s.\u0275cmp=i.Xpm({type:s,selectors:[["ml-group-permission-details"]],decls:20,vars:6,consts:[["label","Experiments"],[1,"my-3"],[1,"header-section"],["mat-button","",3,"click"],[3,"columnConfig","data","actions","action"],["label","Models"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-tab-group")(1,"mat-tab",0)(2,"div",1)(3,"div",2)(4,"button",3),i.NdJ("click",function(){return t.openModalAddExperimentPermissionToGroup()}),i.TgZ(5,"mat-icon"),i._uU(6,"add"),i.qZA(),i.TgZ(7,"span"),i._uU(8,"Add"),i.qZA()()()(),i.TgZ(9,"ml-table",4),i.NdJ("action",function(o){return t.handleExperimentActions(o)}),i.qZA()(),i.TgZ(10,"mat-tab",5)(11,"div",1)(12,"div",1)(13,"div",2)(14,"button",3),i.NdJ("click",function(){return t.openModalAddModelPermissionToGroup()}),i.TgZ(15,"mat-icon"),i._uU(16,"add"),i.qZA(),i.TgZ(17,"span"),i._uU(18,"Add"),i.qZA()()()(),i.TgZ(19,"ml-table",4),i.NdJ("action",function(o){return t.handleModelActions(o)}),i.qZA()()()()),2&e&&(i.xp6(9),i.Q6J("columnConfig",t.experimentColumnConfig)("data",t.experimentDataSource)("actions",t.experimentActions),i.xp6(10),i.Q6J("columnConfig",t.modelColumnConfig)("data",t.modelDataSource)("actions",t.modelActions))},dependencies:[E.a,I.Hw,U.lW,v.SP,v.uX]}),s})(),me=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=i.Xpm({type:s,selectors:[["ml-admin-page"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},dependencies:[p.lC],encapsulation:2}),s})();var x=m(8746);const ce=[{title:"User name",key:"user"}],le=[u.EDIT];var h=(()=>{return(s=h||(h={})).PERMISSIONS="permissions",s.USER="user",s.EXPERIMENT="experiment",s.MODEL="model",s.GROUP="group",h;var s})(),b=m(1572);function pe(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"ml-table",2),i.NdJ("action",function(n){i.CHM(e);const o=i.oxw();return i.KtG(o.handleItemAction(n))}),i.qZA()}if(2&s){const e=i.oxw();i.Q6J("columnConfig",e.columnConfig)("data",e.dataSource)("actions",e.actions)}}function de(s,r){1&s&&(i.TgZ(0,"div",3),i._UZ(1,"mat-spinner",4),i.qZA()),2&s&&(i.xp6(1),i.Q6J("diameter",40))}let ue=(()=>{class s{constructor(e,t,n){this.router=e,this.route=t,this.userDataService=n,this.columnConfig=ce,this.actions=le,this.dataSource=[],this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.userDataService.getAllUsers().pipe((0,x.x)(()=>this.isLoading=!1)).subscribe(({users:e})=>this.dataSource=e.map(t=>({user:t})))}handleItemAction({action:e,item:t}){const o={[c.EDIT]:this.handleUserEdit.bind(this)}[e.action];o&&o(t)}handleUserEdit({user:e}){this.router.navigate([`../${h.USER}/`+e],{relativeTo:this.route})}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(p.F0),i.Y36(p.gz),i.Y36(l.Mn))},s.\u0275cmp=i.Xpm({type:s,selectors:[["ml-user-permissions"]],decls:3,vars:2,consts:[[3,"columnConfig","data","actions","action",4,"ngIf","ngIfElse"],["loader",""],[3,"columnConfig","data","actions","action"],[1,"loader","d-flex","justify-content-center","align-items-center","my-5"],[3,"diameter"]],template:function(e,t){if(1&e&&(i.YNc(0,pe,1,3,"ml-table",0),i.YNc(1,de,2,1,"ng-template",null,1,i.W1O)),2&e){const n=i.MAs(2);i.Q6J("ngIf",!t.isLoading)("ngIfElse",n)}},dependencies:[f.O5,E.a,b.Ou]}),s})();const he=[{action:c.EDIT,icon:"edit",name:"Edit"}],ge=[{title:"Experiment Name",key:"name"}];function Ee(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"ml-table",2),i.NdJ("action",function(n){i.CHM(e);const o=i.oxw();return i.KtG(o.handleActions(n))}),i.qZA()}if(2&s){const e=i.oxw();i.Q6J("columnConfig",e.columnConfig)("data",e.dataSource)("actions",e.actions)}}function fe(s,r){1&s&&(i.TgZ(0,"div",3),i._UZ(1,"mat-spinner",4),i.qZA()),2&s&&(i.xp6(1),i.Q6J("diameter",40))}let Se=(()=>{class s{constructor(e,t,n){this.router=e,this.route=t,this.experimentDataService=n,this.columnConfig=ge,this.dataSource=[],this.actions=he,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.experimentDataService.getAllExperiments().pipe((0,x.x)(()=>this.isLoading=!1)).subscribe(e=>this.dataSource=e)}handleActions(e){const n={[c.EDIT]:this.handleExperimentEdit.bind(this)}[e.action.action];n&&n(e.item)}handleExperimentEdit({id:e}){this.router.navigate([`../${h.EXPERIMENT}/`+e],{relativeTo:this.route})}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(p.F0),i.Y36(p.gz),i.Y36(l.jR))},s.\u0275cmp=i.Xpm({type:s,selectors:[["ml-experiment-permissions"]],decls:3,vars:2,consts:[[3,"columnConfig","data","actions","action",4,"ngIf","ngIfElse"],["loader",""],[3,"columnConfig","data","actions","action"],[1,"loader","d-flex","justify-content-center","align-items-center","my-5"],[3,"diameter"]],template:function(e,t){if(1&e&&(i.YNc(0,Ee,1,3,"ml-table",0),i.YNc(1,fe,2,1,"ng-template",null,1,i.W1O)),2&e){const n=i.MAs(2);i.Q6J("ngIf",!t.isLoading)("ngIfElse",n)}},dependencies:[f.O5,E.a,b.Ou]}),s})();const De=[{title:"Model Name",key:"name"}],_e=[u.EDIT];function Pe(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"ml-table",2),i.NdJ("action",function(n){i.CHM(e);const o=i.oxw();return i.KtG(o.handleAction(n))}),i.qZA()}if(2&s){const e=i.oxw();i.Q6J("columnConfig",e.columnConfig)("data",e.dataSource)("actions",e.actions)}}function ve(s,r){1&s&&(i.TgZ(0,"div",3),i._UZ(1,"mat-spinner",4),i.qZA()),2&s&&(i.xp6(1),i.Q6J("diameter",40))}let Me=(()=>{class s{constructor(e,t,n){this.route=e,this.router=t,this.modelDataService=n,this.columnConfig=De,this.dataSource=[],this.actions=_e,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.modelDataService.getAllModels().pipe((0,x.x)(()=>this.isLoading=!1)).subscribe(e=>{this.dataSource=e})}handleModelEdit({name:e}){this.router.navigate([`../${h.MODEL}/`+e],{relativeTo:this.route})}handleAction({action:e,item:t}){const o={[c.EDIT]:this.handleModelEdit.bind(this)}[e.action];o&&o(t)}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(p.gz),i.Y36(p.F0),i.Y36(l.$N))},s.\u0275cmp=i.Xpm({type:s,selectors:[["ml-model-permissions"]],decls:3,vars:2,consts:[[3,"columnConfig","data","actions","action",4,"ngIf","ngIfElse"],["loader",""],[3,"columnConfig","data","actions","action"],[1,"loader","d-flex","justify-content-center","align-items-center","my-5"],[3,"diameter"]],template:function(e,t){if(1&e&&(i.YNc(0,Pe,1,3,"ml-table",0),i.YNc(1,ve,2,1,"ng-template",null,1,i.W1O)),2&e){const n=i.MAs(2);i.Q6J("ngIf",!t.isLoading)("ngIfElse",n)}},dependencies:[f.O5,E.a,b.Ou]}),s})();const Ce=[{title:"Group name",key:"group"}],xe=[u.EDIT];function be(s,r){if(1&s){const e=i.EpF();i.TgZ(0,"ml-table",2),i.NdJ("action",function(n){i.CHM(e);const o=i.oxw();return i.KtG(o.handleItemAction(n))}),i.qZA()}if(2&s){const e=i.oxw();i.Q6J("columnConfig",e.columnConfig)("data",e.dataSource)("actions",e.actions)}}function Te(s,r){1&s&&(i.TgZ(0,"div",3),i._UZ(1,"mat-spinner",4),i.qZA()),2&s&&(i.xp6(1),i.Q6J("diameter",40))}let Ae=(()=>{class s{constructor(e,t,n){this.router=e,this.route=t,this.groupDataService=n,this.columnConfig=Ce,this.dataSource=[],this.actions=xe,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.groupDataService.getAllGroups().pipe((0,x.x)(()=>this.isLoading=!1)).subscribe(({groups:e})=>this.dataSource=e.map(t=>({group:t})))}handleItemAction({action:e,item:t}){const o={[c.EDIT]:this.handleUserEdit.bind(this)}[e.action];o&&o(t)}handleUserEdit({group:e}){this.router.navigate([`../${h.GROUP}/`+e],{relativeTo:this.route})}}return s.\u0275fac=function(e){return new(e||s)(i.Y36(p.F0),i.Y36(p.gz),i.Y36(y))},s.\u0275cmp=i.Xpm({type:s,selectors:[["ml-group-permissions"]],decls:3,vars:2,consts:[[3,"columnConfig","data","actions","action",4,"ngIf","ngIfElse"],["loader",""],[3,"columnConfig","data","actions","action"],[1,"loader","d-flex","justify-content-center","align-items-center","my-5"],[3,"diameter"]],template:function(e,t){if(1&e&&(i.YNc(0,be,1,3,"ml-table",0),i.YNc(1,Te,2,1,"ng-template",null,1,i.W1O)),2&e){const n=i.MAs(2);i.Q6J("ngIf",!t.isLoading)("ngIfElse",n)}},dependencies:[f.O5,E.a,b.Ou]}),s})();const T=s=>{const[r,e]=s.split("/");return`${r.charAt(0).toUpperCase()+r.slice(1)} / ${e}`},Ue=[{path:"",component:me,children:[{path:h.PERMISSIONS,component:(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=i.Xpm({type:s,selectors:[["ml-permissions"]],decls:13,vars:0,consts:[["label","Users permissions"],[1,"my-3"],["label","Experiment permissions"],["label","Model permissions"],["label","Group permissions"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-tab-group")(1,"mat-tab",0)(2,"div",1),i._UZ(3,"ml-user-permissions"),i.qZA()(),i.TgZ(4,"mat-tab",2)(5,"div",1),i._UZ(6,"ml-experiment-permissions"),i.qZA()(),i.TgZ(7,"mat-tab",3)(8,"div",1),i._UZ(9,"ml-model-permissions"),i.qZA()(),i.TgZ(10,"mat-tab",4)(11,"div",1),i._UZ(12,"ml-group-permissions"),i.qZA()()())},dependencies:[v.SP,v.uX,ue,Se,Me,Ae]}),s})(),data:{breadcrumb:{skip:!0}}},{path:`${h.USER}/:id`,component:ie,data:{breadcrumb:T}},{path:`${h.EXPERIMENT}/:id`,component:J,data:{breadcrumb:T}},{path:`${h.MODEL}/:id`,component:$,data:{breadcrumb:T}},{path:`${h.GROUP}/:id`,component:ae,data:{breadcrumb:T}},{path:"**",redirectTo:h.PERMISSIONS}]}];let Ne=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[p.Bz.forChild(Ue),p.Bz]}),s})();var Oe=m(2965);let Fe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[f.ez,Oe.m,Ne,Z.u5,p.Bz]}),s})()}}]);