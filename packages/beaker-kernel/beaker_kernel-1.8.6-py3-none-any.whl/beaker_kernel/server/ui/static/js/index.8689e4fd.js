var beaker_vue;(function(){var e={2857:function(e,t,n){"use strict";n.r(t);var a=n(31601),o=n.n(a),l=n(76314),i=n.n(l),r=i()(o());r.push([e.id,"div.controls-container[data-v-77ca4bf4]{div.p-toolbar[data-v-77ca4bf4]{padding:.5rem;padding-left:.25rem}}button.pdf-ui-button[data-v-77ca4bf4]{padding:unset;margin:unset;margin-left:.25rem;margin-right:.25rem;height:2rem;min-width:2rem}button.pdf-ui-button.pdf-ui-close[data-v-77ca4bf4]{width:2rem}div.pdf-ui-inputselection[data-v-77ca4bf4]{padding:unset;margin:unset;margin-left:.25rem;margin-right:.25rem;height:2rem;div[data-v-77ca4bf4]{min-width:2rem;padding:0}input[data-v-77ca4bf4]{width:3rem}}",""]),t["default"]=r},64556:function(e,t,n){"use strict";n.r(t);var a=n(31601),o=n.n(a),l=n(76314),i=n.n(l),r=i()(o());r.push([e.id,".pdf-container[data-v-26753cf8]{overflow:auto}.pdf-canvas[data-v-26753cf8]{border:1px solid #ddd;width:auto;display:inline}",""]),t["default"]=r},71351:function(e,t,n){"use strict";n.r(t);var a=n(31601),o=n.n(a),l=n(76314),i=n.n(l),r=i()(o());r.push([e.id,".context-heading{color:var(--text-color-secondary);margin:1rem 1.25rem .25rem 1.25rem}.context-tree{margin-top:.5rem;flex:1;border:none;width:21rem;position:relative}.context-tree .p-tree{border:none}.context-tree .p-tree-wrapper{position:absolute;left:1rem;top:0;bottom:0;right:0}.context-tree .p-tree-wrapper .p-treenode .p-treenode-content{padding:0}.context-toggle-button{position:absolute;right:-.5rem;top:40%;background:var(--surface-a);border-color:var(--surface-300);color:var(--primary-300);z-index:2}.button-rotate{transform:rotate(180deg)}.loading-area{background:var(--surface-a);display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;bottom:0;left:0;right:0}.hidden{visibility:hidden}",""]),t["default"]=r},67062:function(e,t,n){"use strict";n.r(t);var a=n(31601),o=n.n(a),l=n(76314),i=n.n(l),r=i()(o());r.push([e.id,".preview-container-pre{display:flex;flex-direction:row;min-height:100%}.preview-draggable{width:3px;min-height:100%;z-index:100;background-color:var(--surface-b)}.preview-draggable:hover{cursor:col-resize}.preview-container-main{display:flex;flex-direction:column;flex:1;overflow:hidden}.preview-container-main .pdf-preview .controls-container div.p-toolbar{border:none;border-radius:0;flex-wrap:nowrap}.preview-container-main .pdf-preview .controls-container div.p-toolbar .p-toolbar-group-start button.pdf-ui-close{margin-left:0}.preview-under-toolbar{display:flex;flex:1;overflow:auto}.preview-under-toolbar .preview-payload div.csv-preview div div.mime-select-container{display:none}div.preview-standard-toolbar div.p-toolbar{padding:.5rem;padding-left:.25rem;border:none;border-radius:0;flex-wrap:nowrap}div.preview-standard-toolbar div.p-toolbar .p-toolbar-group-start button.pdf-ui-close{margin-left:0}button.preview-close{width:2rem;height:2rem}button.preview-raw{height:2rem;padding-left:.5rem;padding-right:.5rem}button.preview-raw span.p-button-label{font-weight:400;text-wrap:nowrap}.preview-payload{flex:1;max-height:100%;max-width:100%}.pdf-preview{flex:1;max-height:100%;display:flex;flex-direction:column}",""]),t["default"]=r},65181:function(e,t,n){"use strict";n.r(t);var a=n(31601),o=n.n(a),l=n(76314),i=n.n(l),r=i()(o());r.push([e.id,".notebook-container{display:flex;height:100%;max-width:100%}.beaker-notebook{flex:2 0 calc(50vw - 2px);border:2px solid var(--surface-border);border-radius:0;border-top:0;max-width:100%}.spacer.left{flex:1 1000 25vw}.spacer.right{flex:1 1 25vw}.notebook-toolbar{border-style:inset;border-radius:0;border-top:unset;border-left:unset;border-right:unset}.title-extra{vertical-align:baseline;display:inline-block;height:100%;font-family:Ubuntu Mono,Courier New,Courier,monospace}",""]),t["default"]=r},49251:function(e,t,n){"use strict";var a=n(45130),o=n(99119),l=n(18648),i=n(85413),r=n(26883),s=n(8271),d=n(31577),u=n(98124),c=n(419),p=(n(44114),n(14603),n(47566),n(98721),n(56768)),v=n(90144),f=n(85029),b=n(68718),m=n(69685),g=n(56559),h=n(29017),k=n(21972),w=n(42775),y=n(2971),x=n(70387),_=n(24232),C=n(11723);const R={class:"info-panel-container"},A=(0,p.Lk)("div",{class:"loading-area"}," No Context Loaded. ",-1),F={style:{cursor:"help","border-bottom":"1px dotted var(--text-color-secondary)"}};var K=(0,p.pM)({__name:"InfoPanel",setup(e){(0,v.KR)(!0);const t=(0,v.KR)({0:!0,1:!0,2:!0,3:!0}),n=(0,p.WQ)("beakerSession"),a=(0,p.EW)((()=>{const e=n?.activeContext,t=n?.session.kernelInfo;return{...e,kernelInfo:t}})),o=(0,p.EW)((()=>{const e=a.value;if(!e)return[];const t=[{key:"0",label:"Kernel",icon:"pi pi-fw pi-cog",expanded:!0,children:[{key:"0-1",label:`${e?.info?.subkernel} (${e?.info?.language})`}]}];return t.push({key:"3",label:"Tools",icon:"pi pi-fw pi-wrench",expanded:!0,children:Object.keys(e?.info?.agent?.tools||{}).map(((t,n)=>({key:`3-${n}`,label:t.replace("PyPackageAgent.",""),data:e.info.agent.tools[t],type:"tool"})))}),t}));return(e,n)=>{const a=(0,p.gN)("tooltip");return(0,p.uX)(),(0,p.CE)("div",R,[(0,p.bF)((0,v.R1)(C.A),{value:o.value,loading:!o.value,expandedKeys:t.value,"onUpdate:expandedKeys":n[1]||(n[1]=e=>t.value=e)},{loadingicon:(0,p.k6)((()=>[A])),action:(0,p.k6)((e=>[(0,p.bo)(((0,p.uX)(),(0,p.CE)("div",{onMousedown:n[0]||(n[0]=e=>{e.detail>1&&e.preventDefault()}),style:{cursor:"pointer","border-bottom":"1px dotted var(--text-color-secondary)"}},[(0,p.eW)((0,_.v_)(e.node.label),1)],32)),[[a,{value:`${e.node.data}`,pt:{text:{style:{width:"20rem"}},root:{style:{marginLeft:"1rem"}}}}]])])),tool:(0,p.k6)((e=>[(0,p.bo)(((0,p.uX)(),(0,p.CE)("span",F,[(0,p.eW)((0,_.v_)(e.node.label),1)])),[[a,{value:`${e.node.data}`,pt:{text:{style:{width:"20rem"}},root:{style:{marginLeft:"1rem"}}}}]])])),_:1},8,["value","loading","expandedKeys"])])}}});n(7837);const L=K;var M=L,P=n(72489),E=n(39219),W=n(72845),S=n(85579),T=n(24660),X=(n(16573),n(78100),n(77936),n(37467),n(44732),n(79577),n(77729)),I=n(52211),O=n(31254),j=n(23421);const B=e=>((0,p.Qi)("data-v-77ca4bf4"),e=e(),(0,p.jt)(),e),N=B((()=>(0,p.Lk)("i",{class:"pi pi-book"},null,-1))),z=B((()=>(0,p.Lk)("i",{class:"pi pi-search"},null,-1)));var Q=(0,p.pM)({__name:"PDFControls",props:["page","scale","isLoading","sidebarCallback"],emits:["pdf-page-next","pdf-page-prev","pdf-zoom-in","pdf-zoom-out"],setup(e,{emit:t}){const n=e,a=t,o=(0,v.KR)(null),l=e=>`${Math.floor(100*e)}%`;return(t,i)=>((0,p.uX)(),(0,p.CE)("div",{ref_key:"controlsContainer",ref:o,class:"controls-container"},[(0,p.bF)((0,v.R1)(X.A),null,{start:(0,p.k6)((()=>[(0,p.bF)((0,v.R1)(w.A),{class:"pdf-ui-button pdf-ui-close",icon:"pi pi-times",onClick:e.sidebarCallback,severity:"danger"},null,8,["onClick"])])),center:(0,p.k6)((()=>[(0,p.bF)((0,v.R1)(w.A),{class:"pdf-ui-button",icon:"pi pi-chevron-left",onClick:i[0]||(i[0]=e=>a("pdf-page-prev")),disabled:e.isLoading},null,8,["disabled"]),(0,p.bF)((0,v.R1)(w.A),{class:"pdf-ui-button",icon:"pi pi-chevron-right",onClick:i[1]||(i[1]=e=>a("pdf-page-next")),disabled:e.isLoading},null,8,["disabled"]),(0,p.bF)((0,v.R1)(O.A),{class:"pdf-ui-inputselection"},{default:(0,p.k6)((()=>[(0,p.bF)((0,v.R1)(j.A),null,{default:(0,p.k6)((()=>[N])),_:1}),(0,p.bF)((0,v.R1)(I.A),{placeholder:"Page",value:n?.page},null,8,["value"])])),_:1})])),end:(0,p.k6)((()=>[(0,p.bF)((0,v.R1)(w.A),{class:"pdf-ui-button",icon:"pi pi-search-minus",onClick:i[2]||(i[2]=e=>a("pdf-zoom-out"))}),(0,p.bF)((0,v.R1)(w.A),{class:"pdf-ui-button",icon:"pi pi-search-plus",onClick:i[3]||(i[3]=e=>a("pdf-zoom-in"))}),(0,p.bF)((0,v.R1)(O.A),{class:"pdf-ui-inputselection"},{default:(0,p.k6)((()=>[(0,p.bF)((0,v.R1)(j.A),null,{default:(0,p.k6)((()=>[z])),_:1}),(0,p.bF)((0,v.R1)(I.A),{placeholder:"Zoom",value:l(n?.scale)},null,8,["value"])])),_:1})])),_:1})],512))}}),V=(n(36684),n(71241));const U=(0,V.A)(Q,[["__scopeId","data-v-77ca4bf4"]]);var $=U,D=n(81747),q={__name:"PDFPage",props:["sidebarCallback","url","scale","page"],setup(e,{expose:t}){const a=async function(){const e=await Promise.resolve().then(n.bind(n,81747));e.GlobalWorkerOptions.workerSrc=new URL(n(10259),n.b).toString()},o=e,l=(0,v.KR)(null),i=(0,v.KR)(null);let r=null;const s=(0,v.KR)(!1),d=(0,v.KR)(null);let u=null;const c=async e=>{if(!r)return;s.value=!0;const t=await r.getPage(e),n=t.getViewport({scale:o.scale});if(!i.value)return;const a=i.value.getContext("2d");i.value.width=n.width,i.value.height=n.height;const l={canvasContext:a,viewport:n};u=t.render(l),await u.promise,s.value=!1},f=async()=>{if("object"===typeof o.url&&o.url instanceof File){const e=new FileReader;e.readAsArrayBuffer(o.url),e.onload=async e=>{r=await(0,D.getDocument)({data:e.target.result}).promise,d.value=r?._pdfInfo?.numPages,c(o.page)}}else"string"===typeof o.url&&(r=await(0,D.getDocument)(o.url).promise,d.value=r?._pdfInfo?.numPages,c(o.page))};return t({pages:d,isLoading:s,renderTask:u}),(0,p.sV)((async()=>{await a(),await f()})),(0,p.wB)((()=>[o.url]),f),(0,p.wB)((()=>[o.scale,o.page]),(()=>c(o.page))),(e,t)=>((0,p.uX)(),(0,p.CE)("div",{ref_key:"pdfContainer",ref:l,class:"pdf-container"},[(0,p.Lk)("canvas",{ref_key:"canvas",ref:i,class:"pdf-canvas"},null,512)],512))}};n(88433);const Z=(0,V.A)(q,[["__scopeId","data-v-26753cf8"]]);var G=Z;const H=4;var Y=(0,p.pM)({__name:"PDFPreview",props:{url:{},sidebarCallback:{type:Function}},setup(e,{expose:t}){const n=[.25,.5,.75,.9,1,1.1,1.25,1.5,2,3,4],a=(e,t,n)=>e<=t?t:e>=n?n:e,o=e,l=(0,v.KR)(1),i=(0,v.KR)(null),r=(0,v.KR)(H);return t({pdf:i}),(e,t)=>((0,p.uX)(),(0,p.CE)(p.FK,null,[(0,p.bF)($,{onPdfPageNext:t[0]||(t[0]=()=>{l.value=a(l.value+1,1,i.value?.pages??1)}),onPdfPagePrev:t[1]||(t[1]=()=>{l.value=a(l.value-1,1,i.value?.pages??1)}),onPdfZoomIn:t[2]||(t[2]=()=>{r.value=a(r.value+1,0,n.length-1)}),onPdfZoomOut:t[3]||(t[3]=()=>{r.value=a(r.value-1,0,n.length-1)}),page:l.value,scale:n[r.value],sidebarCallback:e.sidebarCallback},null,8,["page","scale","sidebarCallback"]),(0,p.bF)(G,{ref_key:"pdf",ref:i,url:o.url,scale:n[r.value],page:l.value},null,8,["url","scale","page"])],64))}});const J=Y;var ee=J,te=n(8522),ne=n(16971),ae=n(49495);const oe={class:"preview-container-pre"},le={key:0,class:"preview-standard-toolbar"},ie={class:"preview-under-toolbar"},re={key:0},se={key:1,class:"preview-payload"},de={key:0,class:"pdf-preview"},ue={key:1,class:"text-preview"},ce={key:2,class:"image-preview"},pe=["src"],ve={key:3,class:"csv-preview"},fe=500,be=260;var me=(0,p.pM)({__name:"PreviewPanel",props:(0,p.zz)(["url","mimetype"],{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=(0,v.KR)(),n=(0,v.KR)(),o=(0,v.KR)(),l=(0,v.KR)(""),i=(0,v.KR)(!1),r=()=>{const e=e=>{const t=window.innerWidth-(e.x-b.value/2);m.value=Math.min(Math.max(t,be),.9*window.innerWidth)},t=()=>{document.querySelector("body").removeEventListener("mousemove",e),document.querySelector("body").removeEventListener("mouseup",this)};document.querySelector("body").addEventListener("mousemove",e),document.querySelector("body").addEventListener("mouseup",t)},s=e=>e.startsWith("image/")?"image":"application/pdf"===e?"pdf":"text/csv"===e?"csv":"text/tsv"===e?"tsv":"application/vnd.ms-excel"===e||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e?"excel":"plaintext",d={"application/pdf":{overridesToolbar:!0,skipContents:!0},"image/png":{skipContents:!0},"text/csv":{hasRawToggle:!0},"text/tsv":{hasRawToggle:!0}},u=(0,v.KR)({isLoading:!1,contentLength:-1}),c=(0,v.KR)(!1),f=new TextDecoder,b=(0,v.KR)(5),m=(0,v.KR)(614+b.value),g=e,h=(0,p.fn)(e,"modelValue"),k=(0,p.EW)((()=>g.mimetype??l.value??"")),y=(0,v.KR)();let x=(0,p.EW)((()=>{const e=u.value?.contents,t=s(k.value);return"image"===t||"pdf"===t?"<loaded elsewhere via url>":e?0===e.length?"<file is 0 bytes>":"excel"===t?e:f.decode(e):""}));(0,p.wB)((()=>[x.value]),((e,t)=>{n.value&&(n.value.model=e[0])}));const C=(0,p.EW)((()=>{const e=g.url?.split("/");return e.length>0?e[e.length-1]:""})),R=async e=>{const t=await fetch(e,{method:"HEAD"});return["Content-Type","Content-Length"].map((e=>t.headers.get(e)))},A=async e=>{y.value=new AbortController;const t=await fetch(e,{signal:y.value.signal});let n=[];for await(const o of t.body)n.push(o);if(0===n.length)return[];const a=new Uint8Array(n.map((e=>e.length)).reduce(((e,t)=>e+t)));return n.reduce(((e,t)=>(a.set(t,e),e+t.length)),0),a};return(0,p.wB)((()=>[g.url,g.mimetype]),(async(e,t)=>{t.length>=2&&"application/pdf"===t[1]&&console.log("interrupted pdf rendering for another preview"),u.value={isLoading:!0,contentLength:0};const n=setTimeout((()=>{c.value=!0}),fe),[a,o]=await R(g.url);void 0===g.mimetype||null==g.mimetype?l.value=a:l.value=void 0,u.value.contentLength=parseInt(o,10),(d[g.mimetype]??{})?.skipContents||(u.value.contents=await A(g.url)),u.value.isLoading=!1,c.value=!1,clearTimeout(n)})),(l,f)=>((0,p.uX)(),(0,p.Wv)((0,v.R1)(te.A),{visible:h.value,"onUpdate:visible":f[3]||(f[3]=e=>h.value=e),position:"right",style:(0,_.Tr)(`width: ${m.value}px; overflow:auto;`),modal:!1,dismissable:!1,ref_key:"sidebar",ref:t},{container:(0,p.k6)((({closeCallback:t})=>[(0,p.Lk)("div",oe,[(0,p.Lk)("div",{class:"preview-draggable",style:(0,_.Tr)(`width: ${b.value}px;`),onMousedown:f[0]||(f[0]=(0,a.D$)((e=>r()),["left","prevent"]))},null,36),(0,p.Lk)("div",{class:"preview-container-main",style:(0,_.Tr)(`max-width: calc(100% - ${b.value}px);`)},[d[k.value]?.overridesToolbar?(0,p.Q3)("",!0):((0,p.uX)(),(0,p.CE)("div",le,[(0,p.bF)((0,v.R1)(X.A),null,{start:(0,p.k6)((()=>[(0,p.bF)((0,v.R1)(w.A),{class:"preview-close",icon:"pi pi-times",onClick:t,severity:"danger"},null,8,["onClick"])])),center:(0,p.k6)((()=>[(0,p.Lk)("span",null,(0,_.v_)(C.value),1)])),end:(0,p.k6)((()=>[d[k.value]?.hasRawToggle?((0,p.uX)(),(0,p.Wv)((0,v.R1)(w.A),{key:0,class:"preview-raw",onClick:f[1]||(f[1]=e=>i.value=!i.value),label:i.value?"Rich View":"Raw View"},null,8,["label"])):(0,p.Q3)("",!0)])),_:2},1024)])),(0,p.Lk)("div",ie,[c.value&&u.value.isLoading?((0,p.uX)(),(0,p.CE)("div",re,[(0,p.bF)((0,v.R1)(w.A),{class:"preview-cancel",onClick:f[2]||(f[2]=e=>y.value.abort()),severity:"danger",label:"Cancel Preview"}),(0,p.Lk)("span",null,"File is "+(0,_.v_)(u.value.contentLength/1e6)+" MB",1)])):(0,p.Q3)("",!0),u.value.isLoading?(0,p.Q3)("",!0):((0,p.uX)(),(0,p.CE)("div",se,["pdf"===s(k.value)?((0,p.uX)(),(0,p.CE)("div",de,[(0,p.bF)(ee,{ref_key:"pdfPreviewRef",ref:o,url:e.url,sidebarCallback:t},null,8,["url","sidebarCallback"])])):(0,p.Q3)("",!0),"plaintext"===s(k.value)?((0,p.uX)(),(0,p.CE)("div",ue,[(0,p.bF)(ne.A,{"display-mode":"dark",modelValue:(0,v.R1)(x),ref_key:"codeEditorRef",ref:n,placeholder:"Loading...",language:"text/x-python"===k.value?"python":void 0},null,8,["modelValue","language"])])):(0,p.Q3)("",!0),"image"===s(k.value)?((0,p.uX)(),(0,p.CE)("div",ce,[(0,p.Lk)("img",{src:e.url},null,8,pe)])):(0,p.Q3)("",!0),["csv","tsv","excel"].includes(s(k.value))?((0,p.uX)(),(0,p.CE)("div",ve,[i.value||u.value.isLoading?(0,p.Q3)("",!0):((0,p.uX)(),(0,p.Wv)(ae.A,{key:0,mimeBundle:{[k.value]:(0,v.R1)(x)}},null,8,["mimeBundle"])),i.value?((0,p.uX)(),(0,p.Wv)(ne.A,{key:1,"display-mode":"dark",modelValue:(0,v.R1)(x),ref_key:"codeEditorRef",ref:n,placeholder:"Loading..."},null,8,["modelValue"])):(0,p.Q3)("",!0)])):(0,p.Q3)("",!0)]))])],4)])])),_:1},8,["visible","style"]))}});n(64896);const ge=me;var he=ge,ke=n(10461),we=n(79926),ye=n(56336),xe=n(63376);const _e={class:"notebook-container"},Ce={class:"welcome-placeholder"},Re={key:0,class:"spacer right"};var Ae=(0,p.pM)({__name:"NotebookInterface",props:["config","connectionSettings","sessionName","sessionId","defaultKernel","renderers"],setup(e){const t=(0,v.KR)(),n=(0,v.KR)(),a=(0,v.KR)(),o=(0,v.KR)(),l=(0,v.KR)(),i=(0,v.KR)(!1),r=new URLSearchParams(window.location.search),s=r.has("session")?r.get("session"):"notebook_dev_session",d=e,u=[...k.dn.map((e=>new f.hC(e))).map(h.ft),h.oH,h.En,h.nk,h.ek],c={code:ke.A,markdown:we.A,query:ye.A,raw:xe.A},_=(0,v.KR)("connecting"),C=(0,v.KR)([]),R=(0,v.KR)([]),A=(0,v.KR)(),F=((0,v.KR)(),(0,v.KR)(null)),K=(0,v.KR)(null),L=((0,v.KR)(!1),(0,v.KR)(!1)),{theme:X,toggleDarkMode:I}=((0,v.KR)(),(0,p.WQ)("theme")),O=(0,v.KR)(),j=((0,p.EW)((()=>(K.value,"Beaker Notebook"))),(0,p.EW)((()=>[{type:"link",href:`/chat${window.location.search}`,icon:"comment",label:"Navigate to chat view"},{type:"button",icon:"dark"===X.mode?"sun":"moon",command:I,label:`Switch to ${"dark"===X.mode?"light":"dark"} mode.`},{type:"link",href:"https://jataware.github.io/beaker-kernel",label:"Beaker Documentation",icon:"book",rel:"noopener",target:"_blank"},{type:"link",href:"https://github.com/jataware/beaker-kernel",label:"Check us out on Github",icon:"github",rel:"noopener",target:"_blank"}]))),B=(0,p.EW)((()=>n?.value?.beakerSession));(0,p.wB)((()=>t?.value?.notebook.cells),(e=>{0===e?.length&&t.value.insertCellBefore()}),{deep:!0});const N=e=>{"preview"===e.header.msg_type?A.value=e.content:"debug_event"===e.header.msg_type&&C.value.push({type:e.content.event,body:e.content.body,timestamp:e.header.date})},z=(e,t)=>{R.value.push({type:t,body:e,timestamp:e.header.date})},Q=e=>{console.log("Unhandled message recieved",e)},V=e=>{_.value="idle"==e?"connected":e},U=async()=>{console.log(B.value);const e=B.value.session.sendBeakerMessage("reset_request",{});await e},$=(e,n)=>{const a=t.value;B.value?.session.loadNotebook(e),K.value=n;const o=a.notebook.cells.map((e=>e.id));o.includes(a.selectedCellId)||(0,p.dY)((()=>{a.selectCell(o[0])}))},D=async e=>{K.value=e,e&&(l.value?.selectPanel("Files"),await a.value.refresh(),await a.value.flashFile(e))},q=()=>{t.value?.selectPrevCell()},Z=()=>{t.value?.selectNextCell()},G={},H={"keydown.enter.ctrl.prevent.capture.in-cell":()=>{t.value?.selectedCell().execute(),t.value?.selectedCell().exit()},"keydown.enter.shift.prevent.capture.in-cell":()=>{const e=t.value?.selectedCell();e.execute(),t.value?.selectNextCell()||(t.value?.insertCellAfter(e,void 0,!0),(0,p.dY)((()=>{t.value?.selectedCell().enter()})))},"keydown.enter.exact.prevent.stop.!in-editor":()=>{t.value?.selectedCell().enter()},"keydown.esc.exact.prevent":()=>{t.value?.selectedCell().exit()},"keydown.up.!in-editor.prevent":q,"keydown.k.!in-editor":q,"keydown.down.!in-editor.prevent":Z,"keydown.j.!in-editor":Z,"keydown.a.prevent.!in-editor":e=>{const n=t.value;n?.selectedCell().exit(),n?.insertCellBefore()},"keydown.b.prevent.!in-editor":()=>{const e=t.value;e?.selectedCell().exit(),e?.insertCellAfter()},"keydown.d.!in-editor":()=>{const e=t.value,n=e.selectedCell(),a=()=>{delete G["d"]},o=G["d"];if(void 0===o){const e=setTimeout(a,1e3);G["d"]={cell_id:n.id,timeout:e}}else{const{cell_id:t,timeout:a}=G["d"];t===n.id&&(e?.removeCell(n),F.value=n.cell,delete G["d"]),a&&window.clearTimeout(a)}},"keydown.y.!in-editor":()=>{const e=t.value,n=e.selectedCell(),a=()=>{delete G["y"]},o=G["y"];if(void 0===o){const e=setTimeout(a,1e3);G["y"]={cell_id:n.id,timeout:e}}else{const{cell_id:e,timeout:t}=G["y"];e===n.id&&(F.value=n.cell,delete G["y"]),t&&window.clearTimeout(t)}},"keydown.p.!in-editor":e=>{const n=t.value;let a=(0,v.ux)(F.value);if(null!==a){const t=n.notebook.cells.map((e=>e.id));if(t.includes(a.id)){const e=a.constructor,t={...a,id:void 0,executionCount:void 0,busy:void 0,last_execution:void 0};a=new e(t)}"p"===e.key?n?.insertCellAfter(n.selectedCell(),a):"P"===e.key&&n?.insertCellBefore(n.selectedCell(),a),a.value=null}}};return(e,r)=>{const f=(0,p.gN)("autoscroll"),h=(0,p.gN)("keybindings");return(0,p.uX)(),(0,p.Wv)(y.A,{title:"Beaker Notebook","title-extra":K.value,"header-nav":j.value,ref_key:"beakerInterfaceRef",ref:n,connectionSettings:d.config,sessionName:"notebook_interface",defaultKernel:"beaker_kernel",sessionId:(0,v.R1)(s),renderers:u,savefile:K.value,onIopubMsg:N,onUnhandledMsg:Q,onAnyMsg:z,onSessionStatusChanged:V,onOpenFile:$},{"left-panel":(0,p.k6)((()=>[(0,p.bF)(S.A,{ref_key:"sideMenuRef",ref:l,position:"left","show-label":!0,highlight:"line",expanded:!1,initialWidth:"25vi",maximized:L.value},{default:(0,p.k6)((()=>[(0,p.bF)(T.A,{label:"Info",icon:"pi pi-home"},{default:(0,p.k6)((()=>[(0,p.bF)(M)])),_:1}),(0,p.bF)(T.A,{id:"files",label:"Files",icon:"pi pi-file-export","no-overflow":"",lazy:!0},{default:(0,p.k6)((()=>[(0,p.bF)(P.A,{ref_key:"filePanelRef",ref:a,onOpenFile:$,onPreviewFile:r[1]||(r[1]=(e,t)=>{O.value={url:e,mimetype:t},i.value=!0})},null,512)])),_:1}),"server"!==d.config.config_type?((0,p.uX)(),(0,p.Wv)(T.A,{key:0,id:"config",label:"Config",icon:"pi pi-cog",lazy:!0},{default:(0,p.k6)((()=>[(0,p.bF)(E.Ay,{ref_key:"configPanelRef",ref:o,onRestartSession:U},null,512)])),_:1})):(0,p.Q3)("",!0)])),_:1},8,["maximized"])])),"right-panel":(0,p.k6)((()=>[])),default:(0,p.k6)((()=>[(0,p.Lk)("div",_e,[(0,p.bo)(((0,p.uX)(),(0,p.Wv)(b.A,{ref_key:"beakerNotebookRef",ref:t,"cell-map":c},{default:(0,p.k6)((()=>[(0,p.bF)(m.A,{"default-severity":"",saveAvailable:!0,"save-as-filename":K.value,onNotebookSaved:D,onOpenFile:$},{"end-extra":(0,p.k6)((()=>[(0,p.bF)((0,v.R1)(w.A),{onClick:r[0]||(r[0]=e=>{L.value=!L.value}),icon:"pi "+(L.value?"pi-window-minimize":"pi-window-maximize"),size:"small",text:""},null,8,["icon"])])),_:1},8,["save-as-filename"]),(0,p.bo)(((0,p.uX)(),(0,p.Wv)(g.A,{"selected-cell":t.value?.selectedCellId},{"notebook-background":(0,p.k6)((()=>[(0,p.Lk)("div",Ce,[(0,p.bF)(W.A)])])),_:1},8,["selected-cell"])),[[f]]),(0,p.bF)(x.A,{class:"agent-query-container"})])),_:1})),[[h,H,void 0,{top:!0}]]),L.value?(0,p.Q3)("",!0):((0,p.uX)(),(0,p.CE)("div",Re))]),(0,p.bF)(he,{url:O.value?.url,mimetype:O.value?.mimetype,modelValue:i.value,"onUpdate:modelValue":r[2]||(r[2]=e=>i.value=e)},null,8,["url","mimetype","modelValue"])])),_:1},8,["title-extra","header-nav","connectionSettings","sessionId","savefile"])}}});n(91319);const Fe=Ae;var Ke=Fe,Le=(n(96153),n(17198),n(47997));const Me=Le.PageConfig.getBaseUrl();(async()=>{const e=Le.URLExt.join(Me,"/config"),t=await fetch(e),n=await t.json(),p=(0,a.Ef)(Ke,{config:n});p.use(o.Ay),p.use(r.A),p.use(i.A),p.use(c.Ay),p.directive("tooltip",l.A),p.directive("focustrap",s.A),p.directive("keybindings",d.c),p.directive("autoscroll",u.n),p.mount("#app")})()},36684:function(e,t,n){var a=n(2857);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=n(68459).A;o("e976810e",a,!0,{sourceMap:!1,shadowMode:!1})},88433:function(e,t,n){var a=n(64556);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=n(68459).A;o("0bc67f21",a,!0,{sourceMap:!1,shadowMode:!1})},7837:function(e,t,n){var a=n(71351);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=n(68459).A;o("95e63384",a,!0,{sourceMap:!1,shadowMode:!1})},64896:function(e,t,n){var a=n(67062);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=n(68459).A;o("1af7f9b5",a,!0,{sourceMap:!1,shadowMode:!1})},91319:function(e,t,n){var a=n(65181);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=n(68459).A;o("33a2045e",a,!0,{sourceMap:!1,shadowMode:!1})}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={id:a,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,l){if(!a){var i=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],l=e[u][2];for(var r=!0,s=0;s<a.length;s++)(!1&l||i>=l)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(r=!1,l<i&&(i=l));if(r){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,o,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.j=57}(),function(){n.p="/"}(),function(){n.b=document.baseURI||self.location.href;var e={57:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,i=a[0],r=a[1],s=a[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(s)var u=s(n)}for(t&&t(a);d<i.length;d++)l=i[d],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(u)},a=self["webpackChunkbeaker_vue"]=self["webpackChunkbeaker_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504,996],(function(){return n(49251)}));a=n.O(a),beaker_vue=a})();
//# sourceMappingURL=index.8689e4fd.js.map