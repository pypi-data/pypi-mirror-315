{"openapi":"3.1.0","info":{"title":"OpenElectricity - v4.0","version":"v4.0"},"paths":{"/v4/facility/":{"get":{"tags":["Facilities"],"summary":"Get Facilities","description":"Get a list of all facilities","operationId":"get_facilities_v4_facility__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIV4ResponseSchema"}}}}}}},"/v4/facility/au/{network_id}/{station_code}":{"get":{"tags":["Facilities"],"summary":"Get Station Information","description":"Get a single station by code","operationId":"Get_station_information_v4_facility_au__network_id___station_code__get","parameters":[{"name":"network_id","in":"path","required":true,"schema":{"type":"string","title":"Network Id"}},{"name":"station_code","in":"path","required":true,"schema":{"type":"string","title":"Station Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIV4ResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v4/fueltechs":{"get":{"tags":["Core"],"summary":"Fueltechs","description":"Get all fueltechs","operationId":"fueltechs_v4_fueltechs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/FueltechSchema"},"type":"array","title":"Response Fueltechs V4 Fueltechs Get"}}}}}}},"/v4/intervals":{"get":{"tags":["Core"],"summary":"Intervals","description":"Get all intervals","operationId":"intervals_v4_intervals_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/TimeInterval"},"type":"array","title":"Response Intervals V4 Intervals Get"}}}}}}},"/v4/me":{"get":{"tags":["User"],"summary":"Get User Me","description":"Get the current user","operationId":"get_user_me_v4_me_get","requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/OpenNEMUser-Input"},{"type":"null"}],"title":"User"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpenNEMUser-Output"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/v4/milestones/history/{record_id}":{"get":{"tags":["Milestones","Milestones"],"summary":"Get Milestone By Record Id","description":"Get a single milestone","operationId":"get_milestone_by_record_id_v4_milestones_history__record_id__get","parameters":[{"name":"record_id","in":"path","required":true,"schema":{"type":"string","title":"Record Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":1000,"title":"Limit"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIV4ResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v4/milestones/instance/{instance_id}":{"get":{"tags":["Milestones","Milestones"],"summary":"Get Milestone","description":"Get a single milestone","operationId":"get_milestone_v4_milestones_instance__instance_id__get","parameters":[{"name":"instance_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Instance Id"}},{"name":"include_history","in":"query","required":false,"schema":{"type":"boolean","description":"Include historical milestone records","default":false,"title":"Include History"},"description":"Include historical milestone records"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIV4ResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v4/milestones/metadata":{"get":{"tags":["Milestones","Milestones"],"summary":"Get Milestone Metadata","description":"Get metadata for milestones","operationId":"get_milestone_metadata_v4_milestones_metadata_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MilestoneMetadataSchema"}}}}}}},"/v4/milestones/record_id":{"get":{"tags":["Milestones","Milestones"],"summary":"Api Get Milestone Record Ids","description":"Get a list of milestone record ids with the most recent record for each record_id","operationId":"api_get_milestone_record_ids_v4_milestones_record_id_get","parameters":[{"name":"record_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by record_id","title":"Record Id"},"description":"Filter by record_id"},{"name":"date_start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date Start"}},{"name":"date_end","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date End"}},{"name":"aggregate","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/MilestoneAggregate"},{"type":"null"}],"title":"Aggregate"}},{"name":"milestone_type","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"$ref":"#/components/schemas/MilestoneType"}},{"type":"null"}],"description":"Milestone type filter","title":"Milestone Type"},"description":"Milestone type filter"},{"name":"fueltech_id","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Fueltech Id"}},{"name":"network","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Network"}},{"name":"network_region","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Network Region"}},{"name":"significance","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Significance filter","title":"Significance"},"description":"Significance filter"},{"name":"significance_min","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Significance minimum filter","title":"Significance Min"},"description":"Significance minimum filter"},{"name":"significance_max","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Significance maximum filter","title":"Significance Max"},"description":"Significance maximum filter"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIV4ResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v4/milestones/records":{"get":{"tags":["Milestones","Milestones"],"summary":"Get Milestones","description":"Get milestones","operationId":"get_milestones_v4_milestones_records_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"date_start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date Start"}},{"name":"date_end","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date End"}},{"name":"aggregate","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/MilestoneAggregate"},{"type":"null"}],"title":"Aggregate"}},{"name":"milestone_type","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"$ref":"#/components/schemas/MilestoneType"}},{"type":"null"}],"description":"Milestone type filter","title":"Milestone Type"},"description":"Milestone type filter"},{"name":"fueltech_id","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Fueltech Id"}},{"name":"network","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Network"}},{"name":"record_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Network filter - specify network or network_region ids","title":"Record Filter"},"description":"Network filter - specify network or network_region ids"},{"name":"network_region","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Network Region"}},{"name":"significance","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Significance filter","title":"Significance"},"description":"Significance filter"},{"name":"significance_min","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Significance minimum filter","title":"Significance Min"},"description":"Significance minimum filter"},{"name":"significance_max","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Significance maximum filter","title":"Significance Max"},"description":"Significance maximum filter"},{"name":"record_id_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by record_id - supports wildcards","title":"Record Id Filter"},"description":"Filter by record_id - supports wildcards"},{"name":"period","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"$ref":"#/components/schemas/MilestonePeriod"}},{"type":"null"}],"description":"Period filter","title":"Period"},"description":"Period filter"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIV4ResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v4/networks":{"get":{"tags":["Core"],"summary":"Get Networks","description":"Get networks","operationId":"get_networks_v4_networks_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/APINetworkSchema"},"type":"array","title":"Response Get Networks V4 Networks Get"}}}}}}},"/v4/networks/regions":{"get":{"tags":["Core"],"summary":"Get Network Regions","description":"Get network regions","operationId":"get_network_regions_v4_networks_regions_get","parameters":[{"name":"network_code","in":"query","required":true,"schema":{"type":"string","description":"Network code","title":"Network Code"},"description":"Network code"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/APINetworkRegion"},"title":"Response Get Network Regions V4 Networks Regions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v4/periods":{"get":{"tags":["Core"],"summary":"Periods","description":"Get all periods","operationId":"periods_v4_periods_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/TimePeriod"},"type":"array","title":"Response Periods V4 Periods Get"}}}}}}},"/v4/units":{"get":{"tags":["Core"],"summary":"Units","description":"Get all units","operationId":"units_v4_units_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UnitDefinition"},"type":"array","title":"Response Units V4 Units Get"}}}}}}}},"components":{"schemas":{"APINetworkRegion":{"properties":{"code":{"type":"string","title":"Code"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone"}},"type":"object","required":["code"],"title":"APINetworkRegion"},"APINetworkSchema":{"properties":{"code":{"type":"string","title":"Code"},"country":{"type":"string","title":"Country"},"label":{"type":"string","title":"Label"},"regions":{"anyOf":[{"items":{"$ref":"#/components/schemas/APINetworkRegion"},"type":"array"},{"type":"null"}],"title":"Regions"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone","description":"Network timezone"},"interval_size":{"type":"integer","title":"Interval Size","description":"Size of network interval in minutes"}},"type":"object","required":["code","country","label","interval_size"],"title":"APINetworkSchema"},"APIV4ResponseSchema":{"properties":{"version":{"type":"string","title":"Version"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"success":{"type":"boolean","title":"Success","default":true},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"data":{"items":{},"type":"array","title":"Data","default":[]},"total_records":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Records"}},"type":"object","title":"APIV4ResponseSchema"},"FueltechSchema":{"properties":{"code":{"type":"string","title":"Code"},"label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Label"},"renewable":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Renewable"}},"type":"object","required":["code"],"title":"FueltechSchema"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MilestoneAggregate":{"type":"string","enum":["low","high"],"title":"MilestoneAggregate","description":"Enum representing different types of aggregates for milestones in the OpenNEM project.\n\nThese aggregates are used to summarise data over different time intervals.\n\nThis determines the type of aggregation that is applied to the data."},"MilestoneFueltechGrouping":{"type":"string","enum":["battery_charging","battery_discharging","bioenergy","coal","demand","distillate","gas","hydro","pumps","solar","wind","renewables","fossils"],"title":"MilestoneFueltechGrouping","description":"Enum representing different fuel technology groupings for milestones in the OpenNEM project.\n\nThese groupings are used to categorise and analyse energy production and consumption\nacross various technologies in the Australian electricity system."},"MilestoneMetadataSchema":{"properties":{"aggregates":{"items":{"$ref":"#/components/schemas/MilestoneAggregate"},"type":"array","title":"Aggregates"},"milestone_type":{"items":{"$ref":"#/components/schemas/MilestoneType"},"type":"array","title":"Milestone Type"},"periods":{"items":{"$ref":"#/components/schemas/MilestonePeriod"},"type":"array","title":"Periods"},"units":{"additionalProperties":{"$ref":"#/components/schemas/MilestoneUnitSchema"},"type":"object","title":"Units"},"fueltechs":{"items":{"$ref":"#/components/schemas/MilestoneFueltechGrouping"},"type":"array","title":"Fueltechs"},"networks":{"items":{"$ref":"#/components/schemas/NetworkSchema"},"type":"array","title":"Networks"},"network_regions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Network Regions"}},"type":"object","required":["aggregates","milestone_type","periods","units","fueltechs","networks"],"title":"MilestoneMetadataSchema","description":"Metadata schema for a milestone"},"MilestonePeriod":{"type":"string","enum":["interval","day","7d","month","quarter","season","year","financial_year"],"title":"MilestonePeriod","description":"Enum representing different periods for milestones in the OpenNEM project.\n\nThese periods are used to aggregate data over different time intervals.\n\nThis determines the window of time that a milestone covers. ie. the start and end dates in queries"},"MilestoneType":{"type":"string","enum":["power","energy","demand","price","market_value","emissions","proportion"],"title":"MilestoneType","description":"Enum representing different types of milestones in the OpenNEM project.\n\nThese types are used to categorise and analyse energy production and consumption\nacross various technologies in the Australian electricity system.\n\nThis determines the source of data and query for the milestone."},"MilestoneUnitSchema":{"properties":{"name":{"type":"string","title":"Name"},"label":{"type":"string","title":"Label"},"unit":{"type":"string","title":"Unit"},"output_format":{"type":"string","title":"Output Format"}},"type":"object","required":["name","label","unit","output_format"],"title":"MilestoneUnitSchema","description":""},"NetworkSchema":{"properties":{"code":{"type":"string","title":"Code"},"country":{"type":"string","title":"Country"},"label":{"type":"string","title":"Label"},"timezone":{"type":"string","title":"Timezone","description":"Network timezone"},"timezone_database":{"type":"string","title":"Timezone Database","description":"Database timezone format","default":"UTC"},"offset":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Offset","description":"Network time offset in minutes"},"interval_size":{"type":"integer","title":"Interval Size","description":"Size of network interval in minutes"},"interval_size_price":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Interval Size Price"},"interval_shift":{"type":"integer","title":"Interval Shift","default":0},"data_first_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Data First Seen"},"data_last_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Data Last Seen"},"price_first_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Price First Seen"},"interconnector_first_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Interconnector First Seen"},"rooftop_first_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Rooftop First Seen"},"monitor_interval_alert_threshold":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Monitor Interval Alert Threshold"},"subnetworks":{"anyOf":[{"items":{"$ref":"#/components/schemas/NetworkSchema"},"type":"array"},{"type":"null"}],"title":"Subnetworks"},"parent_network":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Network"},"fueltechs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Fueltechs","description":"Fueltechs provided by this network"},"has_interconnectors":{"type":"boolean","title":"Has Interconnectors","default":false},"regions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Regions"}},"type":"object","required":["code","country","label","timezone","interval_size"],"title":"NetworkSchema"},"OpenNEMRoles":{"type":"string","enum":["admin","pro","academic","user","anonymous"],"title":"OpenNEMRoles"},"OpenNEMUser-Input":{"properties":{"valid":{"type":"boolean","title":"Valid"},"id":{"type":"string","title":"Id"},"owner_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Id"},"meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Meta","default":{}},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"rate_limit":{"anyOf":[{"$ref":"#/components/schemas/OpenNEMUserRateLimit"},{"type":"null"}]},"unkey_meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Unkey Meta"},"clerk_meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Clerk Meta"},"roles":{"items":{"$ref":"#/components/schemas/OpenNEMRoles"},"type":"array","title":"Roles","default":["anonymous"]}},"type":"object","required":["valid","id"],"title":"OpenNEMUser"},"OpenNEMUser-Output":{"properties":{"valid":{"type":"boolean","title":"Valid"},"id":{"type":"string","title":"Id"},"owner_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner Id"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"rate_limit":{"anyOf":[{"$ref":"#/components/schemas/OpenNEMUserRateLimit"},{"type":"null"}]},"unkey_meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Unkey Meta"},"clerk_meta":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Clerk Meta"},"roles":{"items":{"$ref":"#/components/schemas/OpenNEMRoles"},"type":"array","title":"Roles","default":["anonymous"]}},"type":"object","required":["valid","id"],"title":"OpenNEMUser"},"OpenNEMUserRateLimit":{"properties":{"limit":{"type":"integer","title":"Limit"},"remaining":{"type":"integer","title":"Remaining"},"reset":{"anyOf":[{"type":"string","format":"date-time"},{"type":"integer"}],"title":"Reset"}},"type":"object","required":["limit","remaining","reset"],"title":"OpenNEMUserRateLimit"},"TimeInterval":{"properties":{"interval":{"type":"integer","title":"Interval","description":"Interval size in minutes"},"interval_human":{"type":"string","title":"Interval Human","description":"Interval size in human length"},"interval_sql":{"type":"string","title":"Interval Sql"},"trunc":{"type":"string","title":"Trunc"}},"type":"object","required":["interval","interval_human","interval_sql","trunc"],"title":"TimeInterval"},"TimePeriod":{"properties":{"period":{"type":"integer","title":"Period","description":"Period in minutes"},"period_human":{"type":"string","title":"Period Human","description":"Period in human size"},"period_sql":{"type":"string","title":"Period Sql"}},"type":"object","required":["period","period_human","period_sql"],"title":"TimePeriod"},"UnitDefinition":{"properties":{"name":{"type":"string","title":"Name","description":"Name of the unit"},"name_alias":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Alias","description":"Name alias"},"unit_type":{"type":"string","title":"Unit Type","description":"Type of unit"},"round_to":{"type":"integer","title":"Round To","default":2},"unit":{"type":"string","title":"Unit","description":"Unit abbreviation"},"cast_nulls":{"type":"boolean","title":"Cast Nulls","default":true}},"type":"object","required":["name","unit_type","unit"],"title":"UnitDefinition"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}