import{g as G}from"../chunks/helpers.DL81ApkI.js";import{e as H,f as J,a as V,t as E,b as P}from"../chunks/disclose-version.R4vLOQNQ.js";import{p as K,t as W,a as X,s as n,c as e,r as s,z as Q,q as Y,x as Z}from"../chunks/index-client.rJPuloIY.js";import{i as j}from"../chunks/props.CRPfZ7lw.js";import{m as $,s as aa}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.CPHjajrS.js";import{S as ta}from"../chunks/SimpleTable.3mU2w9X0.js";import{V as ea}from"../chunks/VegaLite.9NT-XMw_.js";import{I as q,P as C}from"../chunks/Icon.Dh0Pc4QJ.js";import{g as sa}from"../chunks/stores.2mnWFSYF.js";import"../chunks/legacy.2nIxhB3F.js";const na=async({fetch:i,params:t})=>{const{run:c,measurements:l}=await G(i,t.id);return{testrun:c,measurements:l,name:t.id}},ha=Object.freeze(Object.defineProperty({__proto__:null,load:na},Symbol.toStringTag,{value:"Module"}));function ra(i){}var ia=E("<p>No Testrun data available.</p>"),oa=E('<div class="table-container mx-auto p-8 space-y-8"><section class="space-y-2"><div class="flex justify-between"><h1 class="h1"> </h1> <button class="btn variant-filled">Export</button></div></section> <section class="space-y-2"><div class="flex space-x-2"><p> </p> <button class="chip variant-soft hover:variant-filled"><span><!></span> <span>Edit</span></button></div></section> <section class="space-y-2"><!></section> <section class="space-y-2"><h2 class="h2">Visualizations</h2> <div><a class="chip variant-soft hover:variant-filled"><span><!></span> <span>Edit</span></a></div> <!></section></div>');function ba(i,t){var S;K(t,!0);const c=Z(()=>({measurements:t.data.measurements})),l=!!((S=t.data.testrun.data)!=null&&S.vega_lite),h=sa();let b={theme:void 0,actions:{export:!0,source:!1,compiled:!0,editor:!1}};$.subscribe(a=>{b.theme=a?void 0:"dark"});async function y(a){const r={type:"component",title:"Update Quality",body:"",meta:{testrun:t.data.testrun,method:"PUT"},component:"modalChangeDataQuality",response:async F=>{F&&h.close()}};h.trigger(r)}var d=oa(),u=e(d),x=e(u),v=e(x),w=e(v);s(v);var I=n(v,2);I.__click=[ra],s(x),s(u);var m=n(u,2),T=e(m),p=e(T),M=e(p);s(p);var o=n(p,2);o.__click=y;var k=e(o),O=e(k);q(O,{size:"12",src:C}),s(k),Q(2),s(o),s(T),s(m);var f=n(m,2),R=e(f);{var U=a=>{ta(a,{get data(){return t.data.measurements}})},L=a=>{var r=ia();V(a,r)};j(R,a=>{t.data.measurements.length>0?a(U):a(L,!1)})}s(f);var z=n(f,2),_=n(e(z),2),g=e(_),D=e(g),N=e(D);q(N,{size:"12",src:C}),s(D),Q(2),s(g),s(_);var A=n(_,2);{var B=a=>{ea(a,{get data(){return Y(c)},get spec(){return t.data.testrun.data.vega_lite},options:b})};j(A,a=>{var r;t.data.measurements.length>0&&l&&((r=t.data.testrun.data)!=null&&r.vega_lite)&&a(B)})}s(z),s(d),W(()=>{var a;P(w,`Testrun ${t.data.name??""}`),P(M,`Result data quality: ${((a=t.data.testrun.data)==null?void 0:a.quality)??""}`),aa(g,"href",`/chart_editor/${t.data.testrun.id??""}`)}),J("keypress",o,y),V(i,d),X()}H(["click"]);export{ba as component,ha as universal};
