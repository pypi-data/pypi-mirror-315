"use strict";(self.webpackChunkmermaid_viewer=self.webpackChunkmermaid_viewer||[]).push([[667],{4667:function(t,r,e){e.d(r,{a:function(){return p},b:function(){return z},c:function(){return u},d:function(){return V},e:function(){return j},f:function(){return Q},g:function(){return tt},h:function(){return F},i:function(){return m},l:function(){return f},p:function(){return q},s:function(){return U},u:function(){return g}});var a=e(4165),n=e(2982),i=e(5861),s=e(7762),o=e(366),l=e(8225),d=e(5828),c=e(4855),h={extension:function(t,r,e){o.l.trace("Making markers for ",e),t.append("defs").append("marker").attr("id",r+"-extensionStart").attr("class","marker extension "+r).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"-extensionEnd").attr("class","marker extension "+r).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:function(t,r){t.append("defs").append("marker").attr("id",r+"-compositionStart").attr("class","marker composition "+r).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"-compositionEnd").attr("class","marker composition "+r).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:function(t,r){t.append("defs").append("marker").attr("id",r+"-aggregationStart").attr("class","marker aggregation "+r).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"-aggregationEnd").attr("class","marker aggregation "+r).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:function(t,r){t.append("defs").append("marker").attr("id",r+"-dependencyStart").attr("class","marker dependency "+r).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"-dependencyEnd").attr("class","marker dependency "+r).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop:function(t,r){t.append("defs").append("marker").attr("id",r+"-lollipopStart").attr("class","marker lollipop "+r).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point:function(t,r){t.append("marker").attr("id",r+"-pointEnd").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"-pointStart").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:function(t,r){t.append("marker").attr("id",r+"-circleEnd").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"-circleStart").attr("class","marker "+r).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:function(t,r){t.append("marker").attr("id",r+"-crossEnd").attr("class","marker cross "+r).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"-crossStart").attr("class","marker cross "+r).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:function(t,r){t.append("defs").append("marker").attr("id",r+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}},p=function(t,r,e,a){r.forEach((function(r){h[r](t,e,a)}))};var u=function(t,r,e,a){var n=t||"";if("object"===typeof n&&(n=n[0]),(0,o.n)((0,o.c)().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),o.l.info("vertexText"+n);var i=function(t){var r,e,a=(0,l.Ys)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=a.append("xhtml:div"),i=t.label,s=t.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+s+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+i+"</span>"),r=n,(e=t.labelStyle)&&r.attr("style",e),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),a.node()}({isNode:a,label:(0,o.H)(n).replace(/fa[blrs]?:fa-[\w-]+/g,(function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")})),labelStyle:r.replace("fill:","color:")});return i}var d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("style",r.replace("color:","fill:"));var c=[];c="string"===typeof n?n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?n:[];var h,p=(0,s.Z)(c);try{for(p.s();!(h=p.n()).done;){var u=h.value,f=document.createElementNS("http://www.w3.org/2000/svg","tspan");f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),f.setAttribute("dy","1em"),f.setAttribute("x","0"),e?f.setAttribute("class","title-row"):f.setAttribute("class","row"),f.textContent=u.trim(),d.appendChild(f)}}catch(g){p.e(g)}finally{p.f()}return d},f=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e,i,s){var c,h,p,f,g,y,x,b,w,m,v,k,L;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h=e.useHtmlLabels||(0,o.n)((0,o.c)().flowchart.htmlLabels),c=i||"node default",p=r.insert("g").attr("class",c).attr("id",e.domId||e.id),f=p.insert("g").attr("class","label").attr("style",e.labelStyle),g=void 0===e.labelText?"":"string"===typeof e.labelText?e.labelText:e.labelText[0],y=f.node(),x="markdown"===e.labelType?(0,d.c)(f,(0,o.d)((0,o.H)(g),(0,o.c)()),{useHtmlLabels:h,width:e.width||(0,o.c)().flowchart.wrappingWidth,classes:"markdown-node-label"}):y.appendChild(u((0,o.d)((0,o.H)(g),(0,o.c)()),e.labelStyle,!1,s)),b=x.getBBox(),w=e.padding/2,!(0,o.n)((0,o.c)().flowchart.htmlLabels)){t.next=20;break}if(m=x.children[0],v=(0,l.Ys)(x),!(k=m.getElementsByTagName("img"))){t.next=17;break}return L=""===g.replace(/<img[^>]*>/g,"").trim(),t.next=17,Promise.all((0,n.Z)(k).map((function(t){return new Promise((function(r){return t.addEventListener("load",(function(){if(t.style.display="flex",t.style.flexDirection="column",L){var e=(0,o.c)().fontSize?(0,o.c)().fontSize:window.getComputedStyle(document.body).fontSize;t.style.width=5*parseInt(e,10)+"px"}else t.style.width="100%";r(t)}))}))})));case 17:b=m.getBoundingClientRect(),v.attr("width",b.width),v.attr("height",b.height);case 20:return h?f.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"):f.attr("transform","translate(0, "+-b.height/2+")"),e.centerLabel&&f.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),f.insert("rect",":first-child"),t.abrupt("return",{shapeSvg:p,bbox:b,halfPadding:w,label:f});case 24:case"end":return t.stop()}}),t)})));return function(r,e,a,n){return t.apply(this,arguments)}}(),g=function(t,r){var e=r.node().getBBox();t.width=e.width,t.height=e.height};function y(t,r,e,a){return t.insert("polygon",":first-child").attr("points",a.map((function(t){return t.x+","+t.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-r/2+","+e/2+")")}function x(t,r,e,a){var n=t.x,i=t.y,s=n-a.x,o=i-a.y,l=Math.sqrt(r*r*o*o+e*e*s*s),d=Math.abs(r*e*s/l);a.x<n&&(d=-d);var c=Math.abs(r*e*o/l);return a.y<i&&(c=-c),{x:n+d,y:i+c}}function b(t,r,e,a){var n,i,s,o,l,d,c,h,p,u,f,g,y;if(n=r.y-t.y,s=t.x-r.x,l=r.x*t.y-t.x*r.y,p=n*e.x+s*e.y+l,u=n*a.x+s*a.y+l,(0===p||0===u||!w(p,u))&&(i=a.y-e.y,o=e.x-a.x,d=a.x*e.y-e.x*a.y,c=i*t.x+o*t.y+d,h=i*r.x+o*r.y+d,(0===c||0===h||!w(c,h))&&0!==(f=n*o-i*s)))return g=Math.abs(f/2),{x:(y=s*d-o*l)<0?(y-g)/f:(y+g)/f,y:(y=i*l-n*d)<0?(y-g)/f:(y+g)/f}}function w(t,r){return t*r>0}var m=function(t,r){var e,a,n=t.x,i=t.y,s=r.x-n,o=r.y-i,l=t.width/2,d=t.height/2;return Math.abs(o)*l>Math.abs(s)*d?(o<0&&(d=-d),e=0===o?0:d*s/o,a=d):(s<0&&(l=-l),e=l,a=0===s?0:l*o/s),{x:n+e,y:i+a}},v={node:function(t,r){return t.intersect(r)},circle:function(t,r,e){return x(t,r,r,e)},ellipse:x,polygon:function(t,r,e){var a=t.x,n=t.y,i=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;"function"===typeof r.forEach?r.forEach((function(t){s=Math.min(s,t.x),o=Math.min(o,t.y)})):(s=Math.min(s,r.x),o=Math.min(o,r.y));for(var l=a-t.width/2-s,d=n-t.height/2-o,c=0;c<r.length;c++){var h=r[c],p=r[c<r.length-1?c+1:0],u=b(t,e,{x:l+h.x,y:d+h.y},{x:l+p.x,y:d+p.y});u&&i.push(u)}return i.length?(i.length>1&&i.sort((function(t,r){var a=t.x-e.x,n=t.y-e.y,i=Math.sqrt(a*a+n*n),s=r.x-e.x,o=r.y-e.y,l=Math.sqrt(s*s+o*o);return i<l?-1:i===l?0:1})),i[0]):t},rect:m},k=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,l,d;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.useHtmlLabels||(0,o.c)().flowchart.htmlLabels||(e.centerLabel=!0),t.next=4,f(r,e,"node "+e.classes,!0);case 4:return n=t.sent,i=n.shapeSvg,s=n.bbox,l=n.halfPadding,o.l.info("Classes = ",e.classes),(d=i.insert("rect",":first-child")).attr("rx",e.rx).attr("ry",e.ry).attr("x",-s.width/2-l).attr("y",-s.height/2-l).attr("width",s.width+e.padding).attr("height",s.height+e.padding),g(e,d),e.intersect=function(t){return v.rect(e,t)},t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),L=k,S=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,l,d,c,h,p;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,l=s.width+e.padding,d=s.height+e.padding,h=[{x:(c=l+d)/2,y:0},{x:c,y:-c/2},{x:c/2,y:-c},{x:0,y:-c/2}],o.l.info("Question main (Circle)"),(p=y(i,c,c,h)).attr("style",e.style),g(e,p),e.intersect=function(t){return o.l.warn("Intersect called"),v.polygon(e,h,t)},t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),Z=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,l,d,c,h;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,4,o=s.height+e.padding,l=o/4,d=s.width+2*l+e.padding,(h=y(i,d,o,c=[{x:l,y:0},{x:d-l,y:0},{x:d,y:-o/2},{x:d-l,y:-o},{x:l,y:-o},{x:0,y:-o/2}])).attr("style",e.style),g(e,h),e.intersect=function(t){return v.polygon(e,c,t)},t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),M=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,l,d;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,l=s.height+e.padding,y(i,o,l,d=[{x:-l/2,y:0},{x:o,y:0},{x:o,y:-l},{x:-l/2,y:-l},{x:0,y:-l/2}]).attr("style",e.style),e.width=o+l,e.height=l,e.intersect=function(t){return v.polygon(e,d,t)},t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),T=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,l,d,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,l=s.height+e.padding,(c=y(i,o,l,d=[{x:-2*l/6,y:0},{x:o-l/6,y:0},{x:o+2*l/6,y:-l},{x:l/6,y:-l}])).attr("style",e.style),g(e,c),e.intersect=function(t){return v.polygon(e,d,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),B=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,l,d,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,l=s.height+e.padding,(c=y(i,o,l,d=[{x:2*l/6,y:0},{x:o+l/6,y:0},{x:o-2*l/6,y:-l},{x:-l/6,y:-l}])).attr("style",e.style),g(e,c),e.intersect=function(t){return v.polygon(e,d,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),E=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,l,d,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,l=s.height+e.padding,(c=y(i,o,l,d=[{x:-2*l/6,y:0},{x:o+2*l/6,y:0},{x:o-l/6,y:-l},{x:l/6,y:-l}])).attr("style",e.style),g(e,c),e.intersect=function(t){return v.polygon(e,d,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),C=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,l,d,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,l=s.height+e.padding,(c=y(i,o,l,d=[{x:l/6,y:0},{x:o-l/6,y:0},{x:o+2*l/6,y:-l},{x:-2*l/6,y:-l}])).attr("style",e.style),g(e,c),e.intersect=function(t){return v.polygon(e,d,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),P=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,l,d,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,l=s.height+e.padding,(c=y(i,o,l,d=[{x:0,y:0},{x:o+l/2,y:0},{x:o,y:-l/2},{x:o+l/2,y:-l},{x:0,y:-l}])).attr("style",e.style),g(e,c),e.intersect=function(t){return v.polygon(e,d,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),N=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,l,d,c,h,p;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,d=(l=o/2)/(2.5+o/50),c=s.height+d+e.padding,h="M 0,"+d+" a "+l+","+d+" 0,0,0 "+o+" 0 a "+l+","+d+" 0,0,0 "+-o+" 0 l 0,"+c+" a "+l+","+d+" 0,0,0 "+o+" 0 l 0,"+-c,p=i.attr("label-offset-y",d).insert("path",":first-child").attr("style",e.style).attr("d",h).attr("transform","translate("+-o/2+","+-(c/2+d)+")"),g(e,p),e.intersect=function(t){var r=v.rect(e,t),a=r.x-e.x;if(0!=l&&(Math.abs(a)<e.width/2||Math.abs(a)==e.width/2&&Math.abs(r.y-e.y)>e.height/2-d)){var n=d*d*(1-a*a/(l*l));0!=n&&(n=Math.sqrt(n)),n=d-n,t.y-e.y>0&&(n=-n),r.y+=n}return r},t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),Y=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,l,d,c,h,p;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,"node "+e.classes,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,l=n.halfPadding,d=i.insert("rect",":first-child"),c=s.width+e.padding,h=s.height+e.padding,d.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-s.width/2-l).attr("y",-s.height/2-l).attr("width",c).attr("height",h),e.props&&(p=new Set(Object.keys(e.props)),e.props.borders&&(_(d,e.props.borders,c,h),p.delete("borders")),p.forEach((function(t){o.l.warn("Unknown node property ".concat(t))}))),g(e,d),e.intersect=function(t){return v.rect(e,t)},t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),H=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,l;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,"label",!0);case 2:return n=t.sent,i=n.shapeSvg,o.l.trace("Classes = ",e.classes),s=i.insert("rect",":first-child"),0,0,s.attr("width",0).attr("height",0),i.attr("class","label edgeLabel"),e.props&&(l=new Set(Object.keys(e.props)),e.props.borders&&(_(s,e.props.borders,0,0),l.delete("borders")),l.forEach((function(t){o.l.warn("Unknown node property ".concat(t))}))),g(e,s),e.intersect=function(t){return v.rect(e,t)},t.abrupt("return",i);case 14:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}();function _(t,r,e,a){var n=[],i=function(t){n.push(t,0)},s=function(t){n.push(0,t)};r.includes("t")?(o.l.debug("add top border"),i(e)):s(e),r.includes("r")?(o.l.debug("add right border"),i(a)):s(a),r.includes("b")?(o.l.debug("add bottom border"),i(e)):s(e),r.includes("l")?(o.l.debug("add left border"),i(a)):s(a),t.attr("stroke-dasharray",n.join(" "))}var R=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,l,d;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.height+e.padding,l=s.width+o/4+e.padding,d=i.insert("rect",":first-child").attr("style",e.style).attr("rx",o/2).attr("ry",o/2).attr("x",-l/2).attr("y",-o/2).attr("width",l).attr("height",o),g(e,d),e.intersect=function(t){return v.rect(e,t)},t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),I=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,l,d;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,l=n.halfPadding,(d=i.insert("circle",":first-child")).attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",s.width/2+l).attr("width",s.width+e.padding).attr("height",s.height+e.padding),o.l.info("Circle main"),g(e,d),e.intersect=function(t){return o.l.info("Circle intersect",e,s.width/2+l,t),v.circle(e,s.width/2+l,t)},t.abrupt("return",i);case 12:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),O=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,l,d,c,h;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,l=n.halfPadding,5,d=i.insert("g",":first-child"),c=d.insert("circle"),h=d.insert("circle"),d.attr("class",e.class),c.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",s.width/2+l+5).attr("width",s.width+e.padding+10).attr("height",s.height+e.padding+10),h.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",s.width/2+l).attr("width",s.width+e.padding).attr("height",s.height+e.padding),o.l.info("DoubleCircle main"),g(e,c),e.intersect=function(t){return o.l.info("DoubleCircle intersect",e,s.width/2+l+5,t),v.circle(e,s.width/2+l+5,t)},t.abrupt("return",i);case 17:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),W=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e){var n,i,s,o,l,d,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r,e,void 0,!0);case 2:return n=t.sent,i=n.shapeSvg,s=n.bbox,o=s.width+e.padding,l=s.height+e.padding,(c=y(i,o,l,d=[{x:0,y:0},{x:o,y:0},{x:o,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-l},{x:-8,y:-l},{x:-8,y:0}])).attr("style",e.style),g(e,c),e.intersect=function(t){return v.polygon(e,d,t)},t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})));return function(r,e){return t.apply(this,arguments)}}(),A=function(t,r,e){var a=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),n=70,i=10;"LR"===e&&(n=10,i=70);var s=a.append("rect").attr("x",-1*n/2).attr("y",-1*i/2).attr("width",n).attr("height",i).attr("class","fork-join");return g(r,s),r.height=r.height+r.padding/2,r.width=r.width+r.padding/2,r.intersect=function(t){return v.rect(r,t)},a},D={rhombus:S,question:S,rect:Y,labelRect:H,rectWithTitle:function(t,r){var e;e=r.classes?"node "+r.classes:"node default";var a=t.insert("g").attr("class",e).attr("id",r.domId||r.id),n=a.insert("rect",":first-child"),i=a.insert("line"),s=a.insert("g").attr("class","label"),d=r.labelText.flat?r.labelText.flat():r.labelText,c="";c="object"===typeof d?d[0]:d,o.l.info("Label text abc79",c,d,"object"===typeof d);var h=s.node().appendChild(u(c,r.labelStyle,!0,!0)),p={width:0,height:0};if((0,o.n)((0,o.c)().flowchart.htmlLabels)){var f=h.children[0],y=(0,l.Ys)(h);p=f.getBoundingClientRect(),y.attr("width",p.width),y.attr("height",p.height)}o.l.info("Text 2",d);var x=d.slice(1,d.length),b=h.getBBox(),w=s.node().appendChild(u(x.join?x.join("<br/>"):x,r.labelStyle,!0,!0));if((0,o.n)((0,o.c)().flowchart.htmlLabels)){var m=w.children[0],k=(0,l.Ys)(w);p=m.getBoundingClientRect(),k.attr("width",p.width),k.attr("height",p.height)}var L=r.padding/2;return(0,l.Ys)(w).attr("transform","translate( "+(p.width>b.width?0:(b.width-p.width)/2)+", "+(b.height+L+5)+")"),(0,l.Ys)(h).attr("transform","translate( "+(p.width<b.width?0:-(b.width-p.width)/2)+", 0)"),p=s.node().getBBox(),s.attr("transform","translate("+-p.width/2+", "+(-p.height/2-L+3)+")"),n.attr("class","outer title-state").attr("x",-p.width/2-L).attr("y",-p.height/2-L).attr("width",p.width+r.padding).attr("height",p.height+r.padding),i.attr("class","divider").attr("x1",-p.width/2-L).attr("x2",p.width/2+L).attr("y1",-p.height/2-L+b.height+L).attr("y2",-p.height/2-L+b.height+L),g(r,n),r.intersect=function(t){return v.rect(r,t)},a},choice:function(t,r){var e=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),a=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}];return e.insert("polygon",":first-child").attr("points",a.map((function(t){return t.x+","+t.y})).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),r.width=28,r.height=28,r.intersect=function(t){return v.circle(r,14,t)},e},circle:I,doublecircle:O,stadium:R,hexagon:Z,rect_left_inv_arrow:M,lean_right:T,lean_left:B,trapezoid:E,inv_trapezoid:C,rect_right_inv_arrow:P,cylinder:N,start:function(t,r){var e=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),a=e.insert("circle",":first-child");return a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),g(r,a),r.intersect=function(t){return v.circle(r,7,t)},e},end:function(t,r){var e=t.insert("g").attr("class","node default").attr("id",r.domId||r.id),a=e.insert("circle",":first-child"),n=e.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),a.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),g(r,n),r.intersect=function(t){return v.circle(r,7,t)},e},note:L,subroutine:W,fork:A,join:A,class_box:function(t,r){var e,a=r.padding/2;e=r.classes?"node "+r.classes:"node default";var n=t.insert("g").attr("class",e).attr("id",r.domId||r.id),i=n.insert("rect",":first-child"),s=n.insert("line"),d=n.insert("line"),h=0,p=4,f=n.insert("g").attr("class","label"),y=0,x=r.classData.annotations&&r.classData.annotations[0],b=r.classData.annotations[0]?"\xab"+r.classData.annotations[0]+"\xbb":"",w=f.node().appendChild(u(b,r.labelStyle,!0,!0)),m=w.getBBox();if((0,o.n)((0,o.c)().flowchart.htmlLabels)){var k=w.children[0],L=(0,l.Ys)(w);m=k.getBoundingClientRect(),L.attr("width",m.width),L.attr("height",m.height)}r.classData.annotations[0]&&(p+=m.height+4,h+=m.width);var S=r.classData.label;void 0!==r.classData.type&&""!==r.classData.type&&((0,o.c)().flowchart.htmlLabels?S+="&lt;"+r.classData.type+"&gt;":S+="<"+r.classData.type+">");var Z=f.node().appendChild(u(S,r.labelStyle,!0,!0));(0,l.Ys)(Z).attr("class","classTitle");var M=Z.getBBox();if((0,o.n)((0,o.c)().flowchart.htmlLabels)){var T=Z.children[0],B=(0,l.Ys)(Z);M=T.getBoundingClientRect(),B.attr("width",M.width),B.attr("height",M.height)}p+=M.height+4,M.width>h&&(h=M.width);var E=[];r.classData.members.forEach((function(t){var e=(0,c.p)(t),a=e.displayText;(0,o.c)().flowchart.htmlLabels&&(a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var n=f.node().appendChild(u(a,e.cssStyle?e.cssStyle:r.labelStyle,!0,!0)),i=n.getBBox();if((0,o.n)((0,o.c)().flowchart.htmlLabels)){var s=n.children[0],d=(0,l.Ys)(n);i=s.getBoundingClientRect(),d.attr("width",i.width),d.attr("height",i.height)}i.width>h&&(h=i.width),p+=i.height+4,E.push(n)})),p+=8;var C=[];if(r.classData.methods.forEach((function(t){var e=(0,c.p)(t),a=e.displayText;(0,o.c)().flowchart.htmlLabels&&(a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var n=f.node().appendChild(u(a,e.cssStyle?e.cssStyle:r.labelStyle,!0,!0)),i=n.getBBox();if((0,o.n)((0,o.c)().flowchart.htmlLabels)){var s=n.children[0],d=(0,l.Ys)(n);i=s.getBoundingClientRect(),d.attr("width",i.width),d.attr("height",i.height)}i.width>h&&(h=i.width),p+=i.height+4,C.push(n)})),p+=8,x){var P=(h-m.width)/2;(0,l.Ys)(w).attr("transform","translate( "+(-1*h/2+P)+", "+-1*p/2+")"),y=m.height+4}var N=(h-M.width)/2;return(0,l.Ys)(Z).attr("transform","translate( "+(-1*h/2+N)+", "+(-1*p/2+y)+")"),y+=M.height+4,s.attr("class","divider").attr("x1",-h/2-a).attr("x2",h/2+a).attr("y1",-p/2-a+8+y).attr("y2",-p/2-a+8+y),y+=8,E.forEach((function(t){(0,l.Ys)(t).attr("transform","translate( "+-h/2+", "+(-1*p/2+y+4)+")"),y+=M.height+4})),y+=8,d.attr("class","divider").attr("x1",-h/2-a).attr("x2",h/2+a).attr("y1",-p/2-a+8+y).attr("y2",-p/2-a+8+y),y+=8,C.forEach((function(t){(0,l.Ys)(t).attr("transform","translate( "+-h/2+", "+(-1*p/2+y)+")"),y+=M.height+4})),i.attr("class","outer title-state").attr("x",-h/2-a).attr("y",-p/2-a).attr("width",h+r.padding).attr("height",p+r.padding),g(r,i),r.intersect=function(t){return v.rect(r,t)},n}},X={},j=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r,e,n){var i,s,l;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.link){t.next=8;break}return"sandbox"===(0,o.c)().securityLevel?l="_top":e.linkTarget&&(l=e.linkTarget||"_blank"),i=r.insert("svg:a").attr("xlink:href",e.link).attr("target",l),t.next=5,D[e.shape](i,e,n);case 5:s=t.sent,t.next=12;break;case 8:return t.next=10,D[e.shape](r,e,n);case 10:s=t.sent,i=s;case 12:return e.tooltip&&s.attr("title",e.tooltip),e.class&&s.attr("class","node default "+e.class),X[e.id]=i,e.haveCallback&&X[e.id].attr("class",X[e.id].attr("class")+" clickable"),t.abrupt("return",i);case 17:case"end":return t.stop()}}),t)})));return function(r,e,a){return t.apply(this,arguments)}}(),U=function(t,r){X[r.id]=t},z=function(){X={}},q=function(t){var r=X[t.id];o.l.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");var e=t.diff||0;return t.clusterNode?r.attr("transform","translate("+(t.x+e-t.width/2)+", "+(t.y-t.height/2-8)+")"):r.attr("transform","translate("+t.x+", "+t.y+")"),e},J={},G={},V=function(){J={},G={}},Q=function(t,r){var e=(0,o.n)((0,o.c)().flowchart.htmlLabels),a="markdown"===r.labelType?(0,d.c)(t,r.label,{style:r.labelStyle,useHtmlLabels:e,addSvgBackground:!0}):u(r.label,r.labelStyle);o.l.info("abc82",r,r.labelType);var n=t.insert("g").attr("class","edgeLabel"),i=n.insert("g").attr("class","label");i.node().appendChild(a);var s,c=a.getBBox();if(e){var h=a.children[0],p=(0,l.Ys)(a);c=h.getBoundingClientRect(),p.attr("width",c.width),p.attr("height",c.height)}if(i.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),J[r.id]=n,r.width=c.width,r.height=c.height,r.startLabelLeft){var f=u(r.startLabelLeft,r.labelStyle),g=t.insert("g").attr("class","edgeTerminals"),y=g.insert("g").attr("class","inner");s=y.node().appendChild(f);var x=f.getBBox();y.attr("transform","translate("+-x.width/2+", "+-x.height/2+")"),G[r.id]||(G[r.id]={}),G[r.id].startLeft=g,$(s,r.startLabelLeft)}if(r.startLabelRight){var b=u(r.startLabelRight,r.labelStyle),w=t.insert("g").attr("class","edgeTerminals"),m=w.insert("g").attr("class","inner");s=w.node().appendChild(b),m.node().appendChild(b);var v=b.getBBox();m.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),G[r.id]||(G[r.id]={}),G[r.id].startRight=w,$(s,r.startLabelRight)}if(r.endLabelLeft){var k=u(r.endLabelLeft,r.labelStyle),L=t.insert("g").attr("class","edgeTerminals"),S=L.insert("g").attr("class","inner");s=S.node().appendChild(k);var Z=k.getBBox();S.attr("transform","translate("+-Z.width/2+", "+-Z.height/2+")"),L.node().appendChild(k),G[r.id]||(G[r.id]={}),G[r.id].endLeft=L,$(s,r.endLabelLeft)}if(r.endLabelRight){var M=u(r.endLabelRight,r.labelStyle),T=t.insert("g").attr("class","edgeTerminals"),B=T.insert("g").attr("class","inner");s=B.node().appendChild(M);var E=M.getBBox();B.attr("transform","translate("+-E.width/2+", "+-E.height/2+")"),T.node().appendChild(M),G[r.id]||(G[r.id]={}),G[r.id].endRight=T,$(s,r.endLabelRight)}return a};function $(t,r){(0,o.c)().flowchart.htmlLabels&&t&&(t.style.width=9*r.length+"px",t.style.height="12px")}var F=function(t,r){o.l.info("Moving label abc78 ",t.id,t.label,J[t.id]);var e=r.updatedPath?r.updatedPath:r.originalPath;if(t.label){var a=J[t.id],n=t.x,i=t.y;if(e){var s=o.u.calcLabelPosition(e);o.l.info("Moving label "+t.label+" from (",n,",",i,") to (",s.x,",",s.y,") abc78"),r.updatedPath&&(n=s.x,i=s.y)}a.attr("transform","translate("+n+", "+i+")")}if(t.startLabelLeft){var l=G[t.id].startLeft,d=t.x,c=t.y;if(e){var h=o.u.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",e);d=h.x,c=h.y}l.attr("transform","translate("+d+", "+c+")")}if(t.startLabelRight){var p=G[t.id].startRight,u=t.x,f=t.y;if(e){var g=o.u.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",e);u=g.x,f=g.y}p.attr("transform","translate("+u+", "+f+")")}if(t.endLabelLeft){var y=G[t.id].endLeft,x=t.x,b=t.y;if(e){var w=o.u.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",e);x=w.x,b=w.y}y.attr("transform","translate("+x+", "+b+")")}if(t.endLabelRight){var m=G[t.id].endRight,v=t.x,k=t.y;if(e){var L=o.u.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",e);v=L.x,k=L.y}m.attr("transform","translate("+v+", "+k+")")}},K=function(t,r){o.l.warn("abc88 cutPathAtIntersect",t,r);var e=[],a=t[0],n=!1;return t.forEach((function(t){if(o.l.info("abc88 checking point",t,r),function(t,r){var e=t.x,a=t.y,n=Math.abs(r.x-e),i=Math.abs(r.y-a),s=t.width/2,o=t.height/2;return n>=s||i>=o}(r,t)||n)o.l.warn("abc88 outside",t,a),a=t,n||e.push(t);else{var i=function(t,r,e){o.l.warn("intersection calc abc89:\n  outsidePoint: ".concat(JSON.stringify(r),"\n  insidePoint : ").concat(JSON.stringify(e),"\n  node        : x:").concat(t.x," y:").concat(t.y," w:").concat(t.width," h:").concat(t.height));var a=t.x,n=t.y,i=Math.abs(a-e.x),s=t.width/2,l=e.x<r.x?s-i:s+i,d=t.height/2,c=Math.abs(r.y-e.y),h=Math.abs(r.x-e.x);if(Math.abs(n-r.y)*s>Math.abs(a-r.x)*d){var p=e.y<r.y?r.y-d-n:n-d-r.y;l=h*p/c;var u={x:e.x<r.x?e.x+l:e.x-h+l,y:e.y<r.y?e.y+c-p:e.y-c+p};return 0===l&&(u.x=r.x,u.y=r.y),0===h&&(u.x=r.x),0===c&&(u.y=r.y),o.l.warn("abc89 topp/bott calc, Q ".concat(c,", q ").concat(p,", R ").concat(h,", r ").concat(l),u),u}var f=c*(l=e.x<r.x?r.x-s-a:a-s-r.x)/h,g=e.x<r.x?e.x+h-l:e.x-h+l,y=e.y<r.y?e.y+f:e.y-f;return o.l.warn("sides calc abc89, Q ".concat(c,", q ").concat(f,", R ").concat(h,", r ").concat(l),{_x:g,_y:y}),0===l&&(g=r.x,y=r.y),0===h&&(g=r.x),0===c&&(y=r.y),{x:g,y:y}}(r,a,t);o.l.warn("abc88 inside",t,a,i),o.l.warn("abc88 intersection",i);var s=!1;e.forEach((function(t){s=s||t.x===i.x&&t.y===i.y})),e.some((function(t){return t.x===i.x&&t.y===i.y}))?o.l.warn("abc88 no intersect",i,e):e.push(i),n=!0}})),o.l.warn("abc88 returning points",e),e},tt=function(t,r,e,a,n,i){var s=e.points,d=!1,c=i.node(r.v),h=i.node(r.w);o.l.info("abc88 InsertEdge: ",e),h.intersect&&c.intersect&&((s=s.slice(1,e.points.length-1)).unshift(c.intersect(s[0])),o.l.info("Last point",s[s.length-1],h,h.intersect(s[s.length-1])),s.push(h.intersect(s[s.length-1]))),e.toCluster&&(o.l.info("to cluster abc88",a[e.toCluster]),s=K(e.points,a[e.toCluster].node),d=!0),e.fromCluster&&(o.l.info("from cluster abc88",a[e.fromCluster]),s=K(s.reverse(),a[e.fromCluster].node).reverse(),d=!0);var p,u=s.filter((function(t){return!Number.isNaN(t.y)}));p=("graph"===n||"flowchart"===n)&&e.curve||l.$0Z;var f,g=(0,l.jvg)().x((function(t){return t.x})).y((function(t){return t.y})).curve(p);switch(e.thickness){case"normal":f="edge-thickness-normal";break;case"thick":case"invisible":f="edge-thickness-thick";break;default:f=""}switch(e.pattern){case"solid":f+=" edge-pattern-solid";break;case"dotted":f+=" edge-pattern-dotted";break;case"dashed":f+=" edge-pattern-dashed"}var y=t.append("path").attr("d",g(u)).attr("id",e.id).attr("class"," "+f+(e.classes?" "+e.classes:"")).attr("style",e.style),x="";switch(((0,o.c)().flowchart.arrowMarkerAbsolute||(0,o.c)().state.arrowMarkerAbsolute)&&(x=(x=(x=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),o.l.info("arrowTypeStart",e.arrowTypeStart),o.l.info("arrowTypeEnd",e.arrowTypeEnd),e.arrowTypeStart){case"arrow_cross":y.attr("marker-start","url("+x+"#"+n+"-crossStart)");break;case"arrow_point":y.attr("marker-start","url("+x+"#"+n+"-pointStart)");break;case"arrow_barb":y.attr("marker-start","url("+x+"#"+n+"-barbStart)");break;case"arrow_circle":y.attr("marker-start","url("+x+"#"+n+"-circleStart)");break;case"aggregation":y.attr("marker-start","url("+x+"#"+n+"-aggregationStart)");break;case"extension":y.attr("marker-start","url("+x+"#"+n+"-extensionStart)");break;case"composition":y.attr("marker-start","url("+x+"#"+n+"-compositionStart)");break;case"dependency":y.attr("marker-start","url("+x+"#"+n+"-dependencyStart)");break;case"lollipop":y.attr("marker-start","url("+x+"#"+n+"-lollipopStart)")}switch(e.arrowTypeEnd){case"arrow_cross":y.attr("marker-end","url("+x+"#"+n+"-crossEnd)");break;case"arrow_point":y.attr("marker-end","url("+x+"#"+n+"-pointEnd)");break;case"arrow_barb":y.attr("marker-end","url("+x+"#"+n+"-barbEnd)");break;case"arrow_circle":y.attr("marker-end","url("+x+"#"+n+"-circleEnd)");break;case"aggregation":y.attr("marker-end","url("+x+"#"+n+"-aggregationEnd)");break;case"extension":y.attr("marker-end","url("+x+"#"+n+"-extensionEnd)");break;case"composition":y.attr("marker-end","url("+x+"#"+n+"-compositionEnd)");break;case"dependency":y.attr("marker-end","url("+x+"#"+n+"-dependencyEnd)");break;case"lollipop":y.attr("marker-end","url("+x+"#"+n+"-lollipopEnd)")}var b={};return d&&(b.updatedPath=s),b.originalPath=e.points,b}},4855:function(t,r,e){e.d(r,{p:function(){return o},s:function(){return c}});var a=e(8225),n=e(366),i=0,s=function(t){var r=t.id;return t.type&&(r+="<"+t.type+">"),r},o=function(t){var r="",e="",a="",i="",s=t.substring(0,1),o=t.substring(t.length-1,t.length);s.match(/[#+~-]/)&&(i=s);var l=/[\s\w)~]/;o.match(l)||(e=d(o));var c=""===i?0:1,h=""===e?t.length:t.length-1,p=(t=t.substring(c,h)).indexOf("("),u=t.indexOf(")");if(p>1&&u>p&&u<=t.length){var f=t.substring(0,p).trim(),g=t.substring(p+1,u);if(r=i+f+"("+(0,n.x)(g.trim())+")",u<t.length){var y=t.substring(u+1,u+2);""!==e||y.match(l)?a=t.substring(u+1).trim():(e=d(y),a=t.substring(u+2).trim()),""!==a&&(":"===a.charAt(0)&&(a=a.substring(1).trim()),r+=a=" : "+(0,n.x)(a))}}else r=i+(0,n.x)(t);return{displayText:r,cssStyle:e}},l=function(t,r,e,a){var n=o(r),i=t.append("tspan").attr("x",a.padding).text(n.displayText);""!==n.cssStyle&&i.attr("style",n.cssStyle),e||i.attr("dy",a.textHeight)},d=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},c={getClassTitleString:s,drawClass:function(t,r,e,a){n.l.debug("Rendering class ",r,e);var i,o=r.id,d={id:o,label:r.id,width:0,height:0},c=t.append("g").attr("id",a.db.lookUpDomId(o)).attr("class","classGroup");i=r.link?c.append("svg:a").attr("xlink:href",r.link).attr("target",r.linkTarget).append("text").attr("y",e.textHeight+e.padding).attr("x",0):c.append("text").attr("y",e.textHeight+e.padding).attr("x",0);var h=!0;r.annotations.forEach((function(t){var r=i.append("tspan").text("\xab"+t+"\xbb");h||r.attr("dy",e.textHeight),h=!1}));var p=s(r),u=i.append("tspan").text(p).attr("class","title");h||u.attr("dy",e.textHeight);var f=i.node().getBBox().height,g=c.append("line").attr("x1",0).attr("y1",e.padding+f+e.dividerMargin/2).attr("y2",e.padding+f+e.dividerMargin/2),y=c.append("text").attr("x",e.padding).attr("y",f+e.dividerMargin+e.textHeight).attr("fill","white").attr("class","classText");h=!0,r.members.forEach((function(t){l(y,t,h,e),h=!1}));var x=y.node().getBBox(),b=c.append("line").attr("x1",0).attr("y1",e.padding+f+e.dividerMargin+x.height).attr("y2",e.padding+f+e.dividerMargin+x.height),w=c.append("text").attr("x",e.padding).attr("y",f+2*e.dividerMargin+x.height+e.textHeight).attr("fill","white").attr("class","classText");h=!0,r.methods.forEach((function(t){l(w,t,h,e),h=!1}));var m=c.node().getBBox(),v=" ";r.cssClasses.length>0&&(v+=r.cssClasses.join(" "));var k=c.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",m.width+2*e.padding).attr("height",m.height+e.padding+.5*e.dividerMargin).attr("class",v).node().getBBox().width;return i.node().childNodes.forEach((function(t){t.setAttribute("x",(k-t.getBBox().width)/2)})),r.tooltip&&i.insert("title").text(r.tooltip),g.attr("x2",k),b.attr("x2",k),d.width=k,d.height=m.height+e.padding+.5*e.dividerMargin,d},drawEdge:function(t,r,e,s,o){var l=function(t){switch(t){case o.db.relationType.AGGREGATION:return"aggregation";case o.db.relationType.EXTENSION:return"extension";case o.db.relationType.COMPOSITION:return"composition";case o.db.relationType.DEPENDENCY:return"dependency";case o.db.relationType.LOLLIPOP:return"lollipop"}};r.points=r.points.filter((function(t){return!Number.isNaN(t.y)}));var d,c,h=r.points,p=(0,a.jvg)().x((function(t){return t.x})).y((function(t){return t.y})).curve(a.$0Z),u=t.append("path").attr("d",p(h)).attr("id","edge"+i).attr("class","relation"),f="";s.arrowMarkerAbsolute&&(f=(f=(f=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==e.relation.lineType&&u.attr("class","relation dashed-line"),10==e.relation.lineType&&u.attr("class","relation dotted-line"),"none"!==e.relation.type1&&u.attr("marker-start","url("+f+"#"+l(e.relation.type1)+"Start)"),"none"!==e.relation.type2&&u.attr("marker-end","url("+f+"#"+l(e.relation.type2)+"End)");var g,y,x,b,w=r.points.length,m=n.u.calcLabelPosition(r.points);if(d=m.x,c=m.y,w%2!==0&&w>1){var v=n.u.calcCardinalityPosition("none"!==e.relation.type1,r.points,r.points[0]),k=n.u.calcCardinalityPosition("none"!==e.relation.type2,r.points,r.points[w-1]);n.l.debug("cardinality_1_point "+JSON.stringify(v)),n.l.debug("cardinality_2_point "+JSON.stringify(k)),g=v.x,y=v.y,x=k.x,b=k.y}if(void 0!==e.title){var L=t.append("g").attr("class","classLabel"),S=L.append("text").attr("class","label").attr("x",d).attr("y",c).attr("fill","red").attr("text-anchor","middle").text(e.title);window.label=S;var Z=S.node().getBBox();L.insert("rect",":first-child").attr("class","box").attr("x",Z.x-s.padding/2).attr("y",Z.y-s.padding/2).attr("width",Z.width+s.padding).attr("height",Z.height+s.padding)}(n.l.info("Rendering relation "+JSON.stringify(e)),void 0!==e.relationTitle1&&"none"!==e.relationTitle1)&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",g).attr("y",y).attr("fill","black").attr("font-size","6").text(e.relationTitle1);void 0!==e.relationTitle2&&"none"!==e.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",x).attr("y",b).attr("fill","black").attr("font-size","6").text(e.relationTitle2);i++},drawNote:function(t,r,e,a){n.l.debug("Rendering note ",r,e);var i=r.id,s={id:i,text:r.text,width:0,height:0},o=t.append("g").attr("id",i).attr("class","classGroup"),l=o.append("text").attr("y",e.textHeight+e.padding).attr("x",0),d=JSON.parse('"'.concat(r.text,'"')).split("\n");d.forEach((function(t){n.l.debug("Adding line: ".concat(t)),l.append("tspan").text(t).attr("class","title").attr("dy",e.textHeight)}));var c=o.node().getBBox(),h=o.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",c.width+2*e.padding).attr("height",c.height+d.length*e.textHeight+e.padding+.5*e.dividerMargin).node().getBBox().width;return l.node().childNodes.forEach((function(t){t.setAttribute("x",(h-t.getBBox().width)/2)})),s.width=h,s.height=c.height+d.length*e.textHeight+e.padding+.5*e.dividerMargin,s},parseMember:o}}}]);
//# sourceMappingURL=667.0ef1397f.chunk.js.map